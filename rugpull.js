let ascensionLevel=0,rugpullCurrency=0,lastShownMilestoneEarnings=0,lifetimeEarningsThisRugpull=0,lifetimeEarningsDisplay=0,rugpullButtonListenersAttached=!1,upgradeToggleState={auto_sell:!0},showRugpullConfirmation=!0,ascensionStats={totalRunsCompleted:0,currencyEarned:0,bestRunEarnings:0,totalGlobalBonus:0},permanentMilestoneDoublings={btcDoublings:{},ethDoublings:{},dogeDoublings:{}},metaUpgrades={power_capacity_1:{purchased:!1,cost:7500},miner_efficiency_1:{purchased:!1,cost:7500},staking_apy_1:{purchased:!1,cost:7500},miner_hashrate_1:{purchased:!1,cost:7500},click_hashrate_1:{purchased:!1,cost:7500},offline_earnings_1:{purchased:!1,cost:7500},earnings_boost_1:{purchased:!1,cost:7500},minigame_reward_1:{purchased:!1,cost:7500},token_generation_0:{purchased:!1,cost:7500},power_capacity_2:{purchased:!1,cost:11250},miner_efficiency_2:{purchased:!1,cost:11250},staking_apy_2:{purchased:!1,cost:11250},miner_hashrate_2:{purchased:!1,cost:11250},click_hashrate_2:{purchased:!1,cost:11250},offline_earnings_2:{purchased:!1,cost:11250},earnings_boost_2:{purchased:!1,cost:11250},minigame_reward_2:{purchased:!1,cost:11250},token_generation_1_alt:{purchased:!1,cost:11250},power_capacity_3:{purchased:!1,cost:16875},miner_efficiency_3:{purchased:!1,cost:16875},staking_apy_3:{purchased:!1,cost:16875},miner_hashrate_3:{purchased:!1,cost:16875},click_hashrate_3:{purchased:!1,cost:16875},offline_earnings_3:{purchased:!1,cost:16875},earnings_boost_3:{purchased:!1,cost:16875},minigame_reward_3:{purchased:!1,cost:16875},auto_sell:{purchased:!1,cost:16875},token_generation_2_alt:{purchased:!1,cost:16875},power_capacity_4:{purchased:!1,cost:25312},miner_efficiency_4:{purchased:!1,cost:25312},staking_apy_4:{purchased:!1,cost:25312},miner_hashrate_4:{purchased:!1,cost:25312},click_hashrate_4:{purchased:!1,cost:25312},offline_earnings_4:{purchased:!1,cost:25312},earnings_boost_4:{purchased:!1,cost:25312},minigame_reward_4:{purchased:!1,cost:25312},token_generation_3_alt:{purchased:!1,cost:25312},power_capacity_5:{purchased:!1,cost:37968},miner_efficiency_5:{purchased:!1,cost:37968},staking_apy_5:{purchased:!1,cost:37968},miner_hashrate_5:{purchased:!1,cost:37968},click_hashrate_5:{purchased:!1,cost:37968},offline_earnings_5:{purchased:!1,cost:37968},earnings_boost_5:{purchased:!1,cost:37968},minigame_reward_5:{purchased:!1,cost:37968},starter_miners_t4:{purchased:!1,cost:37968},starter_power_p3:{purchased:!1,cost:37968},token_generation_4_alt:{purchased:!1,cost:37968},power_capacity_6:{purchased:!1,cost:56953},miner_efficiency_6:{purchased:!1,cost:56953},staking_apy_6:{purchased:!1,cost:56953},miner_hashrate_6:{purchased:!1,cost:56953},click_hashrate_6:{purchased:!1,cost:56953},offline_earnings_6:{purchased:!1,cost:56953},earnings_boost_6:{purchased:!1,cost:56953},minigame_reward_6:{purchased:!1,cost:56953},starter_miners_t5:{purchased:!1,cost:56953},starter_power_p4:{purchased:!1,cost:56953},token_generation_t6:{purchased:!1,cost:56953},power_capacity_7:{purchased:!1,cost:85429},miner_efficiency_7:{purchased:!1,cost:85429},staking_apy_7:{purchased:!1,cost:85429},miner_hashrate_7:{purchased:!1,cost:85429},click_hashrate_7:{purchased:!1,cost:85429},offline_earnings_7:{purchased:!1,cost:85429},earnings_boost_7:{purchased:!1,cost:85429},minigame_reward_7:{purchased:!1,cost:85429},starter_miners_t6:{purchased:!1,cost:85429},starter_power_p5:{purchased:!1,cost:85429},minigame_unlock:{purchased:!1,cost:85429},token_generation_t7:{purchased:!1,cost:85429},power_capacity_8:{purchased:!1,cost:128144},miner_efficiency_8:{purchased:!1,cost:128144},staking_apy_8:{purchased:!1,cost:128144},miner_hashrate_8:{purchased:!1,cost:128144},click_hashrate_8:{purchased:!1,cost:128144},offline_earnings_8:{purchased:!1,cost:128144},earnings_boost_8:{purchased:!1,cost:128144},minigame_reward_8:{purchased:!1,cost:128144},starter_miners_t7:{purchased:!1,cost:128144},starter_power_p6:{purchased:!1,cost:128144},cash_multiplier:{purchased:!1,cost:128144},token_generation_t8:{purchased:!1,cost:128144},power_capacity_9:{purchased:!1,cost:192216},miner_efficiency_9:{purchased:!1,cost:192216},staking_apy_9:{purchased:!1,cost:192216},miner_hashrate_9:{purchased:!1,cost:192216},click_hashrate_9:{purchased:!1,cost:192216},offline_earnings_9:{purchased:!1,cost:192216},earnings_boost_9:{purchased:!1,cost:192216},minigame_reward_9:{purchased:!1,cost:192216},starter_miners_t8:{purchased:!1,cost:192216},starter_power_p7:{purchased:!1,cost:192216},token_generation_t9:{purchased:!1,cost:192216},power_capacity_10:{purchased:!1,cost:288324},miner_efficiency_10:{purchased:!1,cost:288324},staking_apy_10:{purchased:!1,cost:288324},miner_hashrate_10:{purchased:!1,cost:288324},click_hashrate_10:{purchased:!1,cost:288324},offline_earnings_10:{purchased:!1,cost:288324},earnings_boost_10:{purchased:!1,cost:288324},minigame_reward_10:{purchased:!1,cost:288324},starter_miners_t9:{purchased:!1,cost:288324},starter_power_p8:{purchased:!1,cost:288324},token_generation_t10:{purchased:!1,cost:288324},power_capacity_11:{purchased:!1,cost:432486},miner_efficiency_11:{purchased:!1,cost:432486},staking_apy_11:{purchased:!1,cost:432486},miner_hashrate_11:{purchased:!1,cost:432486},click_hashrate_11:{purchased:!1,cost:432486},offline_earnings_11:{purchased:!1,cost:432486},earnings_boost_11:{purchased:!1,cost:432486},minigame_reward_11:{purchased:!1,cost:432486},starter_miners_t10:{purchased:!1,cost:432486},starter_power_p9:{purchased:!1,cost:432486},token_generation_t11:{purchased:!1,cost:432486},power_capacity_12:{purchased:!1,cost:648729},miner_efficiency_12:{purchased:!1,cost:648729},staking_apy_12:{purchased:!1,cost:648729},miner_hashrate_12:{purchased:!1,cost:648729},click_hashrate_12:{purchased:!1,cost:648729},offline_earnings_12:{purchased:!1,cost:648729},earnings_boost_12:{purchased:!1,cost:648729},minigame_reward_12:{purchased:!1,cost:648729},starter_miners_t11:{purchased:!1,cost:648729},starter_power_p10:{purchased:!1,cost:648729},token_generation_t12:{purchased:!1,cost:648729},power_capacity_13:{purchased:!1,cost:973094},miner_efficiency_13:{purchased:!1,cost:973094},staking_apy_13:{purchased:!1,cost:973094},miner_hashrate_13:{purchased:!1,cost:973094},click_hashrate_13:{purchased:!1,cost:973094},offline_earnings_13:{purchased:!1,cost:973094},earnings_boost_13:{purchased:!1,cost:973094},minigame_reward_13:{purchased:!1,cost:973094},starter_miners_t12:{purchased:!1,cost:973094},starter_power_p11:{purchased:!1,cost:973094},token_generation_t13:{purchased:!1,cost:973094},power_capacity_14:{purchased:!1,cost:1459641},miner_efficiency_14:{purchased:!1,cost:1459641},staking_apy_14:{purchased:!1,cost:1459641},miner_hashrate_14:{purchased:!1,cost:1459641},click_hashrate_14:{purchased:!1,cost:1459641},offline_earnings_14:{purchased:!1,cost:1459641},earnings_boost_14:{purchased:!1,cost:1459641},minigame_reward_14:{purchased:!1,cost:1459641},starter_miners_t13:{purchased:!1,cost:1459641},starter_power_p12:{purchased:!1,cost:1459641},token_generation_t14:{purchased:!1,cost:1459641},power_capacity_15:{purchased:!1,cost:2189461},miner_efficiency_15:{purchased:!1,cost:2189461},staking_apy_15:{purchased:!1,cost:2189461},miner_hashrate_15:{purchased:!1,cost:2189461},click_hashrate_15:{purchased:!1,cost:2189461},offline_earnings_15:{purchased:!1,cost:2189461},earnings_boost_15:{purchased:!1,cost:2189461},minigame_reward_15:{purchased:!1,cost:2189461},starter_miners_t14:{purchased:!1,cost:2189461},token_generation_t15:{purchased:!1,cost:2189461},power_capacity_16:{purchased:!1,cost:3284192},miner_efficiency_16:{purchased:!1,cost:3284192},staking_apy_16:{purchased:!1,cost:3284192},miner_hashrate_16:{purchased:!1,cost:3284192},click_hashrate_16:{purchased:!1,cost:3284192},offline_earnings_16:{purchased:!1,cost:3284192},earnings_boost_16:{purchased:!1,cost:3284192},minigame_reward_16:{purchased:!1,cost:3284192},starter_miners_t15:{purchased:!1,cost:3284192},token_generation_t16:{purchased:!1,cost:3284192},power_capacity_17:{purchased:!1,cost:4926288},miner_efficiency_17:{purchased:!1,cost:4926288},staking_apy_17:{purchased:!1,cost:4926288},miner_hashrate_17:{purchased:!1,cost:4926288},click_hashrate_17:{purchased:!1,cost:4926288},offline_earnings_17:{purchased:!1,cost:4926288},earnings_boost_17:{purchased:!1,cost:4926288},minigame_reward_17:{purchased:!1,cost:4926288},starter_miners_t16:{purchased:!1,cost:4926288},token_generation_t17:{purchased:!1,cost:4926288},power_capacity_18:{purchased:!1,cost:7389432},miner_efficiency_18:{purchased:!1,cost:7389432},staking_apy_18:{purchased:!1,cost:7389432},miner_hashrate_18:{purchased:!1,cost:7389432},click_hashrate_18:{purchased:!1,cost:7389432},offline_earnings_18:{purchased:!1,cost:7389432},earnings_boost_18:{purchased:!1,cost:7389432},minigame_reward_18:{purchased:!1,cost:7389432},starter_miners_t17:{purchased:!1,cost:7389432},token_generation_t18:{purchased:!1,cost:7389432},power_capacity_19:{purchased:!1,cost:11084148},miner_efficiency_19:{purchased:!1,cost:11084148},staking_apy_19:{purchased:!1,cost:11084148},miner_hashrate_19:{purchased:!1,cost:11084148},click_hashrate_19:{purchased:!1,cost:11084148},offline_earnings_19:{purchased:!1,cost:11084148},earnings_boost_19:{purchased:!1,cost:11084148},minigame_reward_19:{purchased:!1,cost:11084148},starter_miners_t18:{purchased:!1,cost:11084148},token_generation_t19:{purchased:!1,cost:11084148},power_capacity_20:{purchased:!1,cost:16626222},miner_efficiency_20:{purchased:!1,cost:16626222},staking_apy_20:{purchased:!1,cost:16626222},miner_hashrate_20:{purchased:!1,cost:16626222},click_hashrate_20:{purchased:!1,cost:16626222},offline_earnings_20:{purchased:!1,cost:16626222},earnings_boost_20:{purchased:!1,cost:16626222},minigame_reward_20:{purchased:!1,cost:16626222},starter_miners_t19:{purchased:!1,cost:16626222},token_generation_t20:{purchased:!1,cost:16626222}},unlockedSystems={basicAscension:!0,advancedMetaUpgrades:!1,quantumBranch:!1,infinityGates:!1};function ensureMetaUpgradesInitialized(){const e={power_capacity_1:{purchased:!1,cost:10},miner_efficiency_1:{purchased:!1,cost:10},staking_apy_1:{purchased:!1,cost:10},miner_hashrate_1:{purchased:!1,cost:10},click_hashrate_1:{purchased:!1,cost:10},offline_earnings_1:{purchased:!1,cost:10},earnings_boost_1:{purchased:!1,cost:10},minigame_reward_1:{purchased:!1,cost:10},...Object.fromEntries(Object.keys(metaUpgrades).filter(e=>/^(power_capacity|miner_efficiency|staking_apy|miner_hashrate|click_hashrate|offline_earnings|earnings_boost|minigame_reward)_\d+$/.test(e)).map(e=>{const t=parseInt(e.match(/\d+$/)[0]);e.replace(/_\d+$/,"");let a;return a=1===t?1e6:2===t?5e7:3===t?1e8:4===t?1e9:5===t?1e12:6===t?1e15:Math.pow(10,5+50*(t-6)),[e,{purchased:!1,cost:a}]}))};for(const[t,a]of Object.entries(e))metaUpgrades[t]||(metaUpgrades[t]={...a});const t={auto_sell:{purchased:!1,cost:270},starter_miners_t1:{purchased:!1,cost:80},starter_miners_t2:{purchased:!1,cost:270},starter_miners_t3:{purchased:!1,cost:640},starter_miners_t4:{purchased:!1,cost:1250},starter_miners_t5:{purchased:!1,cost:2160},starter_miners_t6:{purchased:!1,cost:3430},starter_miners_t7:{purchased:!1,cost:5120},starter_miners_t8:{purchased:!1,cost:7290},starter_miners_t9:{purchased:!1,cost:1e4},starter_miners_t10:{purchased:!1,cost:13310},starter_miners_t11:{purchased:!1,cost:17280},starter_miners_t12:{purchased:!1,cost:21970},starter_miners_t13:{purchased:!1,cost:27440},starter_miners_t14:{purchased:!1,cost:33750},starter_miners_t15:{purchased:!1,cost:40960},starter_miners_t16:{purchased:!1,cost:49130},starter_miners_t17:{purchased:!1,cost:58320},starter_miners_t18:{purchased:!1,cost:68590},starter_miners_t19:{purchased:!1,cost:8e4},starter_power_p0:{purchased:!1,cost:80},starter_power_p1:{purchased:!1,cost:270},starter_power_p2:{purchased:!1,cost:640},starter_power_p3:{purchased:!1,cost:1250},starter_power_p4:{purchased:!1,cost:2160},starter_power_p5:{purchased:!1,cost:3430},starter_power_p6:{purchased:!1,cost:5120},starter_power_p7:{purchased:!1,cost:7290},starter_power_p8:{purchased:!1,cost:1e4},starter_power_p9:{purchased:!1,cost:13310},starter_power_p10:{purchased:!1,cost:17280},starter_power_p11:{purchased:!1,cost:21970},starter_power_p12:{purchased:!1,cost:27440},token_generation_1:{purchased:!1,cost:2160},minigame_unlock:{purchased:!1,cost:3430},cash_multiplier:{purchased:!1,cost:5120},crypto_efficiency_1:{purchased:!1,cost:7290},crypto_efficiency_2:{purchased:!1,cost:17280},crypto_efficiency_3:{purchased:!1,cost:33750},crypto_efficiency_4:{purchased:!1,cost:57600},token_generation_2:{purchased:!1,cost:1e4},token_generation_3:{purchased:!1,cost:21970},token_generation_4:{purchased:!1,cost:40960},token_generation_5:{purchased:!1,cost:68590}};for(const[e,a]of Object.entries(t))metaUpgrades[e]||(metaUpgrades[e]={...a})}function calculateRugpullReward(){const e=getRugpullRequirement(),t=lifetimeEarningsThisRugpull,a=ascensionLevel+1,r=40*Math.pow(a,3),n=Math.max(0,t-e)/e,i=r+Math.floor(r*Math.log(1+n)*2);return Math.max(1,Math.floor(i))}function showRugpullOffer(){function e(e){return e>=1e60?(e/1e60).toFixed(2)+"Nmdc":e>=1e57?(e/1e57).toFixed(2)+"O/Odc":e>=1e54?(e/1e54).toFixed(2)+"Spdc":e>=1e51?(e/1e51).toFixed(2)+"Sxdc":e>=1e48?(e/1e48).toFixed(2)+"Qdc":e>=1e45?(e/1e45).toFixed(2)+"Qdc":e>=1e42?(e/1e42).toFixed(2)+"Tdc":e>=1e39?(e/1e39).toFixed(2)+"U/Udc":e>=1e36?(e/1e36).toFixed(2)+"D/Ddc":e>=1e33?(e/1e33).toFixed(2)+"Dc":e>=1e30?(e/1e30).toFixed(2)+"N":e>=1e27?(e/1e27).toFixed(2)+"O":e>=1e24?(e/1e24).toFixed(2)+"Sep":e>=1e21?(e/1e21).toFixed(2)+"S":e>=1e18?(e/1e18).toFixed(2)+"Qa":e>=1e15?(e/1e15).toFixed(2)+"Q":e>=1e12?(e/1e12).toFixed(2)+"T":e>=1e9?(e/1e9).toFixed(2)+"B":e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString()}const t=lifetimeEarningsThisRugpull,a=window.gameState&&window.gameState.dollarBalance?window.gameState.dollarBalance:0,r=getRugpullRequirement(),n=ascensionLevel+1;let i;i=1===n?7500:2===n?37500:Math.floor(6e4*Math.pow(1.025,n-3));const s=Math.max(0,t-r),o=s/r,_=Math.min(1,.1*Math.log(1+o)),c=Math.floor(i*_),l=Math.max(1,Math.floor(i+c));console.log("[RUGPULL CALC]",{earnings:t,requirement:r,excessEarnings:s,excessMultiplier:o,baseReward:i,bonusMultiplier:_,bonusTokens:c,reward:l});const p=1e3+1e3*ascensionLevel,g=document.getElementById("rugpull-milestone-modal"),d=document.getElementById("milestone-modal-text"),u=document.getElementById("milestone-confirm-btn");if(g&&d&&u){d.innerHTML=`\n            <div style="color: #ffeb3b; font-size: 1.1rem; font-weight: bold; margin-bottom: 10px;">üîì HARD FORK DETECTED</div>\n            <div style="color: #fff; font-size: 0.85rem; line-height: 1.5;">\n                <div style="color: #ccc; margin-bottom: 8px; font-weight: bold;">Current Progress:</div>\n                <div style="margin-bottom: 8px;">\n                    ‚Ä¢ Lifetime Earnings: <span style="color: #4CAF50;">$${e(t)}</span><br>\n                    ‚Ä¢ Current Cash: <span style="color: #4CAF50;">$${e(a)}</span><br>\n                    ‚Ä¢ Ascensions Completed: <span style="color: #4CAF50;">${ascensionLevel}</span>\n                </div>\n                <div style="border-top: 1px solid #555; padding-top: 8px; margin-top: 8px;">\n                    <div style="color: #ffeb3b; font-weight: bold; margin-bottom: 6px;">TOKEN CALCULATION:</div>\n                    <div style="margin-bottom: 8px; color: #ddd; font-size: 0.8rem;">\n                        ‚Ä¢ Base Tokens: <span style="color: #4CAF50;">${i}</span><br>\n                        ${c>0?`‚Ä¢ Bonus Tokens: <span style="color: #4CAF50;">+${c}</span><br>`:""}\n                        ‚Ä¢ TOTAL: <span style="color: #ffeb3b;">${l}</span> Corrupt Tokens<br>\n                    </div>\n                </div>\n                <div style="border-top: 1px solid #555; padding-top: 8px; margin-top: 8px;">\n                    <div style="color: #ffeb3b; font-weight: bold; margin-bottom: 6px;">RUGPULL REWARDS:</div>\n                    <div style="margin-bottom: 6px; font-size: 0.8rem;">\n                        ‚Ä¢ Earn <span style="color: #ffeb3b;">${l}</span> Corrupt Tokens<br>\n                        ‚Ä¢ Start with <span style="color: #ffeb3b;">$${p}</span> cash<br>\n                        ‚Ä¢ +1% mining speed per rugpull (+${(1*ascensionLevel).toFixed(0)}% Total)<br>\n                        ‚Ä¢ +1% manual hash per rugpull (+${(1*ascensionLevel).toFixed(0)}% Total)<br>\n                    </div>\n                    <div style="border-top: 1px solid #555; padding-top: 6px; margin-top: 6px; color: #ccc; font-size: 0.75rem;">\n                        This will:<br>\n                        ‚úó Reset all coins and miners<br>\n                        ‚úó Clear all upgrades<br>\n                        ‚úì Keep all meta-upgrades\n                    </div>\n                </div>\n            </div>\n        `,u.textContent="RUGPULL NOW",u.onclick=function(){showRugpullConfirmation?showRugpullConfirmationModal(l):executeRugpull(l)};const r=document.getElementById("rugpull-store-btn");r&&(r.style.display="inline-block"),g.style.display="flex"}}function showRugpullConfirmationModal(e){const t=document.createElement("div");t.id="rugpull-confirm-modal",t.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.8);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: 10000;\n    ",t.innerHTML=`\n        <div style="background: #1a1a2e; border: 3px solid #ffeb3b; border-radius: 12px; padding: 30px; max-width: 400px; text-align: center; box-shadow: 0 0 30px rgba(255, 235, 59, 0.5);">\n            <div style="color: #ffeb3b; font-size: 1.5rem; font-weight: bold; margin-bottom: 15px;">‚ö†Ô∏è CONFIRM RUGPULL</div>\n            <div style="color: #fff; margin-bottom: 20px; line-height: 1.6;">\n                Are you sure you want to reset your progress?<br>\n                <br>\n                <span style="color: #4CAF50; font-weight: bold;">+${e} Corrupt Tokens</span> will be earned!\n            </div>\n            <div style="display: flex; gap: 10px; margin-bottom: 15px; justify-content: center;">\n                <button id="rugpull-confirm-yes" style="background: #9c27b0; color: white; border: 2px solid #ffeb3b; padding: 10px 20px; font-weight: bold; border-radius: 6px; cursor: pointer; font-size: 0.9rem;">YES, RUGPULL</button>\n                <button id="rugpull-confirm-no" style="background: #666; color: white; border: none; padding: 10px 20px; font-weight: bold; border-radius: 6px; cursor: pointer; font-size: 0.9rem;">CANCEL</button>\n            </div>\n            <label style="color: #ccc; font-size: 0.85rem; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">\n                <input type="checkbox" id="rugpull-never-show" style="cursor: pointer; width: 16px; height: 16px;">\n                Don't show this again\n            </label>\n        </div>\n    `,document.body.appendChild(t),document.getElementById("rugpull-confirm-yes").onclick=function(){const a=document.getElementById("rugpull-never-show");a&&a.checked&&(showRugpullConfirmation=!1,window.rugpullState=window.rugpullState||{},window.rugpullState.showConfirmation=!1),t.remove(),executeRugpull(e)},document.getElementById("rugpull-confirm-no").onclick=function(){t.remove()},t.onclick=function(e){e.target===t&&t.remove()}}function triggerCoinExplosion(){const e=window.innerWidth/2,t=window.innerHeight/2;for(let a=0;a<25;a++){const r=document.createElement("div");r.style.cssText=`\n            position: fixed;\n            left: ${e}px;\n            top: ${t}px;\n            width: 30px;\n            height: 30px;\n            background: radial-gradient(circle at 30% 30%, #ffeb3b, #ffd700);\n            border-radius: 50%;\n            border: 2px solid #ff9800;\n            font-size: 16px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            z-index: 9999;\n            pointer-events: none;\n            box-shadow: 0 0 10px rgba(255, 235, 59, 0.8);\n        `,r.textContent="üí∞",document.body.appendChild(r);const n=a/25*Math.PI*2,i=5+3*Math.random(),s=Math.cos(n)*i,o=Math.sin(n)*i;let _=e,c=t,l=60;const p=()=>{l--,_+=s,c+=o;const e=l/60;r.style.left=_+"px",r.style.top=c+"px",r.style.opacity=e.toString(),r.style.transform=`scale(${1-.5*(1-l/60)})`,l>0?requestAnimationFrame(p):r.remove()};p()}}function executeRugpull(e){if(importInProgress=!0,"function"==typeof spawnExplosionCoins){const e=80;spawnExplosionCoins("btc",e/4),spawnExplosionCoins("eth",e/4),spawnExplosionCoins("doge",e/4),spawnExplosionCoins("usd",e/4)}closeRugpullMilestoneModal(),rugpullCurrency+=e,ascensionStats.currencyEarned+=e,ascensionStats.totalRunsCompleted++,dollarBalance>ascensionStats.bestRunEarnings&&(ascensionStats.bestRunEarnings=dollarBalance),lifetimeEarningsDisplay+=lifetimeEarnings,window.rugpullState&&(window.rugpullState.lifetimeEarningsDisplay=lifetimeEarningsDisplay),window.gameState&&(window.gameState.lifetimeEarnings=lifetimeEarningsDisplay);const t=sessionEarnings,a=sessionStartTime,r=ascensionLevel+1;1===r&&"function"==typeof markFirstRugpull&&markFirstRugpull();const n="undefined"!=typeof achievementsData?JSON.parse(JSON.stringify(achievementsData.achievements)):{},i={ascensionLevel:r,rugpullCurrency:rugpullCurrency,metaUpgrades:JSON.parse(JSON.stringify(metaUpgrades)),ascensionStats:JSON.parse(JSON.stringify(ascensionStats)),unlockedSystems:JSON.parse(JSON.stringify(unlockedSystems)),achievements:n,lifetimeEarningsDisplay:lifetimeEarningsDisplay,permanentMilestoneDoublings:JSON.parse(JSON.stringify(permanentMilestoneDoublings))};localStorage.removeItem("satoshiTerminalSave"),localStorage.removeItem("instructionsDismissed"),resetGameState(),lastShownMilestoneEarnings=0,lifetimeEarningsThisRugpull=0,"function"==typeof window.resetRugpullMilestoneFlag&&window.resetRugpullMilestoneFlag(),ascensionLevel=r,rugpullCurrency=i.rugpullCurrency,i.metaUpgrades&&(metaUpgrades={...metaUpgrades,...i.metaUpgrades}),ensureMetaUpgradesInitialized(),ascensionStats=i.ascensionStats,unlockedSystems=i.unlockedSystems,lifetimeEarningsDisplay=parseFloat(i.lifetimeEarningsDisplay)||0,window.metaUpgrades=metaUpgrades,window.upgradeToggleState=upgradeToggleState,window.rugpullState&&(window.rugpullState.lifetimeEarningsDisplay=lifetimeEarningsDisplay),sessionEarnings=t,sessionStartTime=a,window.gameState&&(window.gameState.lifetimeEarnings=lifetimeEarningsDisplay),"undefined"!=typeof achievementsData&&i.achievements&&(achievementsData.achievements=i.achievements,console.log("‚úì Achievements restored after rugpull:",Object.values(achievementsData.achievements).filter(e=>e.unlocked).length,"unlocked")),lastShownMilestoneEarnings=0,initializeNewRun(),unlockSystems(),importInProgress=!1,saveGame(),updateUI(),updateStakingUI(),updateAscensionUI(),showRugpullCompleteModal(e),setTimeout(()=>{closeRugpullCompleteModal();const e=document.getElementById("rugpull-store-btn");e&&(e.style.display="inline-block"),openMetaUpgradesModal(),console.log("[RUGPULL] Auto-opening meta-upgrades modal after rugpull")},2e3)}function resetGameState(){btcBalance=0,btcLifetime=0,btcPerSec=0,btcClickValue=25e-7,btcPrice=1e5,ethBalance=0,ethLifetime=0,ethPerSec=0,ethClickValue=7143e-8,ethPrice=3500,dogeBalance=0,dogeLifetime=0,dogePerSec=0,dogeClickValue=1,dogePrice=.25,dollarBalance=0,hardwareEquity=0,totalPowerAvailable=0,totalPowerUsed=0,powerUpgrades.forEach(e=>{e.level=0,e.currentUsd=e.baseUsd,e.currentPower=0}),btcUpgrades.forEach(e=>{e.level=0,e.currentUsd=e.baseUsd,e.currentYield=0}),ethUpgrades.forEach(e=>{e.level=0,e.currentUsd=e.baseUsd,e.currentYield=0}),dogeUpgrades.forEach(e=>{e.level=0,e.currentUsd=e.baseUsd,e.currentYield=0}),stakedBTC=0,stakedETH=0,stakedDOGE=0,sessionStartTime=Date.now(),sessionStartBalance=0,sessionStartNetWorth=0,chartHistory=[],chartTimestamps=[],chartStartTime=Date.now()}function initializeNewRun(){let e=1e3;e+=1e3*ascensionLevel,dollarBalance=e;const t=[];for(let e=1;e<=15;e++){const a=`starter_miners_t${e}`;metaUpgrades[a]&&metaUpgrades[a].purchased&&t.push(e)}if(t.length>0){for(const e of t)btcUpgrades[e]&&(btcUpgrades[e].level=1,btcUpgrades[e].currentYield=btcUpgrades[e].baseYield,btcUpgrades[e].currentUsd=btcUpgrades[e].baseUsd*Math.pow(1.12,1)),ethUpgrades[e]&&(ethUpgrades[e].level=1,ethUpgrades[e].currentYield=ethUpgrades[e].baseYield,ethUpgrades[e].currentUsd=ethUpgrades[e].baseUsd*Math.pow(1.12,1)),dogeUpgrades[e]&&(dogeUpgrades[e].level=1,dogeUpgrades[e].currentYield=dogeUpgrades[e].baseYield,dogeUpgrades[e].currentUsd=dogeUpgrades[e].baseUsd*Math.pow(1.12,1));const e="function"==typeof getAscensionMiningBonus?getAscensionMiningBonus():0,a="function"==typeof getSkillBonus?getSkillBonus("mining_speed"):0,r="function"==typeof getSkillBonus?getSkillBonus("btc_mining_speed"):0,n="function"==typeof getSkillBonus?getSkillBonus("eth_mining_speed"):0,i="function"==typeof getSkillBonus?getSkillBonus("doge_mining_speed"):0;btcPerSec=btcUpgrades.reduce((e,t)=>e+(t.currentYield||0),0)*(1+e+a+r),ethPerSec=ethUpgrades.reduce((e,t)=>e+(t.currentYield||0),0)*(1+e+a+n),dogePerSec=dogeUpgrades.reduce((e,t)=>e+(t.currentYield||0),0)*(1+e+a+i)}const a=[];for(let e=0;e<=12;e++){const t=`starter_power_p${e}`;metaUpgrades[t]&&metaUpgrades[t].purchased&&a.push(e)}if(a.length>0){for(const e of a)powerUpgrades[e]&&(powerUpgrades[e].level=1,powerUpgrades[e].currentPower=powerUpgrades[e].basePower);totalPowerAvailable=powerUpgrades.reduce((e,t)=>e+(t.currentPower||0),0)}else totalPowerAvailable=powerUpgrades[0].basePower}function unlockSystems(){ascensionLevel>=3&&(unlockedSystems.advancedMetaUpgrades=!0),ascensionLevel>=5&&(unlockedSystems.quantumBranch=!0),ascensionLevel>=10&&(unlockedSystems.infinityGates=!0)}function isTierUnlocked(e){if(1===e)return!0;const t=[{name:"Tier 1",upgrades:["power_capacity_1","miner_efficiency_1","staking_apy_1","miner_hashrate_1","click_hashrate_1","offline_earnings_1","earnings_boost_1","minigame_reward_1","token_generation_0"]},{name:"Tier 2",upgrades:["power_capacity_2","miner_efficiency_2","staking_apy_2","miner_hashrate_2","click_hashrate_2","offline_earnings_2","earnings_boost_2","minigame_reward_2","starter_miners_t1","starter_power_p0","token_generation_1_alt"]},{name:"Tier 3",upgrades:["power_capacity_3","miner_efficiency_3","staking_apy_3","miner_hashrate_3","click_hashrate_3","offline_earnings_3","earnings_boost_3","minigame_reward_3","auto_sell","starter_miners_t2","starter_power_p1","token_generation_2_alt"]},{name:"Tier 4",upgrades:["power_capacity_4","miner_efficiency_4","staking_apy_4","miner_hashrate_4","click_hashrate_4","offline_earnings_4","earnings_boost_4","minigame_reward_4","starter_miners_t3","starter_power_p2","token_generation_3_alt"]},{name:"Tier 5",upgrades:["power_capacity_5","miner_efficiency_5","staking_apy_5","miner_hashrate_5","click_hashrate_5","offline_earnings_5","earnings_boost_5","minigame_reward_5","starter_miners_t4","starter_power_p3","token_generation_4_alt"]},{name:"Tier 6",upgrades:["power_capacity_6","miner_efficiency_6","staking_apy_6","miner_hashrate_6","click_hashrate_6","offline_earnings_6","earnings_boost_6","minigame_reward_6","starter_miners_t5","starter_power_p4","token_generation_1"]},{name:"Tier 7",upgrades:["power_capacity_7","miner_efficiency_7","staking_apy_7","miner_hashrate_7","click_hashrate_7","offline_earnings_7","earnings_boost_7","minigame_reward_7","starter_miners_t6","starter_power_p5","minigame_unlock","token_generation_t7"]},{name:"Tier 8",upgrades:["power_capacity_8","miner_efficiency_8","staking_apy_8","miner_hashrate_8","click_hashrate_8","offline_earnings_8","earnings_boost_8","minigame_reward_8","starter_miners_t7","starter_power_p6","cash_multiplier","token_generation_t8"]},{name:"Tier 9",upgrades:["power_capacity_9","miner_efficiency_9","staking_apy_9","miner_hashrate_9","click_hashrate_9","offline_earnings_9","earnings_boost_9","minigame_reward_9","starter_miners_t8","starter_power_p7","token_generation_t9"]},{name:"Tier 10",upgrades:["power_capacity_10","miner_efficiency_10","staking_apy_10","miner_hashrate_10","click_hashrate_10","offline_earnings_10","earnings_boost_10","minigame_reward_10","starter_miners_t9","starter_power_p8","token_generation_t10"]},{name:"Tier 11",upgrades:["power_capacity_11","miner_efficiency_11","staking_apy_11","miner_hashrate_11","click_hashrate_11","offline_earnings_11","earnings_boost_11","minigame_reward_11","starter_miners_t10","starter_power_p9","token_generation_t11"]},{name:"Tier 12",upgrades:["power_capacity_12","miner_efficiency_12","staking_apy_12","miner_hashrate_12","click_hashrate_12","offline_earnings_12","earnings_boost_12","minigame_reward_12","starter_miners_t11","starter_power_p10","token_generation_t12"]},{name:"Tier 13",upgrades:["power_capacity_13","miner_efficiency_13","staking_apy_13","miner_hashrate_13","click_hashrate_13","offline_earnings_13","earnings_boost_13","minigame_reward_13","starter_miners_t12","starter_power_p11","token_generation_t13"]},{name:"Tier 14",upgrades:["power_capacity_14","miner_efficiency_14","staking_apy_14","miner_hashrate_14","click_hashrate_14","offline_earnings_14","earnings_boost_14","minigame_reward_14","starter_miners_t13","starter_power_p12","token_generation_t14"]},{name:"Tier 15",upgrades:["power_capacity_15","miner_efficiency_15","staking_apy_15","miner_hashrate_15","click_hashrate_15","offline_earnings_15","earnings_boost_15","minigame_reward_15","starter_miners_t14","token_generation_t15"]},{name:"Tier 16",upgrades:["power_capacity_16","miner_efficiency_16","staking_apy_16","miner_hashrate_16","click_hashrate_16","offline_earnings_16","earnings_boost_16","minigame_reward_16","starter_miners_t15","token_generation_t16"]},{name:"Tier 17",upgrades:["power_capacity_17","miner_efficiency_17","staking_apy_17","miner_hashrate_17","click_hashrate_17","offline_earnings_17","earnings_boost_17","minigame_reward_17","token_generation_t17"]},{name:"Tier 18",upgrades:["power_capacity_18","miner_efficiency_18","staking_apy_18","miner_hashrate_18","click_hashrate_18","offline_earnings_18","earnings_boost_18","minigame_reward_18","token_generation_t18"]},{name:"Tier 19",upgrades:["power_capacity_19","miner_efficiency_19","staking_apy_19","miner_hashrate_19","click_hashrate_19","offline_earnings_19","earnings_boost_19","minigame_reward_19","token_generation_t19"]},{name:"Tier 20",upgrades:["power_capacity_20","miner_efficiency_20","staking_apy_20","miner_hashrate_20","click_hashrate_20","offline_earnings_20","earnings_boost_20","minigame_reward_20","token_generation_t20"]}][e-1-1];return!!t&&t.upgrades.every(e=>metaUpgrades[e]&&metaUpgrades[e].purchased)}function purchaseMetaUpgrade(e){if(!metaUpgrades[e])return void console.error("Invalid upgrade:",e);const t=metaUpgrades[e];if(t.purchased)return void showGenericMessageModal("Already Purchased",'<div style="color: #ff9800;">You already own this upgrade!</div>');const a=[{name:"Tier 1",upgrades:["power_capacity_1","miner_efficiency_1","staking_apy_1","miner_hashrate_1","click_hashrate_1","offline_earnings_1","earnings_boost_1","minigame_reward_1","token_generation_0"]},{name:"Tier 2",upgrades:["power_capacity_2","miner_efficiency_2","staking_apy_2","miner_hashrate_2","click_hashrate_2","offline_earnings_2","earnings_boost_2","minigame_reward_2","starter_miners_t1","starter_power_p0","token_generation_1_alt"]},{name:"Tier 3",upgrades:["power_capacity_3","miner_efficiency_3","staking_apy_3","miner_hashrate_3","click_hashrate_3","offline_earnings_3","earnings_boost_3","minigame_reward_3","auto_sell","starter_miners_t2","starter_power_p1","token_generation_2_alt"]},{name:"Tier 4",upgrades:["power_capacity_4","miner_efficiency_4","staking_apy_4","miner_hashrate_4","click_hashrate_4","offline_earnings_4","earnings_boost_4","minigame_reward_4","starter_miners_t3","starter_power_p2","token_generation_3_alt"]},{name:"Tier 5",upgrades:["power_capacity_5","miner_efficiency_5","staking_apy_5","miner_hashrate_5","click_hashrate_5","offline_earnings_5","earnings_boost_5","minigame_reward_5","starter_miners_t4","starter_power_p3","token_generation_4_alt"]},{name:"Tier 6",upgrades:["power_capacity_6","miner_efficiency_6","staking_apy_6","miner_hashrate_6","click_hashrate_6","offline_earnings_6","earnings_boost_6","minigame_reward_6","starter_miners_t5","starter_power_p4","token_generation_1"]},{name:"Tier 7",upgrades:["power_capacity_7","miner_efficiency_7","staking_apy_7","miner_hashrate_7","click_hashrate_7","offline_earnings_7","earnings_boost_7","minigame_reward_7","starter_miners_t6","starter_power_p5","minigame_unlock","token_generation_t7"]},{name:"Tier 8",upgrades:["power_capacity_8","miner_efficiency_8","staking_apy_8","miner_hashrate_8","click_hashrate_8","offline_earnings_8","earnings_boost_8","minigame_reward_8","starter_miners_t7","starter_power_p6","cash_multiplier","token_generation_t8"]},{name:"Tier 9",upgrades:["power_capacity_9","miner_efficiency_9","staking_apy_9","miner_hashrate_9","click_hashrate_9","offline_earnings_9","earnings_boost_9","minigame_reward_9","starter_miners_t8","starter_power_p7","token_generation_t9"]},{name:"Tier 10",upgrades:["power_capacity_10","miner_efficiency_10","staking_apy_10","miner_hashrate_10","click_hashrate_10","offline_earnings_10","earnings_boost_10","minigame_reward_10","starter_miners_t9","starter_power_p8","token_generation_t10"]},{name:"Tier 11",upgrades:["power_capacity_11","miner_efficiency_11","staking_apy_11","miner_hashrate_11","click_hashrate_11","offline_earnings_11","earnings_boost_11","minigame_reward_11","starter_miners_t10","starter_power_p9","token_generation_t11"]},{name:"Tier 12",upgrades:["power_capacity_12","miner_efficiency_12","staking_apy_12","miner_hashrate_12","click_hashrate_12","offline_earnings_12","earnings_boost_12","minigame_reward_12","starter_miners_t11","starter_power_p10","token_generation_t12"]},{name:"Tier 13",upgrades:["power_capacity_13","miner_efficiency_13","staking_apy_13","miner_hashrate_13","click_hashrate_13","offline_earnings_13","earnings_boost_13","minigame_reward_13","starter_miners_t12","starter_power_p11","token_generation_t13"]},{name:"Tier 14",upgrades:["power_capacity_14","miner_efficiency_14","staking_apy_14","miner_hashrate_14","click_hashrate_14","offline_earnings_14","earnings_boost_14","minigame_reward_14","starter_miners_t13","starter_power_p12","token_generation_t14"]},{name:"Tier 15",upgrades:["power_capacity_15","miner_efficiency_15","staking_apy_15","miner_hashrate_15","click_hashrate_15","offline_earnings_15","earnings_boost_15","minigame_reward_15","starter_miners_t14","token_generation_t15"]},{name:"Tier 16",upgrades:["power_capacity_16","miner_efficiency_16","staking_apy_16","miner_hashrate_16","click_hashrate_16","offline_earnings_16","earnings_boost_16","minigame_reward_16","starter_miners_t15","token_generation_t16"]},{name:"Tier 17",upgrades:["power_capacity_17","miner_efficiency_17","staking_apy_17","miner_hashrate_17","click_hashrate_17","offline_earnings_17","earnings_boost_17","minigame_reward_17","token_generation_t17"]},{name:"Tier 18",upgrades:["power_capacity_18","miner_efficiency_18","staking_apy_18","miner_hashrate_18","click_hashrate_18","offline_earnings_18","earnings_boost_18","minigame_reward_18","token_generation_t18"]},{name:"Tier 19",upgrades:["power_capacity_19","miner_efficiency_19","staking_apy_19","miner_hashrate_19","click_hashrate_19","offline_earnings_19","earnings_boost_19","minigame_reward_19","token_generation_t19"]},{name:"Tier 20",upgrades:["power_capacity_20","miner_efficiency_20","staking_apy_20","miner_hashrate_20","click_hashrate_20","offline_earnings_20","earnings_boost_20","minigame_reward_20","token_generation_t20"]}];let r=1;for(let t=0;t<a.length;t++)if(a[t].upgrades.includes(e)){r=t+1;break}isTierUnlocked(r)?rugpullCurrency<t.cost?showGenericMessageModal("Not Enough Tokens",`\n            <div>Not enough Corrupt Tokens!</div>\n            <div style="margin-top: 10px; color: #ffeb3b;">\n                Need: <span style="font-weight: bold;">${t.cost}</span><br>\n                Have: <span style="font-weight: bold;">${rugpullCurrency}</span>\n            </div>\n        `):(rugpullCurrency-=t.cost,t.purchased=!0,ascensionStats.totalGlobalBonus+=t.cost/100,applyMetaUpgradeEffect(e),saveGame(),updateMetaUpgradesUI(),"auto_sell"===e&&"function"==typeof updateAutoSellButtonUI&&updateAutoSellButtonUI(),e.includes("staking_apy")&&"function"==typeof updateStakingAPRDisplay&&updateStakingAPRDisplay(),"function"==typeof updateUI&&updateUI(),showGenericMessageModal("Purchase Successful",`\n        <div style="color: #4CAF50; font-weight: bold; font-size: 1.1rem;">‚úì Purchased</div>\n        <div style="margin-top: 10px; color: #fff;">${getUpgradeName(e)}</div>\n    `)):showGenericMessageModal("Tier Locked",`<div style="color: #ff9800;">You must purchase all upgrades in Tier ${r-1} first!</div>`)}function applyMetaUpgradeEffect(e){e}function getAscensionMiningBonus(){let e=0;return ascensionLevel>0&&(e=.01*ascensionLevel),e}function toggleAutoSell(){upgradeToggleState.auto_sell=!upgradeToggleState.auto_sell,window.upgradeToggleState=upgradeToggleState;const e=upgradeToggleState.auto_sell?"ON":"OFF";console.log(`[AUTO-SELL] Toggle called - now ${e}`),console.log("[AUTO-SELL] upgradeToggleState:",upgradeToggleState),console.log("[AUTO-SELL] window.upgradeToggleState:",window.upgradeToggleState),updateMetaUpgradesUI(),"function"==typeof updateAutoSellButtonUI&&updateAutoSellButtonUI(),saveGame()}function getSkillBonus(e){let t=0;if(!metaUpgrades||!ascensionStats)return 0;if("mining_speed"===e){for(let e=1;e<=20;e++){const a=`miner_hashrate_${e}`;metaUpgrades[a]&&metaUpgrades[a].purchased&&(t+=.5*Math.pow(1.15,e-1)/100)}metaUpgrades.crypto_efficiency_1&&metaUpgrades.crypto_efficiency_1.purchased&&(t+=.2),metaUpgrades.crypto_efficiency_2&&metaUpgrades.crypto_efficiency_2.purchased&&(t+=.4),metaUpgrades.crypto_efficiency_3&&metaUpgrades.crypto_efficiency_3.purchased&&(t+=.6),metaUpgrades.crypto_efficiency_4&&metaUpgrades.crypto_efficiency_4.purchased&&(t+=.8)}else if("click_speed"===e)for(let e=1;e<=20;e++){const a=`click_hashrate_${e}`;metaUpgrades[a]&&metaUpgrades[a].purchased&&(t+=.5*Math.pow(1.15,e-1)/100)}else if("crypto_price"===e);else{if("miner_efficiency"===e){for(let e=1;e<=20;e++){const a=`miner_efficiency_${e}`;metaUpgrades[a]&&metaUpgrades[a].purchased&&(t+=.5*Math.pow(1.15,e-1)/100)}return Math.min(t,.99)}if("minigame_rewards"===e)for(let e=1;e<=20;e++){const a=`minigame_reward_${e}`;metaUpgrades[a]&&metaUpgrades[a].purchased&&(t+=1*Math.pow(1.15,e-1)/100)}else{if("earnings_boost"===e||"crypto_sale_stake_value"===e){for(let e=1;e<=20;e++){const a=`earnings_boost_${e}`;metaUpgrades[a]&&metaUpgrades[a].purchased&&(t+=1*Math.pow(1.15,e-1)/100)}return t}if("cash_multiplier"===e)return metaUpgrades.cash_multiplier&&metaUpgrades.cash_multiplier.purchased&&(t+=.5),t;if("crypto_efficiency"===e){for(let e=1;e<=20;e++){const a=`crypto_efficiency_${e}`;metaUpgrades[a]&&metaUpgrades[a].purchased&&(t+=.5*Math.pow(1.15,e-1)/100)}return t}}}return t}function getPowerBoost(){let e=0;for(let t=1;t<=20;t++){const a=`power_capacity_${t}`;metaUpgrades[a]&&metaUpgrades[a].purchased&&(e+=.5*Math.pow(1.15,t-1)/100)}return e}function getOfflineBoost(){return 0}function getOfflineCap(){let e=0;for(let t=1;t<=20;t++){const a=`offline_earnings_${t}`;metaUpgrades[a]&&metaUpgrades[a].purchased&&(e+=3600)}return 14400+e}function getPermanentDoubleMultiplier(e){const t="btc"===e?permanentMilestoneDoublings.btcDoublings:"eth"===e?permanentMilestoneDoublings.ethDoublings:"doge"===e?permanentMilestoneDoublings.dogeDoublings:{},a=Object.values(t).filter(e=>!0===e).length;return Math.pow(2,a)}function purchasePermanentMilestoneDoubling(e,t){"btc"===e?permanentMilestoneDoublings.btcDoublings[t]=!0:"eth"===e?permanentMilestoneDoublings.ethDoublings[t]=!0:"doge"===e&&(permanentMilestoneDoublings.dogeDoublings[t]=!0)}function hasPermanentMilestoneDoubling(e,t){return("btc"===e?permanentMilestoneDoublings.btcDoublings:"eth"===e?permanentMilestoneDoublings.ethDoublings:"doge"===e?permanentMilestoneDoublings.dogeDoublings:{})[t]||!1}function getTokenConversionRate(){return 0}function getTokenGenerationRate(){let e=0;return metaUpgrades.token_generation_0?.purchased&&(e+=.005),metaUpgrades.token_generation_1_alt?.purchased&&(e+=.00575),metaUpgrades.token_generation_2_alt?.purchased&&(e+=.00661),metaUpgrades.token_generation_3_alt?.purchased&&(e+=.0076),metaUpgrades.token_generation_4_alt?.purchased&&(e+=.00874),metaUpgrades.token_generation_t6?.purchased&&(e+=.01005),metaUpgrades.token_generation_t7?.purchased&&(e+=.01156),metaUpgrades.token_generation_t8?.purchased&&(e+=.0133),metaUpgrades.token_generation_t9?.purchased&&(e+=.01531),metaUpgrades.token_generation_t10?.purchased&&(e+=.01761),metaUpgrades.token_generation_t11?.purchased&&(e+=.02025),metaUpgrades.token_generation_t12?.purchased&&(e+=.02329),metaUpgrades.token_generation_t13?.purchased&&(e+=.02678),metaUpgrades.token_generation_t14?.purchased&&(e+=.0308),metaUpgrades.token_generation_t15?.purchased&&(e+=.03542),metaUpgrades.token_generation_t16?.purchased&&(e+=.04073),metaUpgrades.token_generation_t17?.purchased&&(e+=.04684),metaUpgrades.token_generation_t18?.purchased&&(e+=.05387),metaUpgrades.token_generation_t19?.purchased&&(e+=.06196),metaUpgrades.token_generation_t20?.purchased&&(e+=.07126),metaUpgrades.token_generation_4?.purchased&&(e+=.02599),metaUpgrades.token_generation_5?.purchased&&(e+=.02989),metaUpgrades.token_generation_6?.purchased&&(e+=.03963),e}function getUpgradeName(e){return{power_capacity_1:"Earn 0.5% Max Power Capacity",miner_efficiency_1:"-0.5% Miner Power Consumption",staking_apy_1:"Earn 0.005% Staking APR",miner_hashrate_1:"Earn 0.5% Miner Hash Rate (All Crypto)",click_hashrate_1:"Earn 0.5% Manual Hash Rate",offline_earnings_1:"+1 Hour Offline Earnings Cap (5h Total)",earnings_boost_1:"+1% Crypto Sale & Stake Value",minigame_reward_1:"+1% Minigame Rewards",token_generation_0:"Earn 0.005 Corrupt Tokens/s Passively",power_capacity_2:"+1% Max Power Capacity",miner_efficiency_2:"-1% Miner Power Consumption",staking_apy_2:"Earn 0.01% Staking APR",miner_hashrate_2:"+1% Miner Hash Rate (All Crypto)",click_hashrate_2:"+1% Manual Hash Rate",offline_earnings_2:"+1 Hour Offline Earnings Cap (6h Total)",earnings_boost_2:"+1.15% Crypto Sale & Stake Value",minigame_reward_2:"+1.15% Minigame Rewards",starter_miners_t1:"Start All Future Rugpulls With LVL1 T1 Miner For All Cryptos!",starter_power_p0:"Start All Future Rugpulls With LVL1 Basic Power Strip",token_generation_1_alt:"Earn 0.00575 Corrupt Tokens/s Passively",power_capacity_3:"+1.5% Max Power Capacity",miner_efficiency_3:"-1.5% Miner Power Consumption",staking_apy_3:"Earn 0.015% Staking APR",miner_hashrate_3:"+1.5% Miner Hash Rate (All Crypto)",click_hashrate_3:"+1.5% Manual Hash Rate",offline_earnings_3:"+1 Hour Offline Earnings Cap (7h Total)",earnings_boost_3:"+1.32% Crypto Sale & Stake Value",minigame_reward_3:"+1.32% Minigame Rewards",auto_sell:"Auto-Sell Crypto to Cash (25% Fee)",starter_miners_t2:"Start All Future Rugpulls With LVL1 T2 Miner For All Cryptos!",starter_power_p1:"Start All Future Rugpulls With LVL1 Regulated PSU",token_generation_2_alt:"Earn 0.00661 Corrupt Tokens/s Passively",power_capacity_4:"+2% Max Power Capacity",miner_efficiency_4:"-2% Miner Power Consumption",staking_apy_4:"Earn 0.02% Staking APR",miner_hashrate_4:"+2% Miner Hash Rate (All Crypto)",click_hashrate_4:"+2% Manual Hash Rate",offline_earnings_4:"+1 Hour Offline Earnings Cap (8h Total)",earnings_boost_4:"+1.52% Crypto Sale & Stake Value",minigame_reward_4:"+1.52% Minigame Rewards",starter_miners_t3:"Start All Future Rugpulls With LVL1 T3 Miner For All Cryptos!",starter_power_p2:"Start All Future Rugpulls With LVL1 High-Efficiency PSU",token_generation_3_alt:"Earn 0.00760 Corrupt Tokens/s Passively",power_capacity_5:"+2.5% Max Power Capacity",miner_efficiency_5:"-2.5% Miner Power Consumption",staking_apy_5:"Earn 0.025% Staking APR",miner_hashrate_5:"+2.5% Miner Hash Rate (All Crypto)",click_hashrate_5:"+2.5% Manual Hash Rate",offline_earnings_5:"+1 Hour Offline Earnings Cap (9h Total)",earnings_boost_5:"+1.75% Crypto Sale & Stake Value",minigame_reward_5:"+1.75% Minigame Rewards",starter_miners_t4:"Start All Future Rugpulls With LVL1 T4 Miner For All Cryptos!",starter_power_p3:"Start All Future Rugpulls With LVL1 Server-Grade PSU",token_generation_4_alt:"Earn 0.00874 Corrupt Tokens/s Passively",power_capacity_6:"+3% Max Power Capacity",miner_efficiency_6:"-3% Miner Power Consumption",staking_apy_6:"Earn 0.03% Staking APR",miner_hashrate_6:"+3% Miner Hash Rate (All Crypto)",click_hashrate_6:"+3% Manual Hash Rate",offline_earnings_6:"+1 Hour Offline Earnings Cap (10h Total)",earnings_boost_6:"+2.01% Crypto Sale & Stake Value",minigame_reward_6:"+2.01% Minigame Rewards",starter_miners_t5:"Start All Future Rugpulls With LVL1 T5 Miner For All Cryptos!",starter_power_p4:"Start All Future Rugpulls With LVL1 Mining Power Distribution Unit",token_generation_t6:"Earn 0.01005 Corrupt Tokens/s Passively",token_generation_t7:"Earn 0.01156 Corrupt Tokens/s Passively",token_generation_t8:"Earn 0.01330 Corrupt Tokens/s Passively",token_generation_t9:"Earn 0.01531 Corrupt Tokens/s Passively",token_generation_t10:"Earn 0.01761 Corrupt Tokens/s Passively",token_generation_t11:"Earn 0.02025 Corrupt Tokens/s Passively",token_generation_t12:"Earn 0.02329 Corrupt Tokens/s Passively",token_generation_t13:"Earn 0.02678 Corrupt Tokens/s Passively",token_generation_t14:"Earn 0.03080 Corrupt Tokens/s Passively",token_generation_t15:"Earn 0.03542 Corrupt Tokens/s Passively",token_generation_t16:"Earn 0.04073 Corrupt Tokens/s Passively",token_generation_t17:"Earn 0.04684 Corrupt Tokens/s Passively",token_generation_t18:"Earn 0.05387 Corrupt Tokens/s Passively",token_generation_t19:"Earn 0.06196 Corrupt Tokens/s Passively",token_generation_t20:"Earn 0.07126 Corrupt Tokens/s Passively",power_capacity_7:"+3.5% Max Power Capacity",miner_efficiency_7:"-3.5% Miner Power Consumption",staking_apy_7:"Earn 0.035% Staking APR",miner_hashrate_7:"+3.5% Miner Hash Rate (All Crypto)",click_hashrate_7:"+1.16% Manual Hash Rate",offline_earnings_7:"+1 Hour Offline Earnings Cap (11h Total)",earnings_boost_7:"+2.31% Crypto Sale & Stake Value",minigame_reward_7:"+2.31% Minigame Rewards",starter_miners_t6:"Start All Future Rugpulls With LVL1 T6 Miner For All Cryptos!",starter_power_p5:"Start All Future Rugpulls With LVL1 Modular Data Center Power System",minigame_unlock:"All Minigames Unlocked on New Rugpulls",power_capacity_8:"+4% Max Power Capacity",miner_efficiency_8:"-4% Miner Power Consumption",staking_apy_8:"Earn 0.04% Staking APR",miner_hashrate_8:"+4% Miner Hash Rate (All Crypto)",click_hashrate_8:"+1.33% Manual Hash Rate",offline_earnings_8:"+1 Hour Offline Earnings Cap (12h Total)",earnings_boost_8:"+2.66% Crypto Sale & Stake Value",minigame_reward_8:"+2.66% Minigame Rewards",starter_miners_t7:"Start All Future Rugpulls With LVL1 T7 Miner For All Cryptos!",starter_power_p6:"Start All Future Rugpulls With LVL1 Dedicated Substation Power Unit",cash_multiplier:"+50% more Crypto Sale Value",power_capacity_9:"+4.5% Max Power Capacity",miner_efficiency_9:"-4.5% Miner Power Consumption",staking_apy_9:"Earn 0.045% Staking APR",miner_hashrate_9:"+4.5% Miner Hash Rate (All Crypto)",click_hashrate_9:"+1.53% Manual Hash Rate",offline_earnings_9:"+1 Hour Offline Earnings Cap (13h Total)",earnings_boost_9:"+3.06% Crypto Sale & Stake Value",minigame_reward_9:"+3.06% Minigame Rewards",starter_miners_t8:"Start All Future Rugpulls With LVL1 T8 Miner For All Cryptos!",starter_power_p7:"Start All Future Rugpulls With LVL1 Industrial Grid Connection",crypto_efficiency_1:"+20% Mining Efficiency",power_capacity_10:"+5% Max Power Capacity",miner_efficiency_10:"-5% Miner Power Consumption",staking_apy_10:"Earn 0.05% Staking APR",miner_hashrate_10:"+5% Miner Hash Rate (All Crypto)",click_hashrate_10:"+1.76% Manual Hash Rate",offline_earnings_10:"+1 Hour Offline Earnings Cap (14h Total)",earnings_boost_10:"+3.52% Crypto Sale & Stake Value",minigame_reward_10:"+3.52% Minigame Rewards",starter_miners_t9:"Start All Future Rugpulls With LVL1 T9 Miner For All Cryptos!",starter_power_p8:"Start All Future Rugpulls With LVL1 Hydroelectric Power Station",power_capacity_11:"+5.5% Max Power Capacity",miner_efficiency_11:"-5.5% Miner Power Consumption",staking_apy_11:"Earn 0.055% Staking APR",miner_hashrate_11:"+5.5% Miner Hash Rate (All Crypto)",click_hashrate_11:"+2.03% Manual Hash Rate",offline_earnings_11:"+1 Hour Offline Earnings Cap (15h Total)",earnings_boost_11:"+4.05% Crypto Sale & Stake Value",minigame_reward_11:"+4.05% Minigame Rewards",starter_miners_t10:"Start All Future Rugpulls With LVL1 T10 Miner For All Cryptos!",starter_power_p9:"Start All Future Rugpulls With LVL1 Nuclear Reactor Array",power_capacity_12:"+6% Max Power Capacity",miner_efficiency_12:"-6% Miner Power Consumption",staking_apy_12:"Earn 0.06% Staking APR",miner_hashrate_12:"+6% Miner Hash Rate (All Crypto)",click_hashrate_12:"+2.34% Manual Hash Rate",offline_earnings_12:"+1 Hour Offline Earnings Cap (16h Total)",earnings_boost_12:"+4.65% Crypto Sale & Stake Value",minigame_reward_12:"+4.65% Minigame Rewards",starter_miners_t11:"Start All Future Rugpulls With LVL1 T11 Miner For All Cryptos!",starter_power_p10:"Start All Future Rugpulls With LVL1 Fusion Energy Complex",crypto_efficiency_2:"+40% Mining Efficiency",power_capacity_13:"+6.5% Max Power Capacity",miner_efficiency_13:"-6.5% Miner Power Consumption",staking_apy_13:"Earn 0.065% Staking APR",miner_hashrate_13:"+6.5% Miner Hash Rate (All Crypto)",click_hashrate_13:"+2.69% Manual Hash Rate",offline_earnings_13:"+1 Hour Offline Earnings Cap (17h Total)",earnings_boost_13:"+5.35% Crypto Sale & Stake Value",minigame_reward_13:"+5.35% Crypto Sale & Stake Value",starter_miners_t12:"Start All Future Rugpulls With LVL1 T12 Miner For All Cryptos!",starter_power_p11:"Start All Future Rugpulls With LVL1 Dyson Sphere Power Collector",power_capacity_14:"+7% Max Power Capacity",miner_efficiency_14:"-7% Miner Power Consumption",staking_apy_14:"Earn 0.07% Staking APR",miner_hashrate_14:"+7% Miner Hash Rate (All Crypto)",click_hashrate_14:"+3.09% Manual Hash Rate",offline_earnings_14:"+1 Hour Offline Earnings Cap (18h Total)",earnings_boost_14:"+6.15% Crypto Sale & Stake Value",minigame_reward_14:"+6.15% Minigame Rewards",starter_miners_t13:"Start All Future Rugpulls With LVL1 T13 Miner For All Cryptos!",starter_power_p12:"Start All Future Rugpulls With LVL1 Stellar Energy Tapestry",power_capacity_15:"+7.5% Max Power Capacity",miner_efficiency_15:"-7.5% Miner Power Consumption",staking_apy_15:"Earn 0.75% Staking APR",miner_hashrate_15:"+7.5% Miner Hash Rate (All Crypto)",click_hashrate_15:"+2.78% Manual Hash Rate",offline_earnings_15:"+1 Hour Offline Earnings Cap (19h Total)",earnings_boost_15:"+5.35% Crypto Sale & Stake Value",minigame_reward_15:"+5.35% Minigame Rewards",starter_miners_t14:"Start All Future Rugpulls With LVL1 T14 Miner For All Cryptos!",crypto_efficiency_3:"+60% Mining Efficiency",power_capacity_16:"+7.5% Max Power Capacity",miner_efficiency_16:"-7.5% Miner Power Consumption",staking_apy_16:"Earn 0.80% Staking APR",miner_hashrate_16:"+7.5% Miner Hash Rate (All Crypto)",click_hashrate_16:"+2.78% Manual Hash Rate",offline_earnings_16:"+1 Hour Offline Earnings Cap (20h Total)",earnings_boost_16:"+5.35% Crypto Sale & Stake Value",minigame_reward_16:"+5.35% Minigame Rewards",starter_miners_t15:"Start All Future Rugpulls With LVL1 T15 Miner For All Cryptos!",token_generation_4:"Earn 0.02599 Corrupt Tokens/s Passively",token_generation_5:"Earn 0.02989 Corrupt Tokens/s Passively",power_capacity_17:"+7.5% Max Power Capacity",miner_efficiency_17:"-7.5% Miner Power Consumption",staking_apy_17:"Earn 0.85% Staking APR",miner_hashrate_17:"+7.5% Miner Hash Rate (All Crypto)",click_hashrate_17:"+2.78% Manual Hash Rate",offline_earnings_17:"+1 Hour Offline Earnings Cap (21h Total)",earnings_boost_17:"+5.35% Crypto Sale & Stake Value",minigame_reward_17:"+5.35% Minigame Rewards",token_generation_6:"Earn 0.03963 Corrupt Tokens/s Passively",power_capacity_18:"+7.5% Max Power Capacity",miner_efficiency_18:"-7.5% Miner Power Consumption",staking_apy_18:"Earn 0.90% Staking APR",miner_hashrate_18:"+7.5% Miner Hash Rate (All Crypto)",click_hashrate_18:"+2.78% Manual Hash Rate",offline_earnings_18:"+1 Hour Offline Earnings Cap (22h Total)",earnings_boost_18:"+5.35% Crypto Sale & Stake Value",minigame_reward_18:"+5.35% Minigame Rewards",power_capacity_19:"+7.5% Max Power Capacity",miner_efficiency_19:"-7.5% Miner Power Consumption",staking_apy_19:"Earn 0.95% Staking APR",miner_hashrate_19:"+7.5% Miner Hash Rate (All Crypto)",click_hashrate_19:"+2.78% Manual Hash Rate",offline_earnings_19:"+1 Hour Offline Earnings Cap (23h Total)",earnings_boost_19:"+5.35% Crypto Sale & Stake Value",minigame_reward_19:"+5.35% Minigame Rewards",power_capacity_20:"+7.5% Max Power Capacity",miner_efficiency_20:"-7.5% Miner Power Consumption",staking_apy_20:"+1.0% Staking APR",miner_hashrate_20:"+7.5% Miner Hash Rate (All Crypto)",click_hashrate_20:"+2.78% Manual Hash Rate",offline_earnings_20:"+1 Hour Offline Earnings Cap (24h Total)",earnings_boost_20:"+5.35% Crypto Sale & Stake Value",minigame_reward_20:"+5.35% Minigame Rewards"}[e]||e}function formatTokenCost(e){const t=Math.abs(e);for(let a=0;a<ABBREVIATIONS.length;a++)if(t>=ABBREVIATIONS[a].threshold)return(e/ABBREVIATIONS[a].threshold).toFixed(3)+ABBREVIATIONS[a].suffix;return t<1?e.toFixed(3):Math.floor(e).toString()}function updateMetaUpgradesUI(){const e=document.getElementById("meta-upgrades-container");if(!e)return;e.innerHTML="";const t=document.getElementById("rugpull-header");if(t){const e=formatTokenCost(rugpullCurrency);t.innerHTML=`<div>RUGPULL UPGRADES</div><div style="font-size: 0.85rem; color: #999; margin-top: 4px;">Corrupt Tokens: ${e}</div>`}const a=1+.01*ascensionLevel;ascensionStats.totalGlobalBonus;let r=0,n=0,i=0,s=0,o=0,_=0,c=0,l=0,p=0;Object.entries(metaUpgrades).forEach(([e,t])=>{if(t.purchased){const t=e.match(/\d+$/);if(!t)return;const a=parseInt(t[0]);if(e.includes("power_capacity")&&(r+=.5*Math.pow(1.15,a-1)),e.includes("miner_efficiency")&&(n+=.5*Math.pow(1.15,a-1)),e.includes("staking_apy")&&(i+=.005*Math.pow(1.15,a-1)),e.includes("miner_hashrate")&&(s+=.5*Math.pow(1.15,a-1)),e.includes("click_hashrate")&&(o+=.5*Math.pow(1.15,a-1)),e.includes("offline_earnings")){const e=Math.round(Math.pow(1.15,a-1));_+=e}if(e.includes("earnings_boost")&&(c+=1*Math.pow(1.15,a-1)),e.includes("minigame_reward")&&(l+=100*(Math.pow(1.15,a-1)-1)),e.includes("token_generation")){const t=getUpgradeName(e).match(/\+([0-9.]+)\s+Corrupt\s+Tokens/);t&&(p+=parseFloat(t[1]))}}});const g=document.createElement("div");g.style.background="rgba(0, 0, 0, 0.4)",g.style.border="1px solid rgba(128, 0, 255, 0.3)",g.style.borderRadius="6px",g.style.padding="16px",g.style.marginBottom="20px",g.style.color="#fff";let d='<div style="margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid rgba(128, 0, 255, 0.2);">';d+='<div style="color: #8000ff; font-weight: 700; font-size: 0.85rem; letter-spacing: 1px; text-transform: uppercase;">Active Bonuses</div>',d+="</div>",d+='<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(145px, 1fr)); gap: 8px; font-size: 0.8rem; line-height: 1.5;">',d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Rugpulls</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">${ascensionLevel}</div>\n    </div>`,d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Manual Hash</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">+${(100*(a-1)).toFixed(1)}%</div>\n    </div>`,d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Hash as Manual</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">+${o.toFixed(1)}%</div>\n    </div>`,d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Power Capacity</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">+${r.toFixed(1)}%</div>\n    </div>`,d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Miner Power</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">-${n.toFixed(1)}%</div>\n    </div>`,d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Miner Hash Rate</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">+${s.toFixed(1)}%</div>\n    </div>`,d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Staking APR</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">+${i.toFixed(2)}%</div>\n    </div>`,d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Offline Earnings</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">${_+4}h</div>\n    </div>`,d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Crypto Sale Value</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">+${c.toFixed(1)}%</div>\n    </div>`,d+=`<div style="background: rgba(128, 0, 255, 0.15); padding: 8px; border-radius: 4px; border-left: 3px solid #8000ff;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Minigame Rewards</div>\n        <div style="color: #00ff88; font-weight: 700; font-size: 0.95rem;">+${l.toFixed(1)}%</div>\n    </div>`,d+=`<div style="grid-column: 1 / -1; background: rgba(247, 147, 26, 0.1); padding: 10px; border-radius: 4px; border-left: 3px solid #f7931a;">\n        <div style="color: #666; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 3px; font-weight: 600;">Passive Token Generation</div>\n        <div style="color: #f7931a; font-weight: 700; font-size: 1rem;">+${p.toFixed(5)}/s</div>\n    </div>`,d+="</div>",g.innerHTML=d,e.appendChild(g);[{name:"Tier 1",upgrades:["power_capacity_1","miner_efficiency_1","staking_apy_1","miner_hashrate_1","click_hashrate_1","offline_earnings_1","earnings_boost_1","minigame_reward_1","token_generation_0"]},{name:"Tier 2",upgrades:["power_capacity_2","miner_efficiency_2","staking_apy_2","miner_hashrate_2","click_hashrate_2","offline_earnings_2","earnings_boost_2","minigame_reward_2","starter_miners_t1","starter_power_p0","token_generation_1_alt"]},{name:"Tier 3",upgrades:["power_capacity_3","miner_efficiency_3","staking_apy_3","miner_hashrate_3","click_hashrate_3","offline_earnings_3","earnings_boost_3","minigame_reward_3","auto_sell","starter_miners_t2","starter_power_p1","token_generation_2_alt"]},{name:"Tier 4",upgrades:["power_capacity_4","miner_efficiency_4","staking_apy_4","miner_hashrate_4","click_hashrate_4","offline_earnings_4","earnings_boost_4","minigame_reward_4","starter_miners_t3","starter_power_p2","token_generation_3_alt"]},{name:"Tier 5",upgrades:["power_capacity_5","miner_efficiency_5","staking_apy_5","miner_hashrate_5","click_hashrate_5","offline_earnings_5","earnings_boost_5","minigame_reward_5","starter_miners_t4","starter_power_p3","token_generation_4_alt"]},{name:"Tier 6",upgrades:["power_capacity_6","miner_efficiency_6","staking_apy_6","miner_hashrate_6","click_hashrate_6","offline_earnings_6","earnings_boost_6","minigame_reward_6","starter_miners_t5","starter_power_p4","token_generation_1"]},{name:"Tier 7",upgrades:["power_capacity_7","miner_efficiency_7","staking_apy_7","miner_hashrate_7","click_hashrate_7","offline_earnings_7","earnings_boost_7","minigame_reward_7","starter_miners_t6","starter_power_p5","minigame_unlock","token_generation_t7"]},{name:"Tier 8",upgrades:["power_capacity_8","miner_efficiency_8","staking_apy_8","miner_hashrate_8","click_hashrate_8","offline_earnings_8","earnings_boost_8","minigame_reward_8","starter_miners_t7","starter_power_p6","cash_multiplier","token_generation_t8"]},{name:"Tier 9",upgrades:["power_capacity_9","miner_efficiency_9","staking_apy_9","miner_hashrate_9","click_hashrate_9","offline_earnings_9","earnings_boost_9","minigame_reward_9","starter_miners_t8","starter_power_p7","token_generation_t9"]},{name:"Tier 10",upgrades:["power_capacity_10","miner_efficiency_10","staking_apy_10","miner_hashrate_10","click_hashrate_10","offline_earnings_10","earnings_boost_10","minigame_reward_10","starter_miners_t9","starter_power_p8","token_generation_t10"]},{name:"Tier 11",upgrades:["power_capacity_11","miner_efficiency_11","staking_apy_11","miner_hashrate_11","click_hashrate_11","offline_earnings_11","earnings_boost_11","minigame_reward_11","starter_miners_t10","starter_power_p9","token_generation_t11"]},{name:"Tier 12",upgrades:["power_capacity_12","miner_efficiency_12","staking_apy_12","miner_hashrate_12","click_hashrate_12","offline_earnings_12","earnings_boost_12","minigame_reward_12","starter_miners_t11","starter_power_p10","token_generation_t12"]},{name:"Tier 13",upgrades:["power_capacity_13","miner_efficiency_13","staking_apy_13","miner_hashrate_13","click_hashrate_13","offline_earnings_13","earnings_boost_13","minigame_reward_13","starter_miners_t12","starter_power_p11","token_generation_t13"]},{name:"Tier 14",upgrades:["power_capacity_14","miner_efficiency_14","staking_apy_14","miner_hashrate_14","click_hashrate_14","offline_earnings_14","earnings_boost_14","minigame_reward_14","starter_miners_t13","starter_power_p12","token_generation_t14"]},{name:"Tier 15",upgrades:["power_capacity_15","miner_efficiency_15","staking_apy_15","miner_hashrate_15","click_hashrate_15","offline_earnings_15","earnings_boost_15","minigame_reward_15","starter_miners_t14","token_generation_t15"]},{name:"Tier 16",upgrades:["power_capacity_16","miner_efficiency_16","staking_apy_16","miner_hashrate_16","click_hashrate_16","offline_earnings_16","earnings_boost_16","minigame_reward_16","starter_miners_t15","token_generation_t16"]},{name:"Tier 17",upgrades:["power_capacity_17","miner_efficiency_17","staking_apy_17","miner_hashrate_17","click_hashrate_17","offline_earnings_17","earnings_boost_17","minigame_reward_17","token_generation_t17"]},{name:"Tier 18",upgrades:["power_capacity_18","miner_efficiency_18","staking_apy_18","miner_hashrate_18","click_hashrate_18","offline_earnings_18","earnings_boost_18","minigame_reward_18","token_generation_t18"]},{name:"Tier 19",upgrades:["power_capacity_19","miner_efficiency_19","staking_apy_19","miner_hashrate_19","click_hashrate_19","offline_earnings_19","earnings_boost_19","minigame_reward_19","token_generation_t19"]},{name:"Tier 20",upgrades:["power_capacity_20","miner_efficiency_20","staking_apy_20","miner_hashrate_20","click_hashrate_20","offline_earnings_20","earnings_boost_20","minigame_reward_20","token_generation_t20"]}].forEach((t,a)=>{if(0===t.upgrades.length)return;const r=a+1,n=!isTierUnlocked(r),i=document.createElement("div");i.style.marginBottom="20px";const s=document.createElement("h4");let o=t.name;o+=1===r?" (Always Available)":` (Unlocks after clearing Tier ${r-1})`,s.textContent=o,s.style.color=n?"#888888":"#00ff88",s.style.marginBottom="10px",i.appendChild(s),t.upgrades.forEach(e=>{if(!metaUpgrades[e])return void console.warn(`Upgrade not found: ${e}`);const t=metaUpgrades[e],a=n,r=document.createElement("button");r.className="meta-upgrade-btn",r.style.display="block",r.style.width="100%",r.style.padding="10px",r.style.marginBottom="8px",r.style.border="2px solid #8000ff",r.style.borderRadius="6px",r.style.background=t.purchased?"#333333":a?"#1a1a1a":"#1a1a2e",r.style.color=t.purchased?"#888888":a?"#555555":"#ffffff",r.style.cursor=t.purchased?"default":a?"not-allowed":"pointer",r.style.fontWeight="bold",r.style.opacity=a?"0.5":"1",r.disabled=a;const s=getUpgradeName(e),o=formatTokenCost(t.cost);let _=t.purchased?"‚úì OWNED":`üíé ${o}`;a&&(_="üîí LOCKED");let c="";if("auto_sell"===e&&t.purchased){c=` [${void 0===upgradeToggleState||upgradeToggleState.auto_sell?"ON":"OFF"}]`}r.innerHTML=`${s}${c}<br><small>${_}</small>`,t.purchased?"auto_sell"===e&&(r.style.cursor="pointer",r.onclick=()=>toggleAutoSell(),r.onmouseover=()=>r.style.background="#3a3a5e",r.onmouseout=()=>r.style.background="#333333"):a||(r.onclick=()=>purchaseMetaUpgrade(e),r.onmouseover=()=>r.style.background="#2a2a4e",r.onmouseout=()=>r.style.background="#1a1a2e"),i.appendChild(r)}),e.appendChild(i)})}function getAscensionData(){return{ascensionLevel:ascensionLevel,rugpullCurrency:rugpullCurrency,lastShownMilestoneEarnings:lastShownMilestoneEarnings,lifetimeEarningsThisRugpull:lifetimeEarningsThisRugpull,ascensionStats:ascensionStats,metaUpgrades:metaUpgrades,unlockedSystems:unlockedSystems,upgradeToggleState:upgradeToggleState,permanentMilestoneDoublings:permanentMilestoneDoublings}}function loadAscensionData(e){e?(console.log("loadAscensionData called with:",e),ascensionLevel=e.ascensionLevel||0,rugpullCurrency=parseFloat(e.rugpullCurrency)||0,lastShownMilestoneEarnings=e.lastShownMilestoneEarnings||0,lifetimeEarningsThisRugpull=e.lifetimeEarningsThisRugpull||0,console.log("[RUGPULL-LOAD] Loaded lifetimeEarningsThisRugpull:",lifetimeEarningsThisRugpull,"from data:",e.lifetimeEarningsThisRugpull),ascensionStats=e.ascensionStats||{totalRunsCompleted:0,currencyEarned:0,bestRunEarnings:0,totalGlobalBonus:0},e.metaUpgrades&&Object.keys(e.metaUpgrades).forEach(t=>{metaUpgrades[t]&&(metaUpgrades[t].purchased=e.metaUpgrades[t].purchased||!1)}),upgradeToggleState=e.upgradeToggleState||{auto_sell:!0},window.upgradeToggleState=upgradeToggleState,window.metaUpgrades=metaUpgrades,e.permanentMilestoneDoublings&&(permanentMilestoneDoublings=e.permanentMilestoneDoublings),unlockedSystems=e.unlockedSystems||unlockedSystems,console.log("After load - rugpullCurrency:",rugpullCurrency,"ascensionLevel:",ascensionLevel),console.log("After load - upgradeToggleState:",upgradeToggleState)):console.log("loadAscensionData: No data provided")}function resetAscensionData(){ascensionLevel=0,rugpullCurrency=0,lastShownMilestoneEarnings=0,lifetimeEarningsThisRugpull=0,console.log("[RUGPULL-RESET] lifetimeEarningsThisRugpull reset to:",lifetimeEarningsThisRugpull),ascensionStats={totalRunsCompleted:0,currencyEarned:0,bestRunEarnings:0,totalGlobalBonus:0};for(const e in metaUpgrades)metaUpgrades[e].purchased=!1;unlockedSystems={basicAscension:!0,advancedMetaUpgrades:!1,quantumBranch:!1,infinityGates:!1},window.metaUpgrades=metaUpgrades,window.upgradeToggleState=upgradeToggleState}function tryAutoBuyBasicUpgrades(){if(!metaUpgrades.auto_buy_basic.purchased)return;btcUpgrades.filter(e=>e.id<=3).forEach(e=>{for(;dollarBalance>=e.currentUsd&&e.level<100;){dollarBalance-=e.currentUsd,e.level++,e.currentUsd=e.baseUsd*Math.pow(1.15,e.level),e.currentYield=e.baseYield*e.level,btcPerSec=btcUpgrades.reduce((e,t)=>e+(t.currentYield||0),0);const t="function"==typeof getAscensionMiningBonus?getAscensionMiningBonus():0;btcPerSec*=1+t}});ethUpgrades.filter(e=>e.id<=3).forEach(e=>{for(;dollarBalance>=e.currentUsd&&e.level<100;){dollarBalance-=e.currentUsd,e.level++,e.currentUsd=e.baseUsd*Math.pow(1.15,e.level),e.currentYield=e.baseYield*e.level,ethPerSec=ethUpgrades.reduce((e,t)=>e+(t.currentYield||0),0);const t="function"==typeof getAscensionMiningBonus?getAscensionMiningBonus():0;ethPerSec*=1+t}});dogeUpgrades.filter(e=>e.id<=3).forEach(e=>{for(;dollarBalance>=e.currentUsd&&e.level<100;){dollarBalance-=e.currentUsd,e.level++,e.currentUsd=e.baseUsd*Math.pow(1.15,e.level),e.currentYield=e.baseYield*e.level,dogePerSec=dogeUpgrades.reduce((e,t)=>e+(t.currentYield||0),0);const t="function"==typeof getAscensionMiningBonus?getAscensionMiningBonus():0;dogePerSec*=1+t}})}function getRugpullRequirement(){if(0===ascensionLevel)return 1e6;const e=ascensionLevel+1;return 1e6*Math.pow(10,e-1)/2}function isRugpullEligible(){return lifetimeEarningsThisRugpull>=getRugpullRequirement()}function updateCurrentRunEarnings(e){lifetimeEarningsThisRugpull=e}function updateStoreButtonVisibility(){const e=document.getElementById("rugpull-store-btn");e&&(e.style.display=rugpullCurrency>0?"inline-block":"none")}function openMetaUpgradesModal(){const e=document.getElementById("meta-upgrades-modal");if(!e)return void console.error("Meta-upgrades modal not found in HTML");document.getElementById("meta-upgrades-container")&&updateMetaUpgradesUI(),e.style.display="flex"}function closeMetaUpgradesModal(){const e=document.getElementById("meta-upgrades-modal");e&&(e.style.display="none"),"function"==typeof updateStoreButtonVisibility&&updateStoreButtonVisibility()}function showRugpullTooltip(){const e=document.getElementById("rugpull-tooltip");e&&(e.style.visibility="visible",e.style.opacity="1")}function hideRugpullTooltip(){const e=document.getElementById("rugpull-tooltip");e&&(e.style.visibility="hidden",e.style.opacity="0")}function updateAscensionUI(){const e=document.getElementById("ascension-info");if(e)if(0===ascensionLevel&&0===rugpullCurrency)e.innerHTML="";else{const l=formatTokenCost(rugpullCurrency);e.innerHTML=`\n                <div style="text-align: center; padding: 8px; background: rgba(0,0,0,0.4); border-radius: 6px; border: 1px solid #666; margin-top: 6px; color: #ccc; font-size: 0.75rem; letter-spacing: 1px; text-transform: uppercase; font-weight: 800;">\n                    Rugpulls: <span style="color: #f7931a; font-size: 0.9rem;">${ascensionLevel}</span> | Corrupt Tokens: <span style="color: #00ff88; font-size: 0.9rem;">${l}</span>\n                </div>\n            `}const t=document.getElementById("rugpull-btn"),a=document.getElementById("rugpull-btn-mobile"),r=document.getElementById("rugpull-btn-desktop"),n=document.getElementById("rugpull-progress-text-mobile"),i=document.getElementById("rugpull-progress-text-desktop");if(t||a||r){const p=isRugpullEligible();t&&(t.disabled=!p),a&&(a.disabled=!p),r&&(r.disabled=!p);const g=p?{background:"#9c27b0",opacity:"1",cursor:"pointer",boxShadow:"0 0 15px rgba(156,39,176,0.8)"}:{background:"#666",opacity:"0.5",cursor:"not-allowed",boxShadow:"none"};t&&(t.style.background=g.background,t.style.opacity=g.opacity,t.style.cursor=g.cursor,t.style.boxShadow=g.boxShadow),a&&(a.style.background=g.background,a.style.opacity=g.opacity,a.style.cursor=g.cursor,a.style.boxShadow=g.boxShadow),r&&(r.style.background=g.background,r.style.opacity=g.opacity,r.style.cursor=g.cursor,r.style.boxShadow=g.boxShadow)}if(n||i){let d="",u="";function s(e){return e>=1e60?`$${(e/1e60).toFixed(1)}Nmdc`:e>=1e57?`$${(e/1e57).toFixed(1)}O/Odc`:e>=1e54?`$${(e/1e54).toFixed(1)}Spdc`:e>=1e51?`$${(e/1e51).toFixed(1)}Sxdc`:e>=1e48?`$${(e/1e48).toFixed(1)}Qdc`:e>=1e45?`$${(e/1e45).toFixed(1)}Qdc`:e>=1e42?`$${(e/1e42).toFixed(1)}Tdc`:e>=1e39?`$${(e/1e39).toFixed(1)}U/Udc`:e>=1e36?`$${(e/1e36).toFixed(1)}D/Ddc`:e>=1e33?`$${(e/1e33).toFixed(1)}Dc`:e>=1e30?`$${(e/1e30).toFixed(1)}N`:e>=1e27?`$${(e/1e27).toFixed(1)}O`:e>=1e24?`$${(e/1e24).toFixed(1)}Sep`:e>=1e21?`$${(e/1e21).toFixed(1)}S`:e>=1e18?`$${(e/1e18).toFixed(1)}Qa`:e>=1e15?`$${(e/1e15).toFixed(1)}Q`:e>=1e12?`$${(e/1e12).toFixed(1)}T`:e>=1e9?`$${(e/1e9).toFixed(1)}B`:e>=1e6?`$${(e/1e6).toFixed(0)}M`:`$${Math.floor(e).toLocaleString()}`}d=s(getRugpullRequirement()),u=s(lifetimeEarningsThisRugpull),n&&(n.textContent=`${u} / ${d}`),i&&(i.textContent=`${u} / ${d}`)}const o=document.getElementById("rugpull-store-btn"),_=document.getElementById("rugpull-store-btn-mobile-main"),c=document.getElementById("rugpull-store-btn-desktop");(o||c||_)&&(rugpullCurrency>0?(o&&(o.style.display="inline-block"),_&&(_.style.display="flex"),c&&(c.style.display="flex")):(o&&(o.style.display="none"),_&&(_.style.display="none"),c&&(c.style.display="none")))}function handleRugpullButtonClick(){isRugpullEligible()?showRugpullOffer():openMetaUpgradesModal()}function checkRugpullMilestone(){const e=lifetimeEarningsThisRugpull;if(!e)return;const t=getRugpullRequirement();e>=t&&lastShownMilestoneEarnings<t&&(lastShownMilestoneEarnings=e,showRugpullMilestonePopup(ascensionLevel+1))}function showRugpullMilestonePopup(e){showRugpullOffer()}function closeRugpullMilestoneModal(){const e=document.getElementById("rugpull-milestone-modal");e&&(e.style.display="none"),"function"==typeof updateStoreButtonVisibility&&updateStoreButtonVisibility()}function confirmRugpullFromModal(){closeRugpullMilestoneModal(),showRugpullOffer()}function showRugpullCompleteModal(e){const t=document.getElementById("rugpull-complete-modal"),a=document.getElementById("complete-modal-text");t&&a&&(a.innerHTML=`\n            <div style="color: #ffeb3b; font-size: 1.1rem; font-weight: bold; margin-bottom: 15px;">+${e} Corrupt Tokens earned</div>\n            <div>Total Tokens: <span style="color: #ffeb3b; font-weight: bold;">${rugpullCurrency}</span></div>\n            <div style="margin-top: 15px; line-height: 1.8;">\n                New run starting with bonuses...<br>\n                <span style="font-size: 0.9rem;">Open the Rugpull Store to spend your tokens!</span>\n            </div>\n        `,t.style.display="flex")}function closeRugpullCompleteModal(){const e=document.getElementById("rugpull-complete-modal");e&&(e.style.display="none")}function showGenericMessageModal(e,t){const a=document.getElementById("generic-message-modal"),r=document.getElementById("generic-modal-title"),n=document.getElementById("generic-modal-text");a&&r&&n&&(r.textContent=e,n.innerHTML=t,a.style.display="flex")}function closeGenericMessageModal(){const e=document.getElementById("generic-message-modal");e&&(e.style.display="none")}function testRugpull(){showRugpullOffer()}window.giveTestMillion=function(){"function"==typeof setTestEarnings&&setTestEarnings(1e6),lastShownMilestoneEarnings=0,"function"==typeof updateUI&&updateUI()},window.giveTestTenMillion=function(){"function"==typeof setTestEarnings&&setTestEarnings(1e7),lastShownMilestoneEarnings=0,"function"==typeof updateUI&&updateUI()},window.giveTestHundredMillion=function(){"function"==typeof setTestEarnings&&setTestEarnings(1e8),lastShownMilestoneEarnings=0,"function"==typeof updateUI&&updateUI()},window.giveTest10Billion=function(){"function"==typeof setTestEarnings&&setTestEarnings(1e10),lastShownMilestoneEarnings=0,"function"==typeof updateUI&&updateUI()},window.giveTest100Billion=function(){"function"==typeof setTestEarnings&&setTestEarnings(1e11),lastShownMilestoneEarnings=0,"function"==typeof updateUI&&updateUI()},window.giveTest1Trillion=function(){"function"==typeof setTestEarnings&&setTestEarnings(1e12),lastShownMilestoneEarnings=0,"function"==typeof updateUI&&updateUI()},window.testRugpull=testRugpull,window.metaUpgrades=metaUpgrades,window.upgradeToggleState=upgradeToggleState,window.rugpullState={lifetimeEarningsDisplay:lifetimeEarningsDisplay},window.rugpullCurrency=rugpullCurrency,window.ascensionLevel=ascensionLevel,window.updateStoreButtonVisibility=updateStoreButtonVisibility,window.updateAscensionUI=updateAscensionUI,window.updateCurrentRunEarnings=updateCurrentRunEarnings,window.checkRugpullMilestone=checkRugpullMilestone,window.getRugpullRequirement=getRugpullRequirement,Object.defineProperty(window,"lifetimeEarningsThisRugpull",{get:function(){return lifetimeEarningsThisRugpull},set:function(e){lifetimeEarningsThisRugpull=e}}),window.rugpullAddEarnings=function(e){lifetimeEarningsThisRugpull+=e,console.log("[RUGPULL] Earnings event:",{amount:e,currentEarnings:lifetimeEarningsThisRugpull}),"function"==typeof updateAscensionUI&&updateAscensionUI()},window._rugpullImpl||(window._rugpullImpl={}),window._rugpullImpl.showRugpullTooltip=showRugpullTooltip,window._rugpullImpl.hideRugpullTooltip=hideRugpullTooltip,window._rugpullImpl.openMetaUpgradesModal=openMetaUpgradesModal,window.closeMetaUpgradesModal=closeMetaUpgradesModal,window._rugpullImpl.handleRugpullButtonClick=handleRugpullButtonClick,window.resetRugpullTracker=function(){lifetimeEarningsThisRugpull=0,console.log("[RUGPULL] Tracker reset - lifetimeEarningsThisRugpull = 0"),"function"==typeof updateAscensionUI&&updateAscensionUI()};
