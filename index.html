<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Anti-debugging protection -->
    <!-- <script>
      setInterval(function() {
        debugger;
      }, 100);
    </script> -->

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2H559N5J64"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2H559N5J64');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Idle BTC Miner - Play Now! | Free Cryptocurrency Idle Game</title>
    <meta name="description" content="Idle BTC Miner - Play our free browser-based idle game and build your crypto mining empire. Earn Bitcoin, Ethereum, and Dogecoin through passive gameplay. No investment required. 18+">
    <meta name="keywords" content="idle game, cryptocurrency, bitcoin, ethereum, dogecoin, mining simulator, incremental game, clicker game, free online game">
    <meta name="author" content="Aaron Khan">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Idle BTC Miner - Play Now! | Free Cryptocurrency Idle Game">
    <meta property="og:description" content="Build your crypto mining empire in this free idle game. Earn BTC, ETH, and DOGE through mining, staking, and strategic upgrades. Play now!">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://idlebtcminer.com/og-image.png">
    <meta property="og:url" content="https://idlebtcminer.com">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Idle BTC Miner - Play Now!">
    <meta name="twitter:description" content="Free cryptocurrency idle game. Build your mining empire and earn BTC, ETH, DOGE!">
    <meta name="twitter:image" content="https://idlebtcminer.com/og-image.png">
    <link rel="canonical" href="https://idlebtcminer.com">
    <link rel="sitemap" type="application/xml" href="/sitemap.xml">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="coin-rain.js?v=1.2.0"></script>
    <link rel="stylesheet" href="styles.css?v=1.2.0">
    <script>
        // Allow zoom functionality - user can zoom in/out naturally
        // The interface scales responsively based on viewport size
        // No zoom restrictions
    </script>
</head>
<body>

    <!-- Combined Age & Terms Acceptance Modal -->
    <div id="age-terms-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,1); z-index: 10001; justify-content: center; align-items: center; overflow: auto; padding-bottom: 60px;">
        <div style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 18px; border-radius: 12px; max-width: 600px; max-height: 70vh; overflow-y: auto; text-align: center; border: 2px solid #f7931a; box-shadow: 0 0 30px rgba(247,147,26,0.5); margin: 12px;">
            <h2 style="color: #f7931a; margin-bottom: 10px; font-size: 1.3rem;">‚ö†Ô∏è Age Requirement & Terms</h2>

            <div style="text-align: left; margin-bottom: 14px;">
                <div style="margin-bottom: 12px;">
                    <p style="color: #fff; font-size: 0.8rem; margin-bottom: 6px; line-height: 1.4;">
                        This game is intended for users <strong style="color: #f7931a;">18 years or older</strong>.
                    </p>
                    <p style="color: #aaa; font-size: 0.75rem; line-height: 1.3;">
                        This is a <strong>simulation game</strong> with <strong>no real cryptocurrency or monetary value</strong>. All currency and assets are virtual and for entertainment purposes only.
                    </p>
                    <p style="color: #f7931a; font-size: 0.7rem; line-height: 1.3; margin-top: 6px; font-weight: 600;">
                        ‚ö†Ô∏è <strong>Disclaimer:</strong> This game has no affiliation with Bitcoin (BTC), Ethereum (ETH), Dogecoin (DOGE), or any real cryptocurrency projects. This is purely fictional entertainment.
                    </p>
                </div>

                <div style="border-top: 1px solid #444; padding-top: 10px;">
                    <p style="color: #fff; font-size: 0.75rem; margin-bottom: 6px;">
                        Please read and accept our Terms and Conditions to continue.
                    </p>
                    <div style="background: rgba(255,255,255,0.05); border: 1px solid #f7931a; border-radius: 8px; padding: 8px; max-height: 140px; overflow-y: auto; text-align: left;">
                        <iframe id="terms-preview" src="terms.html" style="width: 100%; height: 130px; border: none; background: transparent;"></iframe>
                    </div>
                </div>
            </div>

            <div style="display: flex; gap: 8px; justify-content: center; flex-wrap: wrap;">
                <button onclick="acceptAgeAndTerms()" style="background: #f7931a; color: #000; border: none; padding: 10px 24px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 0.8rem; transition: 0.2s; box-shadow: 0 4px 15px rgba(247,147,26,0.4);">
                    ‚úì I AM 18+ & ACCEPT
                </button>
                <button onclick="declineTerms()" style="background: #333; color: #f7931a; border: 2px solid #f7931a; padding: 10px 24px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 0.8rem; transition: 0.2s;">
                    ‚úó DECLINE
                </button>
            </div>
        </div>
    </div>

    <!-- Privacy & Cookie Policy Modal -->
    <div id="privacy-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,1); z-index: 100000; justify-content: center; align-items: center; overflow: auto;">
        <div style="background: #fff; padding: 20px; border-radius: 12px; max-width: 900px; width: 90%; max-height: 90vh; overflow-y: auto; margin: 20px; position: relative; border: 2px solid #f7931a; box-shadow: 0 0 30px rgba(247,147,26,0.5);">
            <button onclick="closePrivacyModal()" style="position: absolute; top: 15px; right: 15px; background: #f7931a; color: #000; border: none; padding: 10px 20px; font-weight: 800; border-radius: 6px; cursor: pointer; font-size: 1rem; transition: 0.2s; z-index: 1;">
                CLOSE
            </button>
            <!-- Policy Tabs -->
            <div style="display: flex; gap: 10px; margin-bottom: 15px; border-bottom: 2px solid #f7931a;">
                <button id="policy-tab-privacy" onclick="switchPolicyTab('privacy')" style="padding: 10px 20px; background: #f7931a; color: #000; border: none; font-weight: 800; cursor: pointer; border-radius: 6px 6px 0 0; font-size: 0.95rem;">
                    PRIVACY POLICY
                </button>
                <button id="policy-tab-cookies" onclick="switchPolicyTab('cookies')" style="padding: 10px 20px; background: #ddd; color: #000; border: none; font-weight: 800; cursor: pointer; border-radius: 6px 6px 0 0; font-size: 0.95rem;">
                    COOKIE POLICY
                </button>
                <button id="policy-tab-terms" onclick="switchPolicyTab('terms')" style="padding: 10px 20px; background: #ddd; color: #000; border: none; font-weight: 800; cursor: pointer; border-radius: 6px 6px 0 0; font-size: 0.95rem;">
                    TERMS & CONDITIONS
                </button>
                <button id="policy-tab-contact" onclick="switchPolicyTab('contact')" style="padding: 10px 20px; background: #ddd; color: #000; border: none; font-weight: 800; cursor: pointer; border-radius: 6px 6px 0 0; font-size: 0.95rem;">
                    CONTACT
                </button>
            </div>
            <iframe id="privacy-iframe" src="privacy.html" style="width: 100%; height: 80vh; border: none;"></iframe>
        </div>
    </div>

    <!-- Backup Reminder Modal -->
    <div id="backup-reminder-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 9500; justify-content: center; align-items: center; overflow: auto;">
        <div style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 30px; border-radius: 12px; max-width: 600px; width: 90%; border: 2px solid #FFD700; box-shadow: 0 0 30px rgba(255,215,0,0.3);">
            <div style="text-align: center; margin-bottom: 20px;">
                <div style="font-size: 3rem; margin-bottom: 15px;">üíæ</div>
                <h2 style="color: #FFD700; font-size: 1.8rem; margin: 0 0 10px 0; text-transform: uppercase; letter-spacing: 2px;">Backup Your Game</h2>
                <p style="color: #ccc; font-size: 0.95rem; margin: 0; line-height: 1.6;">
                    It's recommended to back up your game progress regularly using the import/export feature. This protects your progress in case of data loss.
                </p>
            </div>
            <div style="background: rgba(255,215,0,0.05); border-left: 4px solid #FFD700; padding: 15px; margin: 20px 0; border-radius: 4px;">
                <p style="color: #FFD700; font-weight: 700; margin: 0 0 8px 0; font-size: 0.9rem;">üí° How to Backup:</p>
                <ol style="color: #ccc; margin: 0; padding-left: 20px; font-size: 0.85rem; line-height: 1.6;">
                    <li>Click the <strong>EXPORT/IMPORT</strong> button in the utilities panel</li>
                    <li>Copy the generated code to a safe location (notepad, email, cloud storage)</li>
                    <li>To restore, paste the code and click <strong>IMPORT</strong></li>
                </ol>
            </div>
            <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                <button onclick="closeBackupReminder()" style="background: #FFD700; color: #000; border: none; padding: 12px 25px; font-weight: 800; border-radius: 6px; cursor: pointer; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; transition: 0.2s;">
                    Got It
                </button>
                <button onclick="openExportImportModal(); closeBackupReminder();" style="background: rgba(255,215,0,0.2); color: #FFD700; border: 2px solid #FFD700; padding: 10px 25px; font-weight: 800; border-radius: 6px; cursor: pointer; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; transition: 0.2s;">
                    Export Now
                </button>
                <button onclick="dismissBackupReminderPermanently()" style="background: rgba(255,215,0,0.1); color: #999; border: 2px solid #666; padding: 10px 25px; font-weight: 800; border-radius: 6px; cursor: pointer; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; transition: 0.2s;">
                    Never Show Again
                </button>
            </div>
        </div>
    </div>

    <div id="main-layout">
        <div class="panel">
            <!-- Top Horizontal Button Row -->
            <div style="display: flex; flex-wrap: wrap; gap: 6px; align-items: center; justify-content: center; margin-bottom: 12px; pointer-events: auto;" id="utility-buttons-container">
                <button id="mute-btn" style="background: #888; color: white; border: none; padding: 6px 10px; font-weight: 700; border-radius: 4px; cursor: pointer; font-size: 0.55rem; white-space: nowrap;" onclick="toggleMute()">SOUND ON</button>
                <button id="vfx-btn" style="background: #888; color: white; border: none; padding: 6px 10px; font-weight: 700; border-radius: 4px; cursor: pointer; font-size: 0.55rem; white-space: nowrap;" onclick="toggleVFX()">VFX ON</button>
                <button style="background: #9c27b0; color: white; border: none; padding: 6px 10px; font-weight: 700; border-radius: 4px; cursor: pointer; font-size: 0.55rem; white-space: nowrap;" onclick="toggleFullscreen()">‚õ∂ FULLSCREEN</button>
                <button style="background: #4CAF50; color: white; border: none; padding: 6px 10px; font-weight: 700; border-radius: 4px; cursor: pointer; font-size: 0.55rem; white-space: nowrap;" onclick="document.getElementById('game-instructions').style.display='flex'; localStorage.removeItem('instructionsDismissed');">SHOW HELP</button>
                <button style="background: #2196F3; color: white; border: none; padding: 6px 10px; font-weight: 700; border-radius: 4px; cursor: pointer; font-size: 0.55rem; white-space: nowrap;" onclick="openExportImportModal()">EXPORT/IMPORT</button>
                <button style="background: #ffa500; color: white; border: none; padding: 6px 10px; font-weight: 700; border-radius: 4px; cursor: pointer; font-size: 0.55rem; white-space: nowrap;" onclick="resetEarningsStats()">RESET EARNINGS</button>
                <button style="background: #ff3344; color: white; border: none; padding: 6px 10px; font-weight: 700; border-radius: 4px; cursor: pointer; font-size: 0.55rem; white-space: nowrap;" onclick="resetGame()">RESET SAVE</button>
                <button id="achievements-btn" style="background: #ff6b35; color: white; border: none; padding: 6px 10px; font-weight: 700; border-radius: 4px; cursor: pointer; font-size: 0.55rem; white-space: nowrap;" onclick="openAchievementsModal()">üèÜ ACHIEVEMENTS</button>
            </div>

            <!-- Three-Column Layout -->
            <div style="display: flex; gap: 10px; align-items: flex-start; margin-bottom: 12px;">
                <!-- Left Sidebar: Hardware Equity -->
                <div class="stat-box stat-box-hardware" style="padding: 9px 15px; background: rgba(76, 175, 80, 0.15); border-radius: 4px; border: 1px solid #4CAF50; min-width: 120px; flex-shrink: 0;">
                    <span style="font-size: 0.75rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 3px; font-weight: 800;">HARDWARE EQUITY</span>
                    <b style="font-size: 1.1rem; color: #4CAF50; font-family: monospace; font-weight: 900; white-space: nowrap;" id="asset-usd">$0</b>
                </div>

                <!-- Center Content -->
                <div style="flex: 1; text-align: center;">
                    <!-- Money Counter with Crypto Breakdown inline -->
                    <div style="text-align: center; margin-bottom: 8px;">
                        <div class="nw-amount" id="nw-val" style="margin-bottom: 4px;">$0.00</div>
                        <div style="display: flex; justify-content: center; gap: 8px; align-items: center; flex-wrap: nowrap; font-size: clamp(0.7rem, 2vw, 0.9rem); color: #888; font-family: monospace;" id="nw-breakdown">
                            <span style="color: #f7931a; flex-shrink: 0;">‚Çø <span id="nw-btc">0.00</span></span>
                            <span style="color: #888; flex-shrink: 0;">|</span>
                            <span style="color: #627eea; flex-shrink: 0;">Œû <span id="nw-eth">0.00</span></span>
                            <span style="color: #888; flex-shrink: 0;">|</span>
                            <span style="color: #c2a633; flex-shrink: 0;">√ê <span id="nw-doge">0.00</span></span>
                        </div>
                    </div>

                    <!-- Pie Chart Centered -->
                    <div style="display: flex; gap: 10px; margin-bottom: 4px; align-items: center; justify-content: center;">
                        <div style="width: 90px; height: 90px; flex-shrink: 0; display: flex; align-items: center; justify-content: center;">
                            <canvas id="cryptoPieChart"></canvas>
                        </div>
                    </div>

                    <!-- Hashrate Boxes - BTC, ETH, DOGE centered -->
                    <div style="display: flex; gap: 6px; justify-content: center; flex-wrap: nowrap; align-items: center; margin-bottom: 4px; overflow-x: auto;">
                        <div class="stat-box stat-box-btc" style="padding: 9px 15px; background: rgba(247, 147, 26, 0.15); border-radius: 4px; border: 1px solid #f7931a; min-width: 100px; flex-shrink: 0;">
                            <span style="font-size: 0.75rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 3px; font-weight: 800;">BTC HASHRATE</span>
                            <b style="font-size: 1.1rem; color: #f7931a; font-family: monospace; font-weight: 900; white-space: nowrap;" id="yield-btc">0.00000000/s</b>
                        </div>
                        <div class="stat-box stat-box-eth" style="padding: 9px 15px; background: rgba(98, 126, 234, 0.15); border-radius: 4px; border: 1px solid #627eea; min-width: 100px; flex-shrink: 0;">
                            <span style="font-size: 0.75rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 3px; font-weight: 800;">ETH HASHRATE</span>
                            <b style="font-size: 1.1rem; color: #627eea; font-family: monospace; font-weight: 900; white-space: nowrap;" id="yield-eth">0.00000000/s</b>
                        </div>
                        <div class="stat-box stat-box-doge" style="padding: 9px 15px; background: rgba(194, 166, 51, 0.15); border-radius: 4px; border: 1px solid #c2a633; min-width: 100px; flex-shrink: 0;">
                            <span style="font-size: 0.75rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 3px; font-weight: 800;">DOGE HASHRATE</span>
                            <b style="font-size: 1.1rem; color: #c2a633; font-family: monospace; font-weight: 900; white-space: nowrap;" id="yield-doge">0.00000000/s</b>
                        </div>
                    </div>
                </div>

                <!-- Right Sidebar: Time, Earning, Lifetime -->
                <div style="display: flex; flex-direction: column; gap: 6px; flex-shrink: 0;">
                    <div class="stat-box stat-box-session" style="padding: 9px 15px; background: rgba(0,0,0,0.3); border-radius: 4px; border: 1px solid #222; min-width: 140px;">
                        <span style="font-size: 0.75rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 3px; font-weight: 800;">TIME THIS SESSION</span>
                        <b style="font-size: 1.1rem; color: #ffffff; font-family: monospace; font-weight: 900; word-break: break-word;" id="session-time">0m 0s</b>
                    </div>
                    <div class="stat-box stat-box-session-earnings" style="padding: 9px 15px; background: rgba(0,0,0,0.3); border-radius: 4px; border: 1px solid #222; min-width: 140px;">
                        <span style="font-size: 0.75rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 3px; font-weight: 800;">EARNING THIS SESSION</span>
                        <b style="font-size: 1.1rem; color: #00ff88; font-family: monospace; font-weight: 900; word-break: break-word;" id="session-earning">$0.00</b>
                    </div>
                    <div class="stat-box stat-box-earnings" style="padding: 9px 15px; background: rgba(0,0,0,0.3); border-radius: 4px; border: 1px solid #222; min-width: 140px;">
                        <span style="font-size: 0.75rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 3px; font-weight: 800;">LIFETIME EARNINGS</span>
                        <b style="font-size: 1.1rem; color: #00ff88; font-family: monospace; font-weight: 900; word-break: break-word;" id="lifetime-earning">$0.00</b>
                    </div>
                </div>
            </div>

            <!-- Ascension Info -->
            <div id="ascension-info" style="margin-bottom: 4px;"></div>

            <!-- Crypto Prices Header -->
            <div style="padding: 12px 10px; text-align: center; background: rgba(0,0,0,0.3); border-bottom: 1px solid #222;">
                <span style="font-size: 0.85rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 8px;">Crypto Prices (Virtual)</span>
                <div id="crypto-prices-flex" style="display: flex; flex-wrap: nowrap; align-items: flex-start; width: 100%; margin-right: 0;">
                    <div style="flex: 1; text-align: center;">
                        <div style="font-size: 0.65rem; color: #f7931a; font-weight: 800; display: block; margin-bottom: 4px;">BITCOIN</div>
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 2px;">
                            <b class="stat-val" id="btc-price" style="font-size: 1.4rem; white-space: nowrap;">$100,000</b>
                            <div style="display: flex; align-items: center; gap: 4px; height: 16px;">
                                <span id="btc-indicator" style="font-size: 1.2rem; font-weight: bold;"></span>
                                <span id="btc-change" style="font-size: 0.9rem; font-weight: bold;"></span>
                            </div>
                        </div>
                    </div>
                    <div style="flex: 1; text-align: center;">
                        <div style="font-size: 0.65rem; color: #627eea; font-weight: 800; display: block; margin-bottom: 4px;">ETHEREUM</div>
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 2px;">
                            <b class="stat-val" id="eth-price" style="font-size: 1.4rem; white-space: nowrap;">$3,500</b>
                            <div style="display: flex; align-items: center; gap: 4px; height: 16px;">
                                <span id="eth-indicator" style="font-size: 1.2rem; font-weight: bold;"></span>
                                <span id="eth-change" style="font-size: 0.9rem; font-weight: bold;"></span>
                            </div>
                        </div>
                    </div>
                    <div style="flex: 1; text-align: center;">
                        <div style="font-size: 0.65rem; color: #c2a633; font-weight: 800; display: block; margin-bottom: 4px;">DOGECOIN</div>
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 2px;">
                            <b class="stat-val" id="doge-price" style="font-size: 1.4rem;">$0.25</b>
                            <div style="display: flex; align-items: center; gap: 4px; height: 16px;">
                                <span id="doge-indicator" style="font-size: 1.2rem; font-weight: bold;"></span>
                                <span id="doge-change" style="font-size: 0.9rem; font-weight: bold;"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts Container -->
            <div style="display: flex; flex-direction: column; width: 100%; gap: 0; overflow: visible; flex: 1; min-height: 0; position: relative; padding-bottom: 0; margin-bottom: 0; box-sizing: border-box;">
                <!-- Chart Time Range Slider (positioned at top of container) -->
                <div style="padding: 8px 10px 6px 10px; text-align: center; flex-shrink: 0; background: rgba(0,0,0,0.3); border-bottom: 1px solid #333; position: relative; z-index: 100;">
                    <label for="chart-time-slider" style="color: #999; font-size: 0.85rem; margin-right: 10px; display: inline-block;">Time Range:</label>
                    <input type="range" id="chart-time-slider" min="1" max="30" value="5" step="1" style="width: 200px; cursor: pointer; vertical-align: middle;">
                    <span id="chart-time-label" style="color: #00ff88; font-size: 0.85rem; font-weight: 600; margin-left: 10px; display: inline-block; min-width: 100px;">Last 5 Minutes</span>
                </div>
                <!-- Net Worth Chart -->
                <div id="nw-chart-container" class="chart-wrapper" style="position: relative; width: 100%; flex: 1.86; display: block; box-sizing: border-box;">
                    <!-- Portfolio Valuation Title (overlaid on chart) -->
                    <span style="position: absolute; top: 10px; left: 10px; color: #888; text-transform: uppercase; letter-spacing: 2px; font-weight: 700; font-size: 0.85rem; z-index: 10; pointer-events: none;" class="portfolio-title">Portfolio Valuation</span>
                    <canvas id="nwChart" width="800" height="300"></canvas>
                    <!-- News ticker overlay -->
                    <div id="news-ticker-overlay" style="position: absolute; bottom: 0; right: 0; width: 100%; max-width: 400px; max-height: 200px; overflow-y: auto; background: transparent; pointer-events: none;">
                        <div id="news-ticker-content" style="display: flex; flex-direction: column; gap: 4px;"></div>
                    </div>
                    <!-- Chart Marker Tooltip -->
                    <div id="chart-marker-tooltip" style="display: none; position: absolute; background: white; color: #333; padding: 6px 12px; border-radius: 6px; font-size: 0.85rem; font-weight: 600; white-space: nowrap; box-shadow: 0 2px 8px rgba(0,0,0,0.15); z-index: 10; pointer-events: none;"></div>
                </div>

                <!-- Hash Rate Chart -->
                <div id="hr-chart-container" class="chart-wrapper" style="position: relative; width: 100%; flex: 1; display: block; margin-bottom: 0; box-sizing: border-box;">
                    <canvas id="hashRateChart" width="800" height="200" style="width: 100% !important; height: 100% !important; display: block !important;"></canvas>
                </div>
            </div>
            <!-- Chart Date Tracker - Fixed to footer -->
            <div id="chart-date-tracker" style="text-align: center; padding: 2px 0; color: #f7931a; font-size: 0.85rem; font-weight: 600; min-height: 16px; display: none; position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.8); z-index: 40; border-top: 1px solid #333;"></div>
        </div>

        <div class="panel" style="display: flex; flex-direction: column; min-height: 0; position: relative; z-index: 50;">
            <button id="manual-hash-btc-btn" class="mine-btn" style="background: #f7931a; padding: 8px; line-height: 1; display: flex; align-items: center; justify-content: space-between; gap: 8px;">
                <div style="flex: 1; text-align: center;">
                    MANUAL BTC HASH<br>
                    <span style="font-size: 0.8rem; font-weight: normal; opacity: 0.7; display: block; margin-top: 2px;">+0.00000250 ‚Çø</span>
                </div>
                <img src="bitcointoken.png" style="width: 56px; height: 56px; flex: 0 0 56px;" alt="BTC">
            </button>
            <button id="manual-hash-eth-btn" class="mine-btn" style="background: #627eea; padding: 8px; line-height: 1; display: flex; align-items: center; justify-content: space-between; gap: 8px;">
                <div style="flex: 1; text-align: center;">
                    MANUAL ETH HASH<br>
                    <span style="font-size: 0.8rem; font-weight: normal; opacity: 0.7; display: block; margin-top: 2px;">+0.00007143 Œû</span>
                </div>
                <img src="ethcoin.png" style="width: 56px; height: 56px; flex: 0 0 56px;" alt="ETH">
            </button>
            <button id="manual-hash-doge-btn" class="mine-btn" style="background: #c2a633; padding: 8px; line-height: 1; display: flex; align-items: center; justify-content: space-between; gap: 8px;">
                <div style="flex: 1; text-align: center;">
                    MANUAL DOGE HASH<br>
                    <span style="font-size: 0.8rem; font-weight: normal; opacity: 0.7; display: block; margin-top: 2px;">+1.00000000 √ê</span>
                </div>
                <img src="dogecoin.png" style="width: 56px; height: 56px; flex: 0 0 56px;" alt="DOGE">
            </button>
            <button id="autoclicker-btn" style="background: #666; color: white; border: none; width: 100%; padding: 8px; font-weight: 700; border-radius: 10px; cursor: pointer; margin-bottom: 8px; font-size: 0.75rem;" onclick="startAutoClicker()">AUTO CLICKER ‚Ä¢ 5 clicks/sec ‚Ä¢ 30s ‚Ä¢ 5m cooldown</button>

            <!-- Desktop RUGPULL Section - Side by side (shown on non-mobile) -->
            <div id="desktop-rugpull-section" style="display: none; gap: 8px; margin-bottom: 12px; flex-direction: row; align-items: stretch;">
                <!-- RUGPULL Button -->
                <button id="rugpull-btn-desktop" style="background: #9c27b0; color: white; border: 3px solid #ffeb3b; padding: 8px 12px; font-weight: 900; border-radius: 8px; cursor: pointer; font-size: 0.75rem; transition: all 0.3s ease; box-shadow: 0 0 15px rgba(156, 39, 176, 0.7); text-transform: uppercase; letter-spacing: 1.2px; flex: 1; display: flex; flex-direction: column; align-items: center; gap: 2px; min-width: 0;" onclick="handleRugpullButtonClick()" onmouseenter="showRugpullTooltip()" onmouseleave="hideRugpullTooltip()">
                    <span>RUGPULL</span>
                    <span id="rugpull-progress-text-desktop" style="color: #ffeb3b; font-size: 0.6rem; font-weight: bold;">$0 / $1B</span>
                    <div id="rugpull-tooltip-desktop" style="visibility: hidden; background-color: #333; color: #ffeb3b; text-align: center; padding: 8px 10px; border-radius: 4px; position: absolute; z-index: 1000; top: 100%; left: 50%; transform: translateX(-50%); margin-top: 8px; white-space: normal; width: 140px; font-size: 0.6rem; border: 2px solid #ffeb3b; font-weight: bold; opacity: 0; transition: opacity 0.2s ease; line-height: 1.4;">
                        <span>Reset progress for<br>permanent bonuses &<br>Corrupt Tokens</span>
                    </div>
                </button>
                <!-- RUGPULL STORE Button -->
                <button id="rugpull-store-btn-desktop" style="background: #9c27b0; color: white; border: 2px solid #ffeb3b; padding: 8px 12px; font-weight: 700; border-radius: 6px; cursor: pointer; font-size: 0.7rem; transition: all 0.3s ease; flex: 1; display: none; text-transform: uppercase; display: flex; align-items: center; justify-content: center;" onclick="openMetaUpgradesModal()">RUGPULL STORE</button>
            </div>

            <!-- Mobile RUGPULL Section - Side by side -->
            <div id="mobile-rugpull-section" style="display: none; gap: 8px; margin-bottom: 12px; flex-direction: row; align-items: stretch;">
                <!-- RUGPULL Button with counter inside -->
                <button id="rugpull-btn-mobile" style="background: #9c27b0; color: white; border: 3px solid #ffeb3b; padding: 8px 12px; font-weight: 900; border-radius: 8px; cursor: pointer; font-size: 0.75rem; transition: all 0.3s ease; box-shadow: 0 0 15px rgba(156, 39, 176, 0.7); text-transform: uppercase; letter-spacing: 1.2px; flex: 1; display: flex; flex-direction: column; align-items: center; gap: 2px; min-width: 0;" onclick="handleRugpullButtonClick()" onmouseenter="showRugpullTooltip()" onmouseleave="hideRugpullTooltip()">
                    <span>RUGPULL</span>
                    <span id="rugpull-progress-text-mobile" style="color: #ffeb3b; font-size: 0.6rem; font-weight: bold;">$0 / $1B</span>
                    <div id="rugpull-tooltip-mobile" style="visibility: hidden; background-color: #333; color: #ffeb3b; text-align: center; padding: 8px 10px; border-radius: 4px; position: absolute; z-index: 1000; top: 100%; left: 50%; transform: translateX(-50%); margin-top: 8px; white-space: normal; width: 140px; font-size: 0.6rem; border: 2px solid #ffeb3b; font-weight: bold; opacity: 0; transition: opacity 0.2s ease; line-height: 1.4;">
                        <span>Reset progress for<br>permanent bonuses &<br>Corrupt Tokens</span>
                    </div>
                </button>
                <!-- RUGPULL STORE Button -->
                <button id="rugpull-store-btn-mobile-main" style="background: #9c27b0; color: white; border: 2px solid #ffeb3b; padding: 8px 12px; font-weight: 700; border-radius: 6px; cursor: pointer; font-size: 0.7rem; transition: all 0.3s ease; flex: 1; display: none; text-transform: uppercase;" onclick="openMetaUpgradesModal()">RUGPULL STORE</button>
            </div>

            <!-- Power Status Bar -->
            <div style="padding: 8px; background: rgba(0,0,0,0.3); border-radius: 8px; border: 1px solid #222; margin-bottom: 8px;">
                <div style="display: flex; gap: 8px; align-items: center; justify-content: space-between;">
                    <div style="flex: 1;">
                        <span style="font-size: 0.65rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 2px;">Power Status</span>
                        <div style="font-size: 0.65rem; color: #00ff88; font-family: monospace; font-weight: 900;" id="power-used">0W / 0W</div>
                        <div id="power-bar" style="height: 6px; background: #222; border-radius: 3px; margin-top: 2px;">
                            <div id="power-bar-fill" style="height: 100%; background: #00ff88; border-radius: 3px; width: 0%;"></div>
                        </div>
                    </div>
                    <button id="power-upgrade-btn" class="tab-btn" onclick="trackPowerUpgradeClick(); switchTab('power')" style="border-color: #00ff88; color: #00ff88;">UPGRADE POWER SUPPLY</button>
                </div>
            </div>

            <!-- Dollar Balance Display -->
            <div style="padding: 3px 0; margin-bottom: 6px; text-align: center; line-height: 1.1;">
                <span style="font-size: 0.45rem; color: #666; text-transform: uppercase; display: block; margin-bottom: 0px; font-weight: 700; letter-spacing: 1px;">Cash Balance</span>
                <b style="color: #00ff88; font-family: monospace; font-weight: 900; font-size: 1.6rem; line-height: 1.1;" id="dollar-balance">$0</b>
            </div>

            <!-- Auto-Sell Toggle Button -->
            <div style="margin-bottom: 8px;">
                <button id="auto-sell-toggle-btn" onclick="toggleAutoSellButton()" style="width: 100%; padding: 8px 12px; background: rgba(100,100,100,0.3); border: 2px solid #666; color: #999; border-radius: 6px; font-weight: 800; cursor: not-allowed; font-size: 0.8rem; text-transform: uppercase; transition: 0.2s;" title="Purchase 'Auto-Sell Crypto to USD' upgrade to enable" disabled>
                    üîí Auto-Sell: <span id="auto-sell-status">LOCKED</span>
                </button>
            </div>

            <!-- Tab Buttons -->
            <div class="tab-buttons" style="margin-bottom: 6px;">
                <button id="btc-tab-btn" class="tab-btn active" onclick="trackBTCTabClick(); switchTab('btc-mining')" style="border-color: #f7931a; color: #f7931a;">BTC</button>
                <button id="eth-tab-btn" class="tab-btn" onclick="switchTab('eth-mining')" style="border-color: #627eea; color: #627eea;">ETH</button>
                <button id="doge-tab-btn" class="tab-btn" onclick="switchTab('doge-mining')" style="border-color: #c2a633; color: #c2a633;">DOGE</button>
            </div>
            <div class="tab-buttons">
                <button id="crypto-exchange-btn" class="tab-btn" onclick="switchTab('market')" style="border-color: #00ff88; color: #00ff88;">CRYPTO EXCHANGE</button>
                <button id="minigames-tab-btn" class="tab-btn" onclick="switchTab('minigames')" style="border-color: #ff00ff; color: #ff00ff;">MINIGAMES</button>
            </div>

            <!-- BTC Mining Tab -->
            <div id="btc-mining-tab" class="tab-content active" style="flex-direction: column; min-height: 0; flex: 1;">
                <!-- Buy Quantity Toggle -->
                <div style="margin-bottom: 10px;">
                    <span style="font-size: 0.7rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 5px; font-weight: 800;">Purchase Amount</span>
                    <div style="display: flex; gap: 6px;">
                        <button id="qty-toggle-1" class="qty-toggle active" onclick="setBuyQuantity(1)" style="border-color: #888; color: #888;">1x</button>
                        <button id="qty-toggle-2" class="qty-toggle" onclick="setBuyQuantity(2)" style="border-color: #888; color: #888;">2x</button>
                        <button id="qty-toggle-5" class="qty-toggle" onclick="setBuyQuantity(5)" style="border-color: #888; color: #888;">5x</button>
                        <button id="qty-toggle-10" class="qty-toggle" onclick="setBuyQuantity(10)" style="border-color: #888; color: #888;">10x</button>
                    </div>
                </div>
                <div class="upgrade-list" id="btc-shop" style="flex: 1; min-height: 0; overflow-y: auto;"></div>
            </div>

            <!-- ETH Mining Tab -->
            <div id="eth-mining-tab" class="tab-content" style="flex-direction: column; min-height: 0; flex: 1;">
                <!-- Buy Quantity Toggle -->
                <div style="margin-bottom: 10px;">
                    <span style="font-size: 0.7rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 5px; font-weight: 800;">Purchase Amount</span>
                    <div style="display: flex; gap: 6px;">
                        <button id="eth-qty-toggle-1" class="qty-toggle active" onclick="setBuyQuantity(1)" style="border-color: #888; color: #888;">1x</button>
                        <button id="eth-qty-toggle-2" class="qty-toggle" onclick="setBuyQuantity(2)" style="border-color: #888; color: #888;">2x</button>
                        <button id="eth-qty-toggle-5" class="qty-toggle" onclick="setBuyQuantity(5)" style="border-color: #888; color: #888;">5x</button>
                        <button id="eth-qty-toggle-10" class="qty-toggle" onclick="setBuyQuantity(10)" style="border-color: #888; color: #888;">10x</button>
                    </div>
                </div>
                <div class="upgrade-list" id="eth-shop" style="flex: 1; min-height: 0; overflow-y: auto;"></div>
            </div>

            <!-- DOGE Mining Tab -->
            <div id="doge-mining-tab" class="tab-content" style="flex-direction: column; min-height: 0; flex: 1;">
                <!-- Buy Quantity Toggle -->
                <div style="margin-bottom: 10px;">
                    <span style="font-size: 0.7rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 5px; font-weight: 800;">Purchase Amount</span>
                    <div style="display: flex; gap: 6px;">
                        <button id="doge-qty-toggle-1" class="qty-toggle active" onclick="setBuyQuantity(1)" style="border-color: #888; color: #888;">1x</button>
                        <button id="doge-qty-toggle-2" class="qty-toggle" onclick="setBuyQuantity(2)" style="border-color: #888; color: #888;">2x</button>
                        <button id="doge-qty-toggle-5" class="qty-toggle" onclick="setBuyQuantity(5)" style="border-color: #888; color: #888;">5x</button>
                        <button id="doge-qty-toggle-10" class="qty-toggle" onclick="setBuyQuantity(10)" style="border-color: #888; color: #888;">10x</button>
                    </div>
                </div>
                <div class="upgrade-list" id="doge-shop" style="flex: 1; min-height: 0; overflow-y: auto;"></div>
            </div>

            <!-- Power Tab -->
            <div id="power-tab" class="tab-content" style="flex-direction: column; min-height: 0; flex: 1;">
                <!-- Buy Quantity Toggle -->
                <div style="margin-bottom: 10px;">
                    <span style="font-size: 0.7rem; color: #888; text-transform: uppercase; display: block; margin-bottom: 5px; font-weight: 800;">Purchase Amount</span>
                    <div style="display: flex; gap: 6px;">
                        <button class="qty-toggle active" onclick="setBuyQuantity(1)" style="border-color: #888; color: #888;">1x</button>
                        <button class="qty-toggle" onclick="setBuyQuantity(2)" style="border-color: #888; color: #888;">2x</button>
                        <button class="qty-toggle" onclick="setBuyQuantity(5)" style="border-color: #888; color: #888;">5x</button>
                        <button class="qty-toggle" onclick="setBuyQuantity(10)" style="border-color: #888; color: #888;">10x</button>
                    </div>
                </div>
                <div class="upgrade-list" id="power-shop" style="flex: 1; min-height: 0; overflow-y: auto;"></div>
            </div>

            <!-- Market Tab -->
            <div id="market-tab" class="tab-content" style="flex-direction: column; min-height: 0; flex: 1;">
                <div class="upgrade-list" style="flex: 1; min-height: 0; overflow-y: auto; padding: 10px; padding-bottom: 80px;">
                    <div style="margin-bottom: 15px;">
                        <h3 style="color: #00ff88; margin: 0 0 10px 0; font-size: 1.2rem;">Sell Crypto for Cash</h3>
                        <p style="color: #888; font-size: 0.75rem; margin: 0;">Convert your mined cryptocurrency to dollars to purchase upgrades</p>
                    </div>

                    <!-- BTC Sell -->
                    <div style="background: rgba(247, 147, 26, 0.1); border: 1px solid #f7931a; border-radius: 8px; padding: 12px; margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="color: #f7931a; font-weight: 800; font-size: 1.1rem;">‚Çø Bitcoin</span>
                            <span style="color: #888; font-size: 0.8rem;">$<span id="market-btc-price">100,000</span> each</span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px;">
                            <button onclick="quickSellBTC(10, this)" style="background: #f7931a; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 10%</button>
                            <button onclick="quickSellBTC(25, this)" style="background: #f7931a; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 25%</button>
                            <button onclick="quickSellBTC(50, this)" style="background: #f7931a; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 50%</button>
                            <button onclick="quickSellBTC(75, this)" style="background: #f7931a; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 75%</button>
                        </div>
                        <button onclick="sellAllBTC(this)" style="background: #333; color: #f7931a; border: 1px solid #f7931a; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem; width: 100%; margin-top: 6px;">SELL ALL</button>
                    </div>

                    <!-- ETH Sell -->
                    <div style="background: rgba(98, 126, 234, 0.1); border: 1px solid #627eea; border-radius: 8px; padding: 12px; margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="color: #627eea; font-weight: 800; font-size: 1.1rem;">Œû Ethereum</span>
                            <span style="color: #888; font-size: 0.8rem;">$<span id="market-eth-price">3,500</span> each</span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px;">
                            <button onclick="quickSellETH(10, this)" style="background: #627eea; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 10%</button>
                            <button onclick="quickSellETH(25, this)" style="background: #627eea; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 25%</button>
                            <button onclick="quickSellETH(50, this)" style="background: #627eea; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 50%</button>
                            <button onclick="quickSellETH(75, this)" style="background: #627eea; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 75%</button>
                        </div>
                        <button onclick="sellAllETH(this)" style="background: #333; color: #627eea; border: 1px solid #627eea; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem; width: 100%; margin-top: 6px;">SELL ALL</button>
                    </div>

                    <!-- DOGE Sell -->
                    <div style="background: rgba(194, 166, 51, 0.1); border: 1px solid #c2a633; border-radius: 8px; padding: 12px; margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="color: #c2a633; font-weight: 800; font-size: 1.1rem;">√ê Dogecoin</span>
                            <span style="color: #888; font-size: 0.8rem;">$<span id="market-doge-price">0.25</span> each</span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px;">
                            <button onclick="quickSellDOGE(10, this)" style="background: #c2a633; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 10%</button>
                            <button onclick="quickSellDOGE(25, this)" style="background: #c2a633; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 25%</button>
                            <button onclick="quickSellDOGE(50, this)" style="background: #c2a633; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 50%</button>
                            <button onclick="quickSellDOGE(75, this)" style="background: #c2a633; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">SELL 75%</button>
                        </div>
                        <button onclick="sellAllDOGE(this)" style="background: #333; color: #c2a633; border: 1px solid #c2a633; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem; width: 100%; margin-top: 6px;">SELL ALL</button>
                    </div>

                    <!-- Staking Section -->
                    <div style="margin: 15px 0 15px 0; padding-top: 15px; padding-bottom: 0; border-top: 2px solid #222;">
                        <h3 style="color: #ffaa33; margin: 0 0 10px 0; font-size: 1.2rem;">üè¶ Crypto Staking Bank</h3>
                        <p style="color: #888; font-size: 0.75rem; margin: 0 0 15px 0;">Lock your crypto to earn <span id="staking-apr-rate">0.1%</span> APR every 2 seconds, paid directly to your cash balance!</p>
                    </div>

                    <!-- BTC Staking -->
                    <div style="background: rgba(247, 147, 26, 0.1); border: 1px solid #f7931a; border-radius: 8px; padding: 12px; margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="color: #f7931a; font-weight: 800; font-size: 1.1rem;">‚Çø Bitcoin Staking</span>
                            <span style="color: #ffaa33; font-size: 0.8rem;" id="btc-apr-display">$0.00/hr</span>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <span style="color: #888; font-size: 0.7rem;">Staked: </span>
                            <span style="color: #f7931a; font-family: monospace; font-weight: 800;" id="btc-staked-amount">0.00000000</span>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <span style="color: #888; font-size: 0.7rem; text-transform: uppercase; display: block; margin-bottom: 5px;">Stake Amount</span>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px;">
                                <button onclick="quickStake('BTC', 25)" style="background: #f7931a; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">25%</button>
                                <button onclick="quickStake('BTC', 50)" style="background: #f7931a; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">50%</button>
                                <button onclick="quickStake('BTC', 75)" style="background: #f7931a; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">75%</button>
                                <button onclick="quickStake('BTC', 100)" style="background: #f7931a; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">100%</button>
                            </div>
                        </div>
                        <div style="margin-bottom: 0px;">
                            <span style="color: #888; font-size: 0.7rem; text-transform: uppercase; display: block; margin-bottom: 5px;">Unstake Amount</span>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px;">
                                <button onclick="quickUnstake('BTC', 25)" style="background: #333; color: #f7931a; border: 1px solid #f7931a; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">25%</button>
                                <button onclick="quickUnstake('BTC', 50)" style="background: #333; color: #f7931a; border: 1px solid #f7931a; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">50%</button>
                                <button onclick="quickUnstake('BTC', 75)" style="background: #333; color: #f7931a; border: 1px solid #f7931a; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">75%</button>
                                <button onclick="quickUnstake('BTC', 100)" style="background: #333; color: #f7931a; border: 1px solid #f7931a; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">100%</button>
                            </div>
                        </div>
                    </div>

                    <!-- ETH Staking -->
                    <div style="background: rgba(98, 126, 234, 0.1); border: 1px solid #627eea; border-radius: 8px; padding: 12px; margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="color: #627eea; font-weight: 800; font-size: 1.1rem;">Œû Ethereum Staking</span>
                            <span style="color: #ffaa33; font-size: 0.8rem;" id="eth-apr-display">$0.00/hr</span>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <span style="color: #888; font-size: 0.7rem;">Staked: </span>
                            <span style="color: #627eea; font-family: monospace; font-weight: 800;" id="eth-staked-amount">0.00000000</span>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <span style="color: #888; font-size: 0.7rem; text-transform: uppercase; display: block; margin-bottom: 5px;">Stake Amount</span>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px;">
                                <button onclick="quickStake('ETH', 25)" style="background: #627eea; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">25%</button>
                                <button onclick="quickStake('ETH', 50)" style="background: #627eea; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">50%</button>
                                <button onclick="quickStake('ETH', 75)" style="background: #627eea; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">75%</button>
                                <button onclick="quickStake('ETH', 100)" style="background: #627eea; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">100%</button>
                            </div>
                        </div>
                        <div style="margin-bottom: 0px;">
                            <span style="color: #888; font-size: 0.7rem; text-transform: uppercase; display: block; margin-bottom: 5px;">Unstake Amount</span>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px;">
                                <button onclick="quickUnstake('ETH', 25)" style="background: #333; color: #627eea; border: 1px solid #627eea; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">25%</button>
                                <button onclick="quickUnstake('ETH', 50)" style="background: #333; color: #627eea; border: 1px solid #627eea; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">50%</button>
                                <button onclick="quickUnstake('ETH', 75)" style="background: #333; color: #627eea; border: 1px solid #627eea; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">75%</button>
                                <button onclick="quickUnstake('ETH', 100)" style="background: #333; color: #627eea; border: 1px solid #627eea; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">100%</button>
                            </div>
                        </div>
                    </div>

                    <!-- DOGE Staking -->
                    <div style="background: rgba(194, 166, 51, 0.1); border: 1px solid #c2a633; border-radius: 8px; padding: 12px; margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="color: #c2a633; font-weight: 800; font-size: 1.1rem;">√ê Dogecoin Staking</span>
                            <span style="color: #ffaa33; font-size: 0.8rem;" id="doge-apr-display">$0.00/hr</span>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <span style="color: #888; font-size: 0.7rem;">Staked: </span>
                            <span style="color: #c2a633; font-family: monospace; font-weight: 800;" id="doge-staked-amount">0.00</span>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <span style="color: #888; font-size: 0.7rem; text-transform: uppercase; display: block; margin-bottom: 5px;">Stake Amount</span>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px;">
                                <button onclick="quickStake('DOGE', 25)" style="background: #c2a633; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">25%</button>
                                <button onclick="quickStake('DOGE', 50)" style="background: #c2a633; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">50%</button>
                                <button onclick="quickStake('DOGE', 75)" style="background: #c2a633; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">75%</button>
                                <button onclick="quickStake('DOGE', 100)" style="background: #c2a633; color: #000; border: none; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">100%</button>
                            </div>
                        </div>
                        <div style="margin-bottom: 0px;">
                            <span style="color: #888; font-size: 0.7rem; text-transform: uppercase; display: block; margin-bottom: 5px;">Unstake Amount</span>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px;">
                                <button onclick="quickUnstake('DOGE', 25)" style="background: #333; color: #c2a633; border: 1px solid #c2a633; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">25%</button>
                                <button onclick="quickUnstake('DOGE', 50)" style="background: #333; color: #c2a633; border: 1px solid #c2a633; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">50%</button>
                                <button onclick="quickUnstake('DOGE', 75)" style="background: #333; color: #c2a633; border: 1px solid #c2a633; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">75%</button>
                                <button onclick="quickUnstake('DOGE', 100)" style="background: #333; color: #c2a633; border: 1px solid #c2a633; padding: 8px; border-radius: 6px; font-weight: 800; cursor: pointer; font-size: 0.75rem;">100%</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MINIGAMES Tab (Hub) -->
            <div id="minigames-tab" class="tab-content" style="flex-direction: column; min-height: 0; flex: 1;">
                <div class="upgrade-list" style="flex: 1; min-height: 0; overflow-y: auto; padding: 10px;">
                    <div style="margin-bottom: 30px;">
                        <h2 style="color: #ff00ff; margin: 0 0 10px 0; font-size: 1.5rem;">üéÆ MINIGAMES</h2>
                        <p style="color: #888; font-size: 0.85rem; margin: 0;">Select a minigame to play and earn rewards while waiting for upgrades!</p>
                    </div>

                    <!-- Coin Snag Card -->
                    <div style="background: linear-gradient(135deg, rgba(255, 140, 0, 0.1) 0%, rgba(255, 140, 0, 0.05) 100%); border: 2px solid #ff8c00; border-radius: 12px; padding: 20px; margin-bottom: 20px; position: relative;">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: #ff8c00; margin: 0 0 5px 0; font-size: 1.2rem;">üí∞ Coin Snag</h3>
                                <p style="color: #888; font-size: 0.8rem; margin: 0;">Tap fast-moving coins to earn crypto rewards</p>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="color: #888; font-size: 0.7rem; margin-bottom: 3px;">COINS CAUGHT</div>
                                <div style="color: #ff8c00; font-weight: 800; font-size: 1rem;" id="packet-games-won-display">0</div>
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="color: #888; font-size: 0.7rem; margin-bottom: 3px;">GAMES PLAYED</div>
                                <div style="color: #ff8c00; font-weight: 800; font-size: 1rem;" id="packet-games-played-display">0</div>
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="color: #888; font-size: 0.7rem; margin-bottom: 3px;">TOTAL REWARDS</div>
                                <div style="color: #ff8c00; font-weight: 800; font-size: 0.9rem;" id="packet-rewards-display">$0</div>
                            </div>
                        </div>
                        <button onclick="switchTab('packet-interceptor')" style="background: #ff8c00; color: #000; border: none; padding: 12px 20px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 0.9rem; width: 100%;">
                            PLAY NOW ‚Üí
                        </button>
                        <div id="packet-card-locked" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 1rem; font-weight: 700; z-index: 20; text-align: center;">
                            <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                <div style="font-size: 1.5rem;">üîí</div>
                                <div>Available from start!</div>
                            </div>
                        </div>
                    </div>

                    <!-- Network Stress Test Card -->
                    <div style="background: linear-gradient(135deg, rgba(0, 180, 255, 0.1) 0%, rgba(0, 180, 255, 0.05) 100%); border: 2px solid #00b4ff; border-radius: 12px; padding: 20px; position: relative; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: #00b4ff; margin: 0 0 5px 0; font-size: 1.2rem;">üåê Network Stress Test</h3>
                                <p style="color: #888; font-size: 0.8rem; margin: 0;">Destroy the network with your hash rate + clicks</p>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="color: #888; font-size: 0.7rem; margin-bottom: 3px;">GAMES WON</div>
                                <div style="color: #00b4ff; font-weight: 800; font-size: 1rem;" id="network-games-won-display">0</div>
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="color: #888; font-size: 0.7rem; margin-bottom: 3px;">GAMES PLAYED</div>
                                <div style="color: #00b4ff; font-weight: 800; font-size: 1rem;" id="network-games-played-display">0</div>
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="color: #888; font-size: 0.7rem; margin-bottom: 3px;">TOTAL REWARDS</div>
                                <div style="color: #00b4ff; font-weight: 800; font-size: 0.9rem;" id="network-rewards-display">$0</div>
                            </div>
                        </div>
                        <button onclick="initNetworkMinigame()" style="background: #00b4ff; color: #000; border: none; padding: 12px 20px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 0.9rem; width: 100%;">
                            PLAY NOW ‚Üí
                        </button>
                        <div id="network-card-locked" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 1rem; font-weight: 700; z-index: 20; text-align: center;">
                            <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                <div style="font-size: 1.5rem;">üîí</div>
                                <div>Unlock at $20,000 Lifetime Earnings</div>
                            </div>
                        </div>
                    </div>

                    <!-- Block Suppression Card -->
                    <div style="background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 255, 136, 0.05) 100%); border: 2px solid #00ff88; border-radius: 12px; padding: 20px; position: relative; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: #00ff88; margin: 0 0 5px 0; font-size: 1.2rem;">‚ö° Block Suppression</h3>
                                <p style="color: #888; font-size: 0.8rem; margin: 0;">Fast-paced reaction game with cash rewards</p>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="color: #888; font-size: 0.7rem; margin-bottom: 3px;">GAMES WON</div>
                                <div style="color: #00ff88; font-weight: 800; font-size: 1rem;" id="whack-games-won-display">0</div>
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="color: #888; font-size: 0.7rem; margin-bottom: 3px;">GAMES PLAYED</div>
                                <div style="color: #00ff88; font-weight: 800; font-size: 1rem;" id="whack-games-played-display">0</div>
                            </div>
                            <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="color: #888; font-size: 0.7rem; margin-bottom: 3px;">TOTAL REWARDS</div>
                                <div style="color: #00ff88; font-weight: 800; font-size: 0.9rem;" id="whack-rewards-display">$0</div>
                            </div>
                        </div>
                        <button onclick="switchTab('whack')" style="background: #00ff88; color: #000; border: none; padding: 12px 20px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 0.9rem; width: 100%;">
                            PLAY NOW ‚Üí
                        </button>
                        <div id="whack-card-locked" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 1rem; font-weight: 700; z-index: 20; text-align: center;">
                            <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                <div style="font-size: 1.5rem;">üîí</div>
                                <div>Unlock at $50,000 Lifetime Earnings</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- PACKET INTERCEPTOR Tab -->
            <div id="packet-interceptor-tab" class="tab-content" style="flex-direction: column; min-height: 0; flex: 1;">
                <div class="upgrade-list" style="flex: 1; min-height: 0; overflow-y: auto; padding: 10px;">
                    <div style="margin-bottom: 20px;">
                        <button onclick="switchTab('minigames')" style="background: rgba(255, 140, 0, 0.2); color: #ff8c00; border: 1px solid #ff8c00; padding: 8px 15px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-bottom: 15px;">
                            ‚Üê BACK TO MINIGAMES
                        </button>
                        <h3 style="color: #ff8c00; margin: 0 0 10px 0; font-size: 1.3rem;">üí∞ Coin Snag</h3>
                        <p style="color: #888; font-size: 0.8rem; margin: 0;">Tap fast-moving coins to earn crypto rewards. No penalties, just pure rewards!</p>
                    </div>

                    <!-- Stats Display -->
                    <div id="packet-stats-content" style="background: rgba(255, 140, 0, 0.1); border: 1px solid #ff8c00; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                        <!-- Stats will be populated by JavaScript -->
                    </div>

                    <!-- Difficulty Selector -->
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #fff; margin: 0 0 10px 0; font-size: 1rem;">Select Difficulty</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
                            <button id="packet-easy-btn" onclick="initPacketInterceptorGame('EASY')" style="background: #2ecc71; color: #fff; border: none; padding: 15px; border-radius: 8px; font-weight: 800; cursor: pointer; font-size: 0.9rem; position: relative; transition: all 0.3s ease; overflow: hidden;">
                                <div style="margin-bottom: 5px;">EASY</div>
                                <div style="font-size: 0.7rem; font-weight: 400;">15s | 1x Speed</div>
                                <div style="font-size: 0.65rem; margin-top: 5px;">Easiest Challenge</div>
                                <div id="packet-easy-cooldown" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); border-radius: 8px; color: #fff; font-size: 1.2rem; font-weight: 700; z-index: 10; align-items: center; justify-content: center; flex-direction: column; pointer-events: none;"></div>
                            </button>
                            <button id="packet-medium-btn" onclick="initPacketInterceptorGame('MEDIUM')" style="background: #f39c12; color: #fff; border: none; padding: 15px; border-radius: 8px; font-weight: 800; cursor: pointer; font-size: 0.9rem; position: relative; transition: all 0.3s ease; overflow: hidden;">
                                <div style="margin-bottom: 5px;">MEDIUM</div>
                                <div style="font-size: 0.7rem; font-weight: 400;">15s | 1.5x Speed</div>
                                <div style="font-size: 0.65rem; margin-top: 5px;">Medium Challenge</div>
                                <div id="packet-medium-locked" style="display: flex; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); border-radius: 8px; align-items: center; justify-content: center; color: #fff; font-size: 0.8rem; font-weight: 700; z-index: 10; text-align: center; padding: 10px; line-height: 1.4; flex-direction: column; pointer-events: none;"><div>üîí LOCKED</div><div style="font-size: 0.7rem; margin-top: 5px;">Earn $100k lifetime</div></div>
                                <div id="packet-medium-cooldown" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); border-radius: 8px; color: #fff; font-size: 1.2rem; font-weight: 700; z-index: 10; align-items: center; justify-content: center; flex-direction: column; pointer-events: none;"></div>
                            </button>
                            <button id="packet-hard-btn" onclick="initPacketInterceptorGame('HARD')" style="background: #e74c3c; color: #fff; border: none; padding: 15px; border-radius: 8px; font-weight: 800; cursor: pointer; font-size: 0.9rem; position: relative; transition: all 0.3s ease; overflow: hidden;">
                                <div style="margin-bottom: 5px;">HARD</div>
                                <div style="font-size: 0.7rem; font-weight: 400;">15s | 2x Speed</div>
                                <div style="font-size: 0.65rem; margin-top: 5px;">Hardest Challenge</div>
                                <div id="packet-hard-locked" style="display: flex; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); border-radius: 8px; align-items: center; justify-content: center; color: #fff; font-size: 0.8rem; font-weight: 700; z-index: 10; text-align: center; padding: 10px; line-height: 1.4; flex-direction: column; pointer-events: none;"><div>üîí LOCKED</div><div style="font-size: 0.7rem; margin-top: 5px;">Earn $1M lifetime</div></div>
                                <div id="packet-hard-cooldown" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); border-radius: 8px; color: #fff; font-size: 1.2rem; font-weight: 700; z-index: 10; align-items: center; justify-content: center; flex-direction: column; pointer-events: none;"></div>
                            </button>
                        </div>
                    </div>

                    <!-- Rewards Info -->
                    <div style="background: rgba(255, 140, 0, 0.1); border: 1px solid #ff8c00; border-radius: 8px; padding: 15px;">
                        <h4 style="color: #ff8c00; margin: 0 0 10px 0; font-size: 1rem;">üí∞ Hash Rate Based Rewards!</h4>
                        <div style="color: #888; font-size: 0.85rem; margin-bottom: 12px;">
                            Each packet you catch is worth <strong style="color: #fff;">1 second of your current mining</strong>! Higher hash rate = higher packet values. Rewards scale infinitely with ascension levels!
                        </div>
                        <div style="background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; margin-bottom: 10px;">
                            <div style="color: #fff; font-weight: 700; margin-bottom: 8px;">üìä How It Works:</div>
                            <div style="color: #ddd; font-size: 0.8rem; line-height: 1.6; margin-bottom: 12px;">
                                <div>‚Ä¢ Each BTC packet = your current ‚Çø/sec √ó BTC price</div>
                                <div>‚Ä¢ Each ETH packet = your current Œû/sec √ó ETH price</div>
                                <div>‚Ä¢ Each DOGE packet = your current √ê/sec √ó DOGE price</div>
                                <div style="margin-top: 8px; color: #ffff00;">Example: If you mine $10/sec, each packet ‚âà $10</div>
                            </div>
                            <div style="border-top: 1px solid #555; padding-top: 12px;">
                                <div style="color: #fff; font-weight: 700; margin-bottom: 8px;">Difficulty Balance:</div>
                                <div style="color: #ddd; font-size: 0.8rem;">All difficulties give <strong style="color: #ffff00;">equal rewards</strong> - the challenge is in catching more packets in faster speeds. Choose based on skill level!</div>
                            </div>
                            <div style="border-top: 1px solid #555; padding-top: 12px; margin-top: 12px;">
                                <div style="color: #fff; font-weight: 700; margin-bottom: 8px;">Final Reward Formula:</div>
                                <div style="color: #ddd; font-size: 0.8rem;">Packets Caught √ó Hash Rate Value √ó Rugpull (1.15x per level exponential) √ó Ascension Bonus √ó Minigame Reward Bonus</div>
                            </div>
                        </div>
                    </div>

                    <!-- Game Container -->
                    <div id="packet-interceptor-game-container" style="flex: 1; min-height: 0; overflow-y: auto;"></div>
                </div>
            </div>

            <!-- WHACK-A-BLOCK Tab -->
            <div id="whack-tab" class="tab-content" style="flex-direction: column; min-height: 0; flex: 1;">
                <div class="upgrade-list" style="flex: 1; min-height: 0; overflow-y: auto; padding: 10px;">
                    <div style="margin-bottom: 20px;">
                        <button onclick="switchTab('minigames')" style="background: rgba(0, 255, 136, 0.2); color: #00ff88; border: 1px solid #00ff88; padding: 8px 15px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-bottom: 15px;">
                            ‚Üê BACK TO MINIGAMES
                        </button>
                        <h3 style="color: #00ff88; margin: 0 0 10px 0; font-size: 1.3rem;">‚ö° BLOCK SUPPRESSION Minigame</h3>
                        <p style="color: #888; font-size: 0.8rem; margin: 0;">Click blocks as they light up! Reaction-based rewards for quick reflexes!</p>
                    </div>

                    <!-- Stats Display -->
                    <div id="whack-stats-content" style="background: rgba(0, 255, 136, 0.1); border: 1px solid #00ff88; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.85rem;">
                            <div><span style="color: #888;">Games Played:</span> <span style="color: #00ff88; font-weight: 800;" id="whack-games-played">0</span></div>
                            <div><span style="color: #888;">Games Won:</span> <span style="color: #00ff88; font-weight: 800;" id="whack-games-won">0</span></div>
                            <div><span style="color: #888;">Total Rewards:</span> <span style="color: #00ff88; font-weight: 800;">$<span id="whack-total-rewards">0.00</span></span></div>
                        </div>
                    </div>

                    <!-- Difficulty Selector -->
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #fff; margin: 0 0 10px 0; font-size: 1rem;">Select Difficulty</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
                            <button id="whack-easy-btn" onclick="initWhackMinigame('EASY')" style="background: #2ecc71; color: #fff; border: none; padding: 15px; border-radius: 8px; font-weight: 800; cursor: pointer; font-size: 0.9rem; position: relative; transition: all 0.3s ease; overflow: hidden;">
                                <div style="margin-bottom: 5px;">EASY</div>
                                <div style="font-size: 0.7rem; font-weight: 400;">10 lives | 15s</div>
                                <div style="font-size: 0.65rem; margin-top: 5px;">Slow spawn rate</div>
                                <div id="whack-easy-locked" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); border-radius: 8px; align-items: center; justify-content: center; color: #fff; font-size: 0.8rem; font-weight: 700; z-index: 10; text-align: center; padding: 10px; line-height: 1.4; flex-direction: column; pointer-events: none;"></div>
                                <div id="whack-easy-cooldown" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); border-radius: 8px; align-items: center; justify-content: center; color: #fff; font-size: 1.2rem; font-weight: 700; z-index: 10; flex-direction: column; pointer-events: none;"></div>
                            </button>
                            <button id="whack-medium-btn" onclick="initWhackMinigame('MEDIUM')" style="background: #f39c12; color: #fff; border: none; padding: 15px; border-radius: 8px; font-weight: 800; cursor: pointer; font-size: 0.9rem; position: relative; transition: all 0.3s ease; overflow: hidden;">
                                <div style="margin-bottom: 5px;">MEDIUM</div>
                                <div style="font-size: 0.7rem; font-weight: 400;">10 lives | 15s</div>
                                <div style="font-size: 0.65rem; margin-top: 5px;">+25% speed for 2min</div>
                                <div id="whack-medium-locked" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); border-radius: 8px; align-items: center; justify-content: center; color: #fff; font-size: 0.8rem; font-weight: 700; z-index: 10; text-align: center; padding: 10px; line-height: 1.4; flex-direction: column; pointer-events: none;"></div>
                                <div id="whack-medium-cooldown" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); border-radius: 8px; align-items: center; justify-content: center; color: #fff; font-size: 1.2rem; font-weight: 700; z-index: 10; flex-direction: column; pointer-events: none;"></div>
                            </button>
                            <button id="whack-hard-btn" onclick="initWhackMinigame('HARD')" style="background: #e74c3c; color: #fff; border: none; padding: 15px; border-radius: 8px; font-weight: 800; cursor: pointer; font-size: 0.9rem; position: relative; transition: all 0.3s ease; overflow: hidden;">
                                <div style="margin-bottom: 5px;">HARD</div>
                                <div style="font-size: 0.7rem; font-weight: 400;">10 lives | 15s</div>
                                <div style="font-size: 0.65rem; margin-top: 5px;">Fast spawn rate</div>
                                <div id="whack-hard-locked" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); border-radius: 8px; align-items: center; justify-content: center; color: #fff; font-size: 0.8rem; font-weight: 700; z-index: 10; text-align: center; padding: 10px; line-height: 1.4; flex-direction: column; pointer-events: none;"></div>
                                <div id="whack-hard-cooldown" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); border-radius: 8px; align-items: center; justify-content: center; color: #fff; font-size: 1.2rem; font-weight: 700; z-index: 10; flex-direction: column; pointer-events: none;"></div>
                            </button>
                        </div>
                    </div>

                    <!-- Rewards Info -->
                    <div style="background: rgba(0, 255, 136, 0.1); border: 1px solid #00ff88; border-radius: 8px; padding: 15px;">
                        <h4 style="color: #00ff88; margin: 0 0 10px 0; font-size: 1rem;">üí∞ Hash Rate-Based Rewards!</h4>
                        <div style="color: #888; font-size: 0.85rem; margin-bottom: 12px;">
                            Each block hit = $10 base + your current mining power in USD!
                        </div>
                        <div style="background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; margin-bottom: 10px;">
                            <div style="color: #fff; font-weight: 700; margin-bottom: 8px;">Base Formula: ($10 + BTC/sec √ó BTC Price + ETH/sec √ó ETH Price + DOGE/sec √ó DOGE Price) √ó Blocks Hit √ó Score Multiplier √ó Rugpull Level</div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.75rem;">
                                <div style="text-align: center;">
                                    <div style="color: #00ff88; font-weight: 700;">EASY</div>
                                    <div style="color: #888; font-size: 0.65rem; margin: 5px 0;">Standard Speed</div>
                                    <div style="color: #888; font-size: 0.65rem; margin-bottom: 3px;">15 Seconds</div>
                                    <div style="color: #666; font-size: 0.65rem;">3m cooldown</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="color: #ffaa33; font-weight: 700;">MEDIUM</div>
                                    <div style="color: #888; font-size: 0.65rem; margin: 5px 0;">Faster Speed</div>
                                    <div style="color: #888; font-size: 0.65rem; margin-bottom: 3px;">15 Seconds</div>
                                    <div style="color: #666; font-size: 0.65rem;">10m cooldown</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="color: #ff3344; font-weight: 700;">HARD</div>
                                    <div style="color: #888; font-size: 0.65rem; margin: 5px 0;">Fastest Speed</div>
                                    <div style="color: #888; font-size: 0.65rem; margin-bottom: 3px;">15 Seconds</div>
                                    <div style="color: #666; font-size: 0.65rem;">20m cooldown</div>
                                </div>
                            </div>
                        </div>
                        <div style="font-size: 0.7rem; color: #888; line-height: 1.5;">
                            ‚Ä¢ 1 Block = ($10 + BTC/sec √ó BTC Price + ETH/sec √ó ETH Price + DOGE/sec √ó DOGE Price) √ó Score Multiplier √ó Rugpull Level<br>
                            ‚ö° Score bonus: up to 1.5x multiplier (higher score = higher multiplier)<br>
                            üöÄ Rugpull multiplier: 1.15x per level (exponential scaling)
                        </div>
                    </div>
                </div>
            </div>

            <!-- NETWORK STRESS TEST Tab -->
            <div id="network-tab" class="tab-content" style="flex-direction: column; min-height: 0; flex: 1;">
                <div class="upgrade-list" style="flex: 1; min-height: 0; overflow-y: auto; padding: 10px;">
                    <div style="margin-bottom: 20px;">
                        <button onclick="switchTab('minigames')" style="background: rgba(0, 180, 255, 0.2); color: #00b4ff; border: 1px solid #00b4ff; padding: 8px 15px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-bottom: 15px;">
                            ‚Üê BACK TO MINIGAMES
                        </button>
                        <h3 style="color: #00b4ff; margin: 0 0 10px 0; font-size: 1.3rem;">üåê NETWORK STRESS TEST Minigame</h3>
                        <p style="color: #888; font-size: 0.8rem; margin: 0;">Destroy the network using your miners' hash rate and clicking power! You have 10 seconds!</p>
                    </div>

                    <!-- Stats Display -->
                    <div id="network-stats-content" style="background: rgba(0, 180, 255, 0.1); border: 1px solid #00b4ff; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.85rem;">
                            <div><span style="color: #888;">Games Played:</span> <span style="color: #00b4ff; font-weight: 800;" id="network-games-played">0</span></div>
                            <div><span style="color: #888;">Games Won:</span> <span style="color: #00b4ff; font-weight: 800;" id="network-games-won">0</span></div>
                            <div><span style="color: #888;">Total Rewards:</span> <span style="color: #00b4ff; font-weight: 800;">$<span id="network-total-rewards">0.00</span></span></div>
                        </div>
                    </div>

                    <!-- Play Button -->
                    <div style="margin-bottom: 20px;">
                        <button onclick="initNetworkMinigame()" style="background: linear-gradient(135deg, #00b4ff 0%, #0080ff 100%); color: #fff; border: none; padding: 20px 40px; border-radius: 8px; font-weight: 800; cursor: pointer; font-size: 1.1rem; width: 100%;">
                            üåê LAUNCH NETWORK STRESS TEST
                        </button>
                    </div>

                    <!-- Rewards Info -->
                    <div style="background: rgba(0, 180, 255, 0.1); border: 1px solid #00b4ff; border-radius: 8px; padding: 15px;">
                        <h4 style="color: #00b4ff; margin: 0 0 10px 0; font-size: 1rem;">üí∞ Progressive Difficulty & Rewards!</h4>
                        <div style="color: #888; font-size: 0.85rem; margin-bottom: 12px;">
                            Each run gets 50% harder! But higher difficulty = bigger rewards. Your hash rate powers your attack!
                        </div>
                        <div style="background: rgba(0,0,0,0.3); border-radius: 6px; padding: 12px; margin-bottom: 10px;">
                            <div style="color: #fff; font-weight: 700; margin-bottom: 8px;">How It Works:</div>
                            <div style="color: #00b4ff; font-size: 0.9rem; margin: 5px 0; font-weight: 600;">üìà 50% Harder Each Run</div>
                            <div style="color: #888; font-size: 0.8rem; margin-bottom: 8px;">Network HP: 50k ‚Üí 75k ‚Üí 112.5k ‚Üí 168.75k...</div>

                            <div style="color: #00b4ff; font-size: 0.9rem; margin: 5px 0; font-weight: 600;">‚öîÔ∏è Two Ways to Attack</div>
                            <div style="color: #888; font-size: 0.8rem; margin-bottom: 8px;">Passive: Hash Rate deals damage per second (USD value of crypto)<br>Active: Click the ATTACK button for bonus damage</div>

                            <div style="color: #00b4ff; font-size: 0.9rem; margin: 5px 0; font-weight: 600;">üíé Better Rewards at Higher Difficulty</div>
                            <div style="color: #888; font-size: 0.8rem; margin-bottom: 3px;">Run 1: 0.5x base reward √ó hash rate<br>Run 5: 0.9x base reward √ó hash rate (80% more!)</div>
                        </div>
                        <div style="font-size: 0.7rem; color: #888; line-height: 1.5;">
                            ‚ö° Win Speed Boost: 2 minutes of +10-15% mining speed per win!<br>
                            üöÄ Rugpull multiplier: 1.15x per level (exponential scaling) √ó Minigame Reward Bonus<br>
                            üí° Tip: Upgrade your miners to increase passive damage!
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

<!-- Export/Import Save Modal -->
<div id="export-import-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 550px;">
        <div class="modal-header">
            <h2>Save Management</h2>
            <button onclick="closeExportImportModal()" class="modal-close">&times;</button>
        </div>
        <div class="modal-body" style="padding: 20px;">
            <!-- Export Section -->
            <div style="margin-bottom: 25px;">
                <h3 style="color: #f7931a; margin: 0 0 10px 0; font-size: 1.1rem;">Export Save</h3>
                <p style="color: #888; font-size: 0.85rem; margin-bottom: 15px;">Copy your save data to transfer to another device or create a backup.</p>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button onclick="exportSaveToClipboard()" style="background: #2196F3; color: white; border: none; padding: 10px 20px; font-weight: 700; border-radius: 6px; cursor: pointer; font-size: 0.85rem; flex: 1; min-width: 150px;">
                        Copy to Clipboard
                    </button>
                    <button onclick="exportSaveToFile()" style="background: #4CAF50; color: white; border: none; padding: 10px 20px; font-weight: 700; border-radius: 6px; cursor: pointer; font-size: 0.85rem; flex: 1; min-width: 150px;">
                        Save to File
                    </button>
                </div>
                <div id="export-status" style="margin-top: 10px; font-size: 0.85rem; color: #00ff88; display: none;"></div>
            </div>

            <!-- Divider -->
            <div style="border-top: 1px solid #333; margin: 20px 0;"></div>

            <!-- Import Section -->
            <div>
                <h3 style="color: #f7931a; margin: 0 0 10px 0; font-size: 1.1rem;">Import Save</h3>
                <p style="color: #888; font-size: 0.85rem; margin-bottom: 15px;">Paste your save data below to restore your progress. <strong style="color: #ff3344;">Warning:</strong> This will overwrite your current save!</p>
                <textarea id="import-save-textarea" placeholder="Paste your save string here..." style="width: 100%; height: 120px; background: #1a1a1a; border: 1px solid #333; border-radius: 6px; color: #fff; padding: 12px; font-family: monospace; font-size: 0.8rem; resize: vertical; box-sizing: border-box;"></textarea>
                <div style="display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;">
                    <button onclick="importSaveFromText()" style="background: #ff9800; color: white; border: none; padding: 10px 20px; font-weight: 700; border-radius: 6px; cursor: pointer; font-size: 0.85rem; flex: 1; min-width: 150px;">
                        Import Save
                    </button>
                    <label style="background: #9c27b0; color: white; border: none; padding: 10px 20px; font-weight: 700; border-radius: 6px; cursor: pointer; font-size: 0.85rem; flex: 1; min-width: 150px; text-align: center;">
                        Load from File
                        <input type="file" id="import-file-input" accept=".txt" onchange="importSaveFromFile(event)" style="display: none;">
                    </label>
                </div>
                <div id="import-status" style="margin-top: 10px; font-size: 0.85rem; display: none;"></div>
            </div>
        </div>
    </div>
</div>

<!-- Meta-Upgrades Modal (Rugpull System) -->
<div id="meta-upgrades-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 700px; max-height: 80vh; overflow-y: auto; display: flex; flex-direction: column;">
        <div class="modal-header" style="position: sticky; top: 0; z-index: 10; background: #111; border-bottom: 1px solid #333; flex-shrink: 0;">
            <h2 id="rugpull-header">üî¥ RUGPULL UPGRADES</h2>
            <button onclick="closeMetaUpgradesModal()" class="modal-close">&times;</button>
        </div>
        <div class="modal-body" style="padding: 20px; overflow-y: auto; flex: 1;">
            <div id="meta-upgrades-container" style="color: #ccc; font-size: 0.9rem;">
                <!-- Populated dynamically by rugpull.js -->
            </div>
        </div>
    </div>
</div>

<!-- Rugpull Milestone Modal -->
<div id="rugpull-milestone-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 500px; text-align: center;">
        <div class="modal-header" style="border-bottom: 2px solid #ffeb3b;">
            <h2 style="color: #ffeb3b; margin: 0;">üéâ RUGPULL READY üéâ</h2>
        </div>
        <div class="modal-body" style="padding: 30px;">
            <div id="milestone-modal-text" style="color: #fff; font-size: 1rem; margin-bottom: 20px; line-height: 1.8;">
                <!-- Populated dynamically by rugpull.js -->
            </div>
            <div style="display: flex; gap: 10px; justify-content: center;">
                <button id="milestone-confirm-btn" onclick="confirmRugpullFromModal()" style="background: #9c27b0; color: white; border: 2px solid #ffeb3b; padding: 12px 30px; font-weight: bold; border-radius: 6px; cursor: pointer; font-size: 1rem;">RUGPULL NOW</button>
                <button onclick="closeRugpullMilestoneModal()" style="background: #666; color: white; border: none; padding: 12px 30px; font-weight: bold; border-radius: 6px; cursor: pointer; font-size: 1rem;">LATER</button>
            </div>
        </div>
    </div>
</div>

<!-- Rugpull Complete Modal -->
<div id="rugpull-complete-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 500px; text-align: center;">
        <div class="modal-header" style="border-bottom: 2px solid #ffeb3b;">
            <h2 style="color: #ffeb3b; margin: 0;">üéâ RUGPULL COMPLETE! üéâ</h2>
        </div>
        <div class="modal-body" style="padding: 30px;">
            <div id="complete-modal-text" style="color: #fff; font-size: 1rem; margin-bottom: 20px; line-height: 1.8;">
                <!-- Populated dynamically -->
            </div>
            <button onclick="closeRugpullCompleteModal()" style="background: #9c27b0; color: white; border: 2px solid #ffeb3b; padding: 12px 30px; font-weight: bold; border-radius: 6px; cursor: pointer; font-size: 1rem;">OK</button>
        </div>
    </div>
</div>

<!-- Generic Message Modal -->
<div id="generic-message-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 500px; text-align: center;">
        <div class="modal-header" style="border-bottom: 2px solid #ff9800;">
            <h2 id="generic-modal-title" style="color: #ff9800; margin: 0;">Message</h2>
        </div>
        <div class="modal-body" style="padding: 30px;">
            <div id="generic-modal-text" style="color: #fff; font-size: 1rem; margin-bottom: 20px; line-height: 1.8;">
                <!-- Populated dynamically -->
            </div>
            <button onclick="closeGenericMessageModal()" style="background: #ff9800; color: white; border: none; padding: 12px 30px; font-weight: bold; border-radius: 6px; cursor: pointer; font-size: 1rem;">OK</button>
        </div>
    </div>
</div>

<!-- Achievements Modal -->
<div id="achievements-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto; display: flex; flex-direction: column;">
        <div class="modal-header" style="position: sticky; top: 0; z-index: 10; background: #111; border-bottom: 1px solid #333; flex-shrink: 0;">
            <h2>üèÜ Achievements</h2>
            <button onclick="closeAchievementsModal()" class="modal-close">&times;</button>
        </div>
        <div class="modal-body" style="padding: 20px; overflow-y: auto; flex: 1;">
            <div id="achievements-container" style="color: #ccc; font-size: 0.9rem;">
                <!-- Populated dynamically by achievements.js -->
            </div>
        </div>
    </div>
</div>

<!-- Game Instructions Modal -->
<div id="game-instructions" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 500px;">
        <div class="modal-header">
            <h2>How to Play</h2>
            <button onclick="dismissInstructions()" class="modal-close">√ó</button>
        </div>
        <div class="modal-body">
            <div style="font-size: 0.95rem; color: #ccc; line-height: 1.8; text-align: left;">
                <p><strong>Getting Started:</strong></p>
                <ol style="margin: 10px 0; padding-left: 20px; color: #bbb;">
                    <li>Begin by <strong style="color: #FFD700;">Manually Hashing</strong> <span style="color: #f7931a;">BTC</span>, <span style="color: #627eea;">ETH</span> or <span style="color: #f1a91a;">DOGE</span> to earn your first crypto</li>
                    <li>Once you have crypto, go to the <strong style="color: #00ff88;">CRYPTO EXCHANGE</strong> tab to <strong>Sell</strong> for cash or <strong>Stake</strong> for passive income</li>
                    <li>Use your cash to buy <strong>Miners</strong> in the <span style="color: #f7931a;">BTC</span>, <span style="color: #627eea;">ETH</span>, and <span style="color: #f1a91a;">DOGE</span> tabs - they auto-generate crypto 24/7</li>
                    <li><strong style="color: #ff3344;">‚ö° DON'T FORGET ABOUT POWER!</strong> Miners need power capacity to run - upgrade your power supply regularly</li>
                </ol>
                <p><strong>Tips:</strong></p>
                <ul style="margin: 10px 0; padding-left: 20px; color: #bbb;">
                    <li>Upgrade your power supply to run more miners</li>
                    <li>Balance your investments across all three cryptocurrencies</li>
                    <li>Higher miner levels generate more crypto</li>
                    <li>Once you hit your first <strong>$1 Million</strong>, use <strong>RUGPULL</strong> to reset your progress and gain permanent bonuses that make everything grow faster</li>
                </ul>
            </div>
        </div>
    </div>
</div>


<!-- Inline Policy Tab Switching Functions -->
<script>
    // Privacy modal functions - defined early so footer links work
    function openPrivacyModal() {
        document.getElementById('privacy-modal').style.display = 'flex';
    }

    function closePrivacyModal() {
        document.getElementById('privacy-modal').style.display = 'none';
    }

    // Combined age and terms acceptance function
    function acceptAgeAndTerms() {
        localStorage.setItem('ageDisclaimerAccepted', 'true');
        localStorage.setItem('termsAccepted', 'true');
        document.getElementById('age-terms-modal').style.display = 'none';
    }

    function switchPolicyTab(tab) {
        const iframe = document.getElementById('privacy-iframe');
        const privacyTab = document.getElementById('policy-tab-privacy');
        const cookiesTab = document.getElementById('policy-tab-cookies');
        const termsTab = document.getElementById('policy-tab-terms');
        const contactTab = document.getElementById('policy-tab-contact');

        // Reset all tabs to inactive state
        privacyTab.style.background = '#ddd';
        privacyTab.style.color = '#000';
        cookiesTab.style.background = '#ddd';
        cookiesTab.style.color = '#000';
        termsTab.style.background = '#ddd';
        termsTab.style.color = '#000';
        contactTab.style.background = '#ddd';
        contactTab.style.color = '#000';

        if (tab === 'privacy') {
            iframe.src = 'privacy.html';
            privacyTab.style.background = '#f7931a';
            privacyTab.style.color = '#000';
        } else if (tab === 'cookies') {
            iframe.src = 'cookies.html';
            cookiesTab.style.background = '#f7931a';
            cookiesTab.style.color = '#000';
        } else if (tab === 'terms') {
            iframe.src = 'terms.html';
            termsTab.style.background = '#f7931a';
            termsTab.style.color = '#000';
        } else if (tab === 'contact') {
            iframe.src = 'contact.html';
            contactTab.style.background = '#f7931a';
            contactTab.style.color = '#000';
        }
    }

    function openAgeAndTermsModal() {
        document.getElementById('age-terms-modal').style.display = 'flex';
    }

    function declineTerms() {
        alert('You must accept the Terms and Conditions to use this service.');
        // Optionally redirect or disable access
    }

    // Check if age and terms have been accepted on page load
    window.addEventListener('load', function() {
        const ageAccepted = localStorage.getItem('ageDisclaimerAccepted') === 'true';
        const termsAccepted = localStorage.getItem('termsAccepted') === 'true';

        if (!ageAccepted || !termsAccepted) {
            openAgeAndTermsModal();
        }
    });

    // Check cookie consent on page load
    window.addEventListener('load', function() {
        const consent = localStorage.getItem('cookieConsent');
        if (!consent) {
            const banner = document.getElementById('cookie-consent-banner');
            if (banner) {
                banner.style.display = 'block';
            }
        }
    });
</script>

<!-- Cookie Consent Banner -->
<div id="cookie-consent-banner" style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 12px; border-top: 2px solid #f7931a; z-index: 99999; box-shadow: 0 -5px 20px rgba(0,0,0,0.5);">
    <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px;">
        <div style="flex: 1; min-width: 250px;">
            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                <span style="font-size: 1.4rem; margin-right: 8px;">üç™</span>
                <h3 style="color: #f7931a; margin: 0; font-size: 1rem;">Cookie Consent</h3>
            </div>
            <p style="color: #ccc; margin: 0; font-size: 0.75rem; line-height: 1.3;">
                We use cookies to enhance your experience, analyze site traffic, and for analytics purposes. By clicking "Accept All", you consent to our use of cookies. You can manage your preferences or decline non-essential cookies.
            </p>
            <p style="color: #888; margin: 6px 0 0 0; font-size: 0.7rem;">
                <a href="#" onclick="openPrivacyModal(); switchPolicyTab('cookies'); return false;" style="color: #f7931a; text-decoration: underline;">View Cookie Policy</a>
                <span style="margin: 0 5px;">|</span>
                <a href="#" onclick="openPrivacyModal(); switchPolicyTab('privacy'); return false;" style="color: #f7931a; text-decoration: underline;">Privacy Policy</a>
            </p>
        </div>
        <div style="display: flex; gap: 8px; flex-wrap: wrap; align-items: center;">
            <button onclick="acceptAllCookies()" style="background: #f7931a; color: #000; border: none; padding: 8px 20px; font-weight: 800; border-radius: 6px; cursor: pointer; font-size: 0.85rem; transition: 0.2s; box-shadow: 0 4px 15px rgba(247,147,26,0.4); white-space: nowrap;">
                ‚úì Accept All
            </button>
            <button onclick="acceptEssentialOnly()" style="background: #555; color: #fff; border: 1px solid #777; padding: 8px 16px; font-weight: 600; border-radius: 6px; cursor: pointer; font-size: 0.85rem; transition: 0.2s; white-space: nowrap;">
                Essential Only
            </button>
            <button onclick="openCookieSettings()" style="background: transparent; color: #f7931a; border: 1px solid #f7931a; padding: 8px 16px; font-weight: 600; border-radius: 6px; cursor: pointer; font-size: 0.85rem; transition: 0.2s; white-space: nowrap;">
                ‚öôÔ∏è Manage Preferences
            </button>
        </div>
    </div>
</div>

<!-- Cookie Consent JavaScript -->
<script>
    // Accept all cookies
    function acceptAllCookies() {
        localStorage.setItem('cookieConsent', 'all');
        localStorage.setItem('cookieConsentDate', new Date().toISOString());

        // Enable Google Analytics and other tracking
        window['ga-disable-G-2H559N5J64'] = false;

        // Hide banner
        document.getElementById('cookie-consent-banner').style.display = 'none';

        // Optional: Trigger Termly consent if available
        if (typeof window.termlyConsent !== 'undefined') {
            window.termlyConsent('accept');
        }

        console.log('All cookies accepted');
    }

    // Accept essential cookies only
    function acceptEssentialOnly() {
        localStorage.setItem('cookieConsent', 'essential');
        localStorage.setItem('cookieConsentDate', new Date().toISOString());

        // Disable Google Analytics
        window['ga-disable-G-2H559N5J64'] = true;

        // Hide banner
        document.getElementById('cookie-consent-banner').style.display = 'none';

        // Optional: Trigger Termly essential only if available
        if (typeof window.termlyConsent !== 'undefined') {
            window.termlyConsent('essential');
        }

        console.log('Essential cookies only');
    }

    // Open Termly cookie settings or custom preferences
    function openCookieSettings() {
        // Try to trigger Termly settings if available
        const termlyButton = document.querySelector('.termly-display-preferences');
        if (termlyButton) {
            termlyButton.click();
        } else {
            // Fallback: show custom settings or just accept essential
            if (confirm('Would you like to accept all cookies?\n\nClick OK to accept all cookies.\nClick Cancel to use essential cookies only.')) {
                acceptAllCookies();
            } else {
                acceptEssentialOnly();
            }
        }
    }

    // Revoke consent (for testing or user preference changes)
    function revokeCookieConsent() {
        localStorage.removeItem('cookieConsent');
        localStorage.removeItem('cookieConsentDate');
        document.getElementById('cookie-consent-banner').style.display = 'block';
    }

    // Cookie consent is now checked after age/terms modal is accepted
    // via the acceptAgeAndTerms() function

    // Price fluctuation news feed system - headlines scale with volatility
    function showNewsPopup(crypto, changePercent, isUp) {
        console.log(`üì∞ News popup triggered: ${crypto.toUpperCase()} ${changePercent.toFixed(2)}% ${isUp ? 'üìà' : 'üìâ'}`);

        const absChange = Math.abs(changePercent);

        // Categorize by volatility tier
        let tier; // 'tiny', 'small', 'medium', 'large'
        if (absChange < 0.5) tier = 'tiny';
        else if (absChange < 2) tier = 'small';
        else if (absChange < 5) tier = 'medium';
        else tier = 'large';

        // News headlines organized by magnitude and direction
        const newsHeadlines = {
            btc: {
                up: {
                    tiny: [
                        { emoji: 'üìà', title: 'SLIGHT GAIN', text: 'Bitcoin price ticks up slightly' },
                        { emoji: '‚¨ÜÔ∏è', title: 'MODEST BUY', text: 'Small buying pressure detected' },
                        { emoji: 'üíö', title: 'GREEN DAY', text: 'Bitcoin holding modest gains' }
                    ],
                    small: [
                        { emoji: 'üìä', title: 'DAILY GAINS', text: 'Bitcoin climbing steadily today' },
                        { emoji: 'üÜô', title: 'BUILDING STRENGTH', text: 'Positive momentum building' },
                        { emoji: 'üí∞', title: 'BULLISH SENTIMENT', text: 'Optimism growing in market' }
                    ],
                    medium: [
                        { emoji: 'üöÄ', title: 'STRONG RALLY', text: 'Bitcoin surging with conviction' },
                        { emoji: 'üìà', title: 'BREAKOUT MOVE', text: 'Bitcoin making significant gains' },
                        { emoji: 'üíé', title: 'BULL CONFIDENCE', text: 'Buyers showing real interest' }
                    ],
                    large: [
                        { emoji: 'üöÄ', title: 'RESISTANCE BREAK', text: 'Bitcoin breaks major resistance level' },
                        { emoji: 'üèõÔ∏è', title: 'INSTITUTIONS', text: 'Institutions pile into Bitcoin as inflows surge' },
                        { emoji: 'üìä', title: 'ETF BOOM', text: 'Bitcoin ETF records biggest day ever' },
                        { emoji: '‚õèÔ∏è', title: 'MINERS HODL', text: 'Miners begin hoarding instead of selling' },
                        { emoji: 'üêã', title: 'WHALE PUMP', text: 'Whale accumulation reaches yearly high' },
                        { emoji: 'üí∞', title: 'EXCHANGE DRAIN', text: 'Exchange balances drop to multi-year lows' }
                    ]
                },
                down: {
                    tiny: [
                        { emoji: 'üìâ', title: 'SLIGHT DIP', text: 'Bitcoin prices slip marginally' },
                        { emoji: '‚¨áÔ∏è', title: 'MINOR PULLBACK', text: 'Small profit-taking happening' },
                        { emoji: '‚ö™', title: 'CONSOLIDATION', text: 'Bitcoin taking a brief pause' }
                    ],
                    small: [
                        { emoji: 'üìä', title: 'LOSING STEAM', text: 'Bitcoin retreating from highs' },
                        { emoji: '‚¨áÔ∏è', title: 'SELLING PRESSURE', text: 'Some weakness showing up' },
                        { emoji: 'üíî', title: 'SENTIMENT SHIFT', text: 'Market caution increasing' }
                    ],
                    medium: [
                        { emoji: 'üìâ', title: 'SHARP DECLINE', text: 'Bitcoin dropping with intensity' },
                        { emoji: '‚ö†Ô∏è', title: 'VOLATILITY SPIKE', text: 'Significant selloff underway' },
                        { emoji: 'üíî', title: 'BEAR PRESSURE', text: 'Sellers taking control' }
                    ],
                    large: [
                        { emoji: 'üìâ', title: 'REJECTION', text: 'Bitcoin rejected hard at key resistance' },
                        { emoji: 'üëª', title: 'SATOSHI MOVES', text: 'Satoshi-era wallet moves coins, panic spreads' },
                        { emoji: 'üêã', title: 'WHALE DUMP', text: 'Whale dumps hundreds of millions in BTC' },
                        { emoji: '‚ö°', title: 'FLASH CRASH', text: 'Flash crash liquidates billions in longs' },
                        { emoji: 'üö®', title: 'RESTRICTIONS', text: 'Government hints at new Bitcoin restrictions' },
                        { emoji: 'üî¥', title: 'SUPPORT BREAK', text: 'Bitcoin breaks below critical support' }
                    ]
                }
            },
            eth: {
                up: {
                    tiny: [
                        { emoji: 'üìà', title: 'ETH GAINS', text: 'Ethereum ticking up gradually' },
                        { emoji: '‚¨ÜÔ∏è', title: 'SMALL RALLY', text: 'Modest buying in ETH market' },
                        { emoji: 'üíö', title: 'GREEN MOVES', text: 'Ethereum in positive territory' }
                    ],
                    small: [
                        { emoji: 'üìä', title: 'ETH CLIMBING', text: 'Ethereum showing steady strength' },
                        { emoji: 'üí®', title: 'GAS ACTIVITY', text: 'Network activity increasing' },
                        { emoji: '‚¨ÜÔ∏è', title: 'DEFI BUYING', text: 'DeFi sector showing interest' }
                    ],
                    medium: [
                        { emoji: 'üî•', title: 'ETH SURGE', text: 'Ethereum rallying strongly' },
                        { emoji: 'üìà', title: 'SOLID BREAKOUT', text: 'ETH making impressive moves' },
                        { emoji: 'üíé', title: 'STAKING INTEREST', text: 'Staking demand picking up' }
                    ],
                    large: [
                        { emoji: '‚¨ÜÔ∏è', title: 'UPGRADE SUCCESS', text: 'Major Ethereum upgrade successfully deployed' },
                        { emoji: 'üí®', title: 'LOW GAS FEES', text: 'Ethereum gas fees drop, activity surges' },
                        { emoji: 'üìà', title: 'DEFI BOOM', text: 'DeFi total value locked explodes on Ethereum' },
                        { emoji: 'üñºÔ∏è', title: 'NFT SURGE', text: 'NFT trading volume spikes on ETH network' },
                        { emoji: 'üèõÔ∏è', title: 'INSTITUTIONS', text: 'Institutions increase Ethereum exposure' },
                        { emoji: 'üöÄ', title: 'BREAKOUT', text: 'ETH breaks out as ecosystem growth accelerates' }
                    ]
                },
                down: {
                    tiny: [
                        { emoji: 'üìâ', title: 'ETH SLIP', text: 'Ethereum prices edge lower' },
                        { emoji: '‚¨áÔ∏è', title: 'MINOR WEAKNESS', text: 'Small dip in ETH value' },
                        { emoji: '‚ö™', title: 'PAUSE TIME', text: 'Ethereum consolidating briefly' }
                    ],
                    small: [
                        { emoji: 'üìä', title: 'ETH RETREATING', text: 'Ethereum losing some momentum' },
                        { emoji: '‚¨áÔ∏è', title: 'GAS CONCERNS', text: 'Network fees creating friction' },
                        { emoji: 'üíî', title: 'DEFI CAUTION', text: 'DeFi sector shows hesitation' }
                    ],
                    medium: [
                        { emoji: 'üî•', title: 'ETH SELLOFF', text: 'Ethereum dropping meaningfully' },
                        { emoji: 'üìâ', title: 'SHARP DROP', text: 'ETH experiencing real weakness' },
                        { emoji: '‚ö†Ô∏è', title: 'BUYER CONCERNS', text: 'Market worries surfacing' }
                    ],
                    large: [
                        { emoji: 'üêõ', title: 'BUG FOUND', text: 'Bug discovered in major Ethereum update' },
                        { emoji: 'üî•', title: 'HIGH FEES', text: 'High gas fees drive users to rival chains' },
                        { emoji: 'üí•', title: 'EXPLOIT', text: 'DeFi exploit drains millions on Ethereum' },
                        { emoji: 'üì§', title: 'WHALE EXIT', text: 'Whales move huge ETH stacks to exchanges' },
                        { emoji: 'üî¥', title: 'SUPPORT BREAK', text: 'ETH breaks below long-term support zone' }
                    ]
                }
            },
            doge: {
                up: {
                    tiny: [
                        { emoji: 'üìà', title: 'DOGE UP', text: 'Dogecoin price rising slightly' },
                        { emoji: 'üêï', title: 'GOOD BOY', text: 'Much gain, such rise' },
                        { emoji: 'üíö', title: 'DOGE HAPPY', text: 'Positive vibes for DOGE' }
                    ],
                    small: [
                        { emoji: 'üìä', title: 'STEADY CLIMB', text: 'Dogecoin building momentum' },
                        { emoji: 'üÜô', title: 'COMMUNITY INTEREST', text: 'DOGE holders showing support' },
                        { emoji: 'üí∞', title: 'SMALL GAINS', text: 'Retail traders entering' }
                    ],
                    medium: [
                        { emoji: 'üöÄ', title: 'DOGE PUMPING', text: 'Dogecoin rallying nicely' },
                        { emoji: 'üìà', title: 'SIGNIFICANT MOVE', text: 'DOGE making real waves' },
                        { emoji: 'üòÑ', title: 'DOGE VIBES', text: 'Community excitement rising' }
                    ],
                    large: [
                        { emoji: 'üêï', title: 'ELON MEME', text: 'Elon Musk posts new Doge meme, price jumps' },
                        { emoji: 'üì±', title: 'TRENDING', text: 'Dogecoin trends #1 worldwide on social media' },
                        { emoji: 'üõçÔ∏è', title: 'PAYMENT APP', text: 'Major payment app adds Dogecoin support' },
                        { emoji: 'üî•', title: 'RETAIL FRENZY', text: 'Retail frenzy returns as DOGE volume explodes' },
                        { emoji: 'üêã', title: 'WHALE ACCUMULATE', text: 'Whales quietly accumulate massive DOGE positions' },
                        { emoji: 'üöÄ', title: 'MEME SEASON', text: 'Meme coin season ignites, Doge leads the pack' }
                    ]
                },
                down: {
                    tiny: [
                        { emoji: 'üìâ', title: 'DOGE DIP', text: 'Dogecoin slipping slightly' },
                        { emoji: 'üòÖ', title: 'OOPS', text: 'Such fall, not wow' },
                        { emoji: '‚ö™', title: 'DOGE REST', text: 'Taking a quick breather' }
                    ],
                    small: [
                        { emoji: 'üìä', title: 'DOGE FADING', text: 'Dogecoin losing ground' },
                        { emoji: '‚¨áÔ∏è', title: 'PROFIT TAKING', text: 'Some traders cashing out' },
                        { emoji: 'üòî', title: 'SENTIMENT DROP', text: 'Community caution rising' }
                    ],
                    medium: [
                        { emoji: 'üìâ', title: 'DOGE DROPPING', text: 'Dogecoin declining sharply' },
                        { emoji: '‚ö†Ô∏è', title: 'SHARP DUMP', text: 'Significant selloff happening' },
                        { emoji: 'üíî', title: 'SELL PRESSURE', text: 'Bears taking control' }
                    ],
                    large: [
                        { emoji: 'üóëÔ∏è', title: 'ELON DELETES', text: 'Elon deletes Doge tweet, market instantly reacts' },
                        { emoji: 'üí§', title: 'HYPE FADES', text: 'Meme coin hype fades, Dogecoin dumps' },
                        { emoji: 'üêã', title: 'WHALE DUMP', text: 'Whale unloads billions of DOGE on exchanges' },
                        { emoji: 'üì±', title: 'SOCIAL FADE', text: 'Social media interest in Doge hits yearly low' },
                        { emoji: 'üö™', title: 'RETAIL EXIT', text: 'Retail traders exit meme coins en masse' },
                        { emoji: 'üî¥', title: 'SUPPORT BREAK', text: 'Dogecoin breaks below critical support' }
                    ]
                }
            }
        };

        // Select headline based on crypto, direction, and magnitude
        const directionKey = isUp ? 'up' : 'down';
        const headlines = newsHeadlines[crypto][directionKey][tier];
        const headline = headlines[Math.floor(Math.random() * headlines.length)];

        // Create news item element
        const newsItem = document.createElement('div');
        newsItem.className = 'news-item';

        const cryptoSymbols = { btc: '‚Çø', eth: 'Œû', doge: '√ê' };
        const priceClass = isUp ? 'up' : 'down';
        const priceText = (isUp ? '+' : '') + changePercent.toFixed(2) + '%';

        newsItem.innerHTML = `
            <div class="news-item-emoji">${headline.emoji}</div>
            <div class="news-item-content">
                <span class="news-item-title">${headline.title}</span>
                <span class="news-item-text">${headline.text}</span>
                <span class="news-item-price ${priceClass}">${cryptoSymbols[crypto]} ${priceText}</span>
            </div>
        `;

        // Add to news feed
        const newsFeed = document.getElementById('news-ticker-content');
        if (!newsFeed) {
            console.error('‚ùå News ticker content element #news-ticker-content not found in DOM');
            console.error('Available elements:', document.querySelectorAll('[id*="news"]'));
            return;
        }

        console.log('‚úÖ News item added to feed:', headline.title, headline.text);
        newsFeed.insertBefore(newsItem, newsFeed.firstChild);

        // Limit to last 8 news items
        while (newsFeed.children.length > 8) {
            newsFeed.removeChild(newsFeed.lastChild);
        }

        // Auto-remove after 10 seconds
        setTimeout(() => {
            if (newsItem.parentNode) {
                newsItem.remove();
            }
        }, 10000);
    }

    // Make showNewsPopup globally accessible
    window.showNewsPopup = showNewsPopup;
    console.log('‚úÖ showNewsPopup function registered to window:', typeof window.showNewsPopup);

    // Test function - call from browser console to test news ticker
    window.testNewsPopup = function() {
        console.log('üß™ Running news ticker test...');
        window.showNewsPopup('btc', 4.5, true);
        window.showNewsPopup('eth', 2.3, false);
        window.showNewsPopup('doge', 7.8, true);
        console.log('‚úÖ Test news items added. Check the ticker at bottom of graph!');
    };
    console.log('üìã Type testNewsPopup() in console to test news ticker');
</script>

<!-- Cache busting system - forces hard refresh on code updates -->
<script>
    const CURRENT_VERSION = '1.1.0';
    const STORAGE_KEY = 'gameCodeVersion';
    const lastVersionLoaded = localStorage.getItem(STORAGE_KEY);

    if (lastVersionLoaded && lastVersionLoaded !== CURRENT_VERSION) {
        // Version mismatch - force hard reload to bypass cache
        console.log(`Game version updated: ${lastVersionLoaded} ‚Üí ${CURRENT_VERSION}. Forcing cache refresh...`);
        localStorage.setItem(STORAGE_KEY, CURRENT_VERSION);
        // Force reload bypassing cache
        location.reload(true);
    } else if (!lastVersionLoaded) {
        // First load
        localStorage.setItem(STORAGE_KEY, CURRENT_VERSION);
    }
</script>

<!-- Load main game -->
<!-- Load tutorial system before game.js so tutorial is available when game initializes -->
<script src="tutorial.js?v=1.1.0"></script>

<!-- Whack-A-Block Modal -->
<div id="whack-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,1); z-index: 10002; justify-content: center; align-items: center; overflow: hidden;">
    <div style="background: linear-gradient(135deg, #1a2a1a 0%, #2d3d2d 100%); background-image: repeating-linear-gradient(0deg, transparent, transparent 20px, rgba(0,255,136,0.03) 20px, rgba(0,255,136,0.03) 21px), repeating-linear-gradient(90deg, transparent, transparent 20px, rgba(0,255,136,0.03) 20px, rgba(0,255,136,0.03) 21px), radial-gradient(circle at 20% 50%, rgba(0,255,136,0.05) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(0,255,136,0.05) 0%, transparent 50%); padding: 30px; border-radius: 12px; max-width: 700px; width: 90%; max-height: 90vh; overflow-y: auto; border: 2px solid #00ff88; box-shadow: 0 0 30px rgba(0,255,136,0.5), inset 0 0 30px rgba(0,255,136,0.1); display: flex; flex-direction: column; align-items: center;">
        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%; margin-bottom: 20px;">
            <h2 style="color: #00ff88; margin: 0; font-size: 1.5rem;">‚ö° BLOCK SUPPRESSION</h2>
            <div style="display: flex; align-items: center; gap: 15px;">
                <div style="text-align: right;">
                    <div style="color: #00ff88; font-size: 1.2rem; font-weight: 800; margin-bottom: 5px;">
                        <span id="whack-difficulty-display">EASY</span>
                    </div>
                    <div style="color: #fff; font-size: 1rem;">
                        <span id="whack-time-display">30s</span>
                    </div>
                    <div style="color: #ff3344; font-size: 0.9rem; margin-top: 5px; font-weight: 800;">
                        Lives: <span id="whack-lives-display">‚ù§Ô∏è 5/5</span>
                    </div>
                </div>
                <button onclick="event.stopPropagation(); closeWhackMidGame();" style="background: #00ff88; color: #000; border: none; padding: 8px 12px; font-weight: 800; border-radius: 4px; cursor: pointer; font-size: 1.2rem; line-height: 1; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;">√ó</button>
            </div>
        </div>

        <!-- Score Display -->
        <div style="background: rgba(0,255,136,0.2); border: 2px solid #00ff88; border-radius: 8px; padding: 15px; margin-bottom: 20px; width: 100%; text-align: center;">
            <div style="color: #888; font-size: 0.85rem; margin-bottom: 5px;">SCORE</div>
            <div style="color: #00ff88; font-size: 2.5rem; font-weight: 800;" id="whack-score-display">0</div>
        </div>

        <!-- Game Info Section -->
        <div id="whack-game-info">
            <!-- Grid Container -->
            <div id="whack-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; width: 100%; max-width: 400px; aspect-ratio: 1;">
                <!-- 16 blocks will be generated here by JavaScript -->
            </div>

            <div style="color: #888; font-size: 0.75rem; text-align: center;">
                Click blocks as they light up! Miss too many and you lose!
            </div>
        </div>

        <!-- Result Message -->
        <div id="whack-results-message" style="display: none; text-align: center; padding: 30px; margin-bottom: 20px;"></div>

        <!-- Close Button -->
        <button id="whack-close-btn" onclick="closeWhackModal()" style="display: none; background: #00ff88; color: #000; border: none; padding: 15px 40px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 1rem;">
            CLOSE
        </button>
    </div>
</div>

<!-- Whack-A-Block Results Modal -->
<div id="whack-results-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,1); z-index: 10003; justify-content: center; align-items: center; flex-direction: column;">
    <div style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 40px; border-radius: 12px; max-width: 500px; width: 90%; border: 2px solid #00ff88; box-shadow: 0 0 30px rgba(0,255,136,0.5); text-align: center;">
        <div id="whack-results-title" style="color: #00ff88; font-size: 1.8rem; font-weight: 800; margin-bottom: 20px;">‚ö° GAME OVER</div>

        <div style="background: rgba(0,255,136,0.1); border: 1px solid #00ff88; border-radius: 8px; padding: 20px; margin-bottom: 20px;">
            <div style="margin-bottom: 15px;">
                <div style="color: #888; font-size: 0.9rem; margin-bottom: 5px;">SCORE</div>
                <div style="color: #00ff88; font-size: 2rem; font-weight: 800;" id="whack-results-score">0</div>
            </div>
            <div style="margin-bottom: 15px;">
                <div style="color: #888; font-size: 0.9rem; margin-bottom: 5px;">BLOCKS HIT</div>
                <div style="color: #fff; font-size: 1.5rem; font-weight: 800;" id="whack-results-blocks">0</div>
            </div>
            <div style="margin-bottom: 15px;">
                <div style="color: #888; font-size: 0.9rem; margin-bottom: 5px;">LIVES REMAINING</div>
                <div style="color: #ff3344; font-size: 1.5rem; font-weight: 800;" id="whack-results-lives">0</div>
            </div>
            <div style="border-top: 1px solid rgba(0,255,136,0.3); padding-top: 15px;">
                <div id="whack-results-rewards-breakdown" style="color: #fff;">
                    <div style="color: #f7931a; font-weight: 700; margin-bottom: 8px;">Rewards Earned:</div>
                    <div style="color: #fff; font-size: 0.9rem; line-height: 1.6;">
                        ‚Çø 0 BTC<br>
                        Œû 0 ETH<br>
                        √ê 0 DOGE<br>
                        üíµ $0.00
                    </div>
                </div>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <button onclick="closeWhackResultsModal()" style="background: #00ff88; color: #000; border: none; padding: 15px 40px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 1rem; width: 100%;">
                CLOSE
            </button>
        </div>
    </div>
</div>

<!-- Network Stress Test Modal -->
<div id="network-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,1); z-index: 10002; justify-content: center; align-items: center; overflow: auto;">
    <div style="background: linear-gradient(135deg, #0a1a2a 0%, #1a2d3d 100%); background-image: repeating-linear-gradient(45deg, transparent, transparent 30px, rgba(0,180,255,0.03) 30px, rgba(0,180,255,0.03) 31px), repeating-linear-gradient(-45deg, transparent, transparent 30px, rgba(0,180,255,0.03) 30px, rgba(0,180,255,0.03) 31px), radial-gradient(circle at 10% 90%, rgba(0,180,255,0.08) 0%, transparent 50%), radial-gradient(circle at 90% 10%, rgba(0,180,255,0.08) 0%, transparent 50%); padding: 30px; border-radius: 12px; max-width: 700px; width: 90%; max-height: 90vh; overflow-y: auto; border: 2px solid #00b4ff; box-shadow: 0 0 30px rgba(0,180,255,0.5), inset 0 0 30px rgba(0,180,255,0.1); display: flex; flex-direction: column; align-items: center;">
        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%; margin-bottom: 20px;">
            <h2 style="color: #00b4ff; margin: 0; font-size: 1.5rem;">üåê NETWORK STRESS TEST</h2>
            <div style="display: flex; align-items: center; gap: 15px;">
                <div style="text-align: right;">
                    <div style="color: #00b4ff; font-size: 1.2rem; font-weight: 800; margin-bottom: 5px;">
                        <span id="network-difficulty-display">EASY</span>
                    </div>
                    <div style="color: #fff; font-size: 1rem;">
                        <span id="network-time-display">10s</span>
                    </div>
                </div>
                <button onclick="closeNetworkModal()" style="background: #00b4ff; color: #000; border: none; padding: 8px 12px; font-weight: 800; border-radius: 4px; cursor: pointer; font-size: 1.2rem; line-height: 1; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;">√ó</button>
            </div>
        </div>

        <!-- HP Bar -->
        <div style="background: rgba(0,180,255,0.2); border: 2px solid #00b4ff; border-radius: 8px; padding: 15px; margin-bottom: 20px; width: 100%; text-align: center;">
            <div style="color: #888; font-size: 0.85rem; margin-bottom: 8px;">NETWORK HP</div>
            <div style="background: rgba(0,0,0,0.5); border-radius: 4px; height: 30px; overflow: hidden; margin-bottom: 8px; position: relative;">
                <div id="network-hp-bar" style="background: linear-gradient(90deg, #ff3344, #ff6644); height: 100%; width: 100%; transition: width 0.1s ease;"></div>
            </div>
            <div style="color: #00b4ff; font-size: 1.3rem; font-weight: 800;">
                <span id="network-hp-display">50000</span> / <span id="network-hp-max-display">50000</span> HP
            </div>
        </div>

        <!-- Game Info Section -->
        <div id="network-game-info">
            <div style="color: #888; font-size: 0.9rem; text-align: center; margin-bottom: 20px;">
                Use your hash rate (passive) and clicking (active) to destroy the network!
            </div>

            <!-- Click Button -->
            <button id="network-click-btn" onclick="networkClickAttack()" style="width: 100%; background: linear-gradient(135deg, #00b4ff 0%, #0080ff 100%); color: #fff; border: 2px solid #00b4ff; padding: 30px; border-radius: 8px; cursor: pointer; font-size: 1.5rem; font-weight: 800; margin-bottom: 15px; transition: all 0.1s ease;">
                ATTACK!<br><span style="font-size: 0.8rem; font-weight: 400;" id="network-click-damage-display">+100 damage/click</span>
            </button>

            <!-- Stats -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                <div style="background: rgba(0,180,255,0.1); border: 1px solid #00b4ff; border-radius: 6px; padding: 10px; text-align: center;">
                    <div style="color: #888; font-size: 0.75rem; margin-bottom: 3px;">HASH RATE DAMAGE/SEC</div>
                    <div style="color: #00b4ff; font-weight: 800; font-size: 1.1rem;" id="network-passive-dps-display">0</div>
                </div>
                <div style="background: rgba(0,180,255,0.1); border: 1px solid #00b4ff; border-radius: 6px; padding: 10px; text-align: center;">
                    <div style="color: #888; font-size: 0.75rem; margin-bottom: 3px;">MANUAL CLICK DMG BONUS</div>
                    <div style="color: #00b4ff; font-weight: 800; font-size: 1.1rem;" id="network-total-damage-display">0%</div>
                </div>
            </div>

            <!-- Rewards Preview -->
            <div style="background: rgba(0,180,255,0.1); border: 1px solid #00b4ff; border-radius: 8px; padding: 15px; margin-top: 20px;">
                <div style="color: #888; font-size: 0.75rem; margin-bottom: 8px;">ESTIMATED REWARDS (if destroyed)</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 8px; font-size: 0.8rem;">
                    <div style="text-align: center;">
                        <div style="color: #f7931a; font-weight: 700; margin-bottom: 3px;">‚Çø BTC</div>
                        <div style="color: #00b4ff; font-weight: 800;" id="network-reward-btc-preview">0</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #627eea; font-weight: 700; margin-bottom: 3px;">Œû ETH</div>
                        <div style="color: #00b4ff; font-weight: 800;" id="network-reward-eth-preview">0</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #c1a81d; font-weight: 700; margin-bottom: 3px;">√ê DOGE</div>
                        <div style="color: #00b4ff; font-weight: 800;" id="network-reward-doge-preview">0</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #fff; font-weight: 700; margin-bottom: 3px;">üíµ USD</div>
                        <div style="color: #00b4ff; font-weight: 800;" id="network-reward-usd-preview">$0</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Result Message -->
        <div id="network-results-message" style="display: none; text-align: center; padding: 30px; margin-bottom: 20px;"></div>

        <!-- Close Button -->
        <button id="network-close-btn" onclick="closeNetworkModal()" style="display: none; background: #00b4ff; color: #000; border: none; padding: 15px 40px; font-weight: 800; border-radius: 8px; cursor: pointer; font-size: 1rem;">
            CLOSE
        </button>
    </div>
</div>

<style>
#crypto-prices-flex > div {
    flex-shrink: 0 !important;
}

.stat-val {
    min-width: 80px;
    display: inline-block;
}

.whack-block {
    background: #333;
    border: 2px solid #555;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.1s ease;
    position: relative;
}

.whack-block:hover {
    background: #444;
    border-color: #666;
}

.whack-block.active {
    background: linear-gradient(135deg, #00ff88 0%, #00dd77 100%);
    border-color: #00ff88;
    box-shadow: 0 0 20px rgba(0,255,136,0.8), inset 0 0 10px rgba(0,255,136,0.4);
    animation: whackPulse 0.3s ease;
}

.whack-block.hit {
    background: #00ff88;
    border-color: #00ff88;
    box-shadow: 0 0 10px rgba(0,255,136,0.6);
}

@keyframes whackPulse {
    0% {
        transform: scale(0.95);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}

.whack-error-flash {
    animation: whackErrorFlash 0.3s ease !important;
}

@keyframes whackErrorFlash {
    0%, 100% {
        background: transparent;
    }
    50% {
        background: rgba(255, 51, 68, 0.6);
        box-shadow: inset 0 0 20px rgba(255, 51, 68, 0.8), 0 0 30px rgba(255, 51, 68, 0.6);
    }
}

/* Responsive utility buttons layout */
@media (min-width: 1561px) {
    #utility-buttons-container {
        flex-direction: row !important;
        gap: 8px !important;
        align-items: center !important;
    }
}

/* News ticker styles */
.news-item {
    display: flex;
    gap: 8px;
    padding: 8px 10px;
    background: rgba(0, 0, 0, 0.7);
    border-left: 3px solid #f7931a;
    border-radius: 4px;
    font-size: 0.75rem;
    pointer-events: auto;
    animation: slideInRight 0.3s ease;
}

.news-item-emoji {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.news-item-content {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.news-item-title {
    font-weight: 700;
    color: #f7931a;
}

.news-item-text {
    color: #999;
    font-size: 0.7rem;
}

.news-item-price {
    font-weight: 600;
}

.news-item-price.up {
    color: #00ff88;
}

.news-item-price.down {
    color: #ff3344;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}
</style>

<!-- Global function wrappers for rugpull functions that are called from HTML before rugpull.js loads -->
<script>
// Create a namespace for the actual implementations
window._rugpullImpl = {};

// Create wrapper functions that delegate to implementations
function showRugpullTooltip() {
    if (window._rugpullImpl.showRugpullTooltip) {
        window._rugpullImpl.showRugpullTooltip();
    }
}

function hideRugpullTooltip() {
    if (window._rugpullImpl.hideRugpullTooltip) {
        window._rugpullImpl.hideRugpullTooltip();
    }
}

function openMetaUpgradesModal() {
    if (window._rugpullImpl.openMetaUpgradesModal) {
        window._rugpullImpl.openMetaUpgradesModal();
    }
}

function handleRugpullButtonClick() {
    if (window._rugpullImpl.handleRugpullButtonClick) {
        window._rugpullImpl.handleRugpullButtonClick();
    }
}
</script>

<script src="game.js?v=1.2.2"></script>
<script src="packet-interceptor.js?v=1.0.0"></script>

<!-- Load staking system after main game variables are defined -->
<script src="staking.js?v=1.1.0"></script>

<!-- Load achievements system after main game variables are defined -->
<script src="achievements.js?v=1.1.0"></script>

<!-- Load rugpull/ascension system after main game variables are defined -->
<script src="rugpull.js?v=1.1.2"></script>

<!-- Footer - Fixed at bottom -->
<footer style="position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0, 0, 0, 0.9); color: #666; padding: 8px 20px; text-align: center; border-top: 1px solid #333; font-size: 0.65rem; z-index: 100; backdrop-filter: blur(10px); line-height: 1.3;">
    <span style="color: #f7931a; font-weight: 600;">18+ Only</span> | This is a simulation game with <span style="color: #f7931a; font-weight: 600;">NO real cryptocurrency or monetary value</span>. All assets are virtual and for entertainment only. |
    <a href="#" onclick="openPrivacyModal(); switchPolicyTab('privacy'); return false;" style="color: #f7931a; text-decoration: none;">Privacy Policy</a> |
    <a href="#" onclick="openPrivacyModal(); switchPolicyTab('cookies'); return false;" style="color: #f7931a; text-decoration: none;">Cookie Policy</a> |
    <a href="#" onclick="openPrivacyModal(); switchPolicyTab('terms'); return false;" style="color: #f7931a; text-decoration: none;">Terms & Conditions</a> |
    <a href="#" onclick="openPrivacyModal(); switchPolicyTab('contact'); return false;" style="color: #f7931a; text-decoration: none;">Contact</a> |
    ¬© 2026 Idle BTC Miner - Aaron Khan
</footer>

<script>
// Remove focus glow on buttons after click on mobile
document.addEventListener('click', function(e) {
    const btn = e.target.closest('.u-item, .tab-btn, .mine-btn, #autoclicker-btn, #power-upgrade-btn, #crypto-exchange-btn, #minigames-tab-btn, #hacking-tab-btn, #whack-tab-btn');
    if (btn) {
        btn.blur();
        // Clear any box-shadow from focus state
        btn.style.boxShadow = 'none';
    }
}, true);
</script>

</body>

</html>
