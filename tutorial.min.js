function getTotalCryptoValue(){try{const t="undefined"!=typeof BTC_PRICE?BTC_PRICE:99975,e="undefined"!=typeof ETH_PRICE?ETH_PRICE:3499,o="undefined"!=typeof DOGE_PRICE?DOGE_PRICE:.35,n="undefined"!=typeof btcBalance?btcBalance:0,i="undefined"!=typeof ethBalance?ethBalance:0,a="undefined"!=typeof dogeBalance?dogeBalance:0;return n*t+i*e+a*o}catch(t){return console.log("ðŸŽ“ Error calculating portfolio value:",t),0}}function saveTutorialState(){const t={completed:tutorialData.completed,currentStep:tutorialData.currentStep,cryptoSoldOnce:tutorialData.cryptoSoldOnce,powerUpgradeClicked:tutorialData.powerUpgradeClicked,btcTabClicked:tutorialData.btcTabClicked,ethTabClicked:tutorialData.ethTabClicked,dogeTabClicked:tutorialData.dogeTabClicked};localStorage.setItem("tutorialState",JSON.stringify(t)),console.log("ðŸŽ“ Tutorial state saved:",t)}function loadTutorialState(){const t=localStorage.getItem("tutorialState");if(t)try{const e=JSON.parse(t);return tutorialData.completed=e.completed||!1,tutorialData.currentStep=e.currentStep||0,tutorialData.cryptoSoldOnce=e.cryptoSoldOnce||!1,tutorialData.powerUpgradeClicked=e.powerUpgradeClicked||!1,tutorialData.btcTabClicked=e.btcTabClicked||!1,tutorialData.ethTabClicked=e.ethTabClicked||!1,tutorialData.dogeTabClicked=e.dogeTabClicked||!1,console.log("ðŸŽ“ Tutorial state loaded:",e),!0}catch(t){return console.log("ðŸŽ“ Error loading tutorial state:",t),!1}return!1}let tutorialData={completed:!1,currentStep:0,cryptoSoldOnce:!1,btcTabClicked:!1,ethTabClicked:!1,dogeTabClicked:!1,steps:[{id:"manual_hash",title:"Start Mining!",description:"Click the manual hash buttons AND/OR use the AUTO CLICKER to earn cryptocurrency. Earn at least $30 to continue! ðŸ’°",targets:["manual-hash-btc-btn","manual-hash-eth-btn","manual-hash-doge-btn","autoclicker-btn"],trigger:"clicks_made",nextCondition:()=>{try{return getTotalCryptoValue()>=30}catch(t){return!1}},highlightClass:"tutorial-highlight"},{id:"crypto_exchange",title:"Exchange Your Crypto",description:'Great! Now you need to sell your cryptocurrency for USD. Open the Exchange tab and click "SELL ALL" to convert at least $30 worth of crypto to cash.',targets:["crypto-exchange-btn"],trigger:"manual",nextCondition:()=>"undefined"!=typeof dollarBalance&&dollarBalance>=30,highlightClass:"tutorial-highlight-urgent",customHighlight:()=>{const t=document.getElementById("bal-btc"),e=document.getElementById("bal-eth"),o=document.getElementById("bal-doge");t&&(t.style.boxShadow="0 0 30px rgba(255, 215, 0, 0.8)"),e&&(e.style.boxShadow="0 0 30px rgba(255, 215, 0, 0.8)"),o&&(o.style.boxShadow="0 0 30px rgba(255, 215, 0, 0.8)");const n=document.getElementById("player-cash-display");n&&(n.style.cssText="\n                        border: 3px dashed #FFD700 !important;\n                        box-shadow: 0 0 30px rgba(255, 215, 0, 0.9) !important;\n                        padding: 8px !important;\n                        border-radius: 6px !important;\n                    "),document.querySelectorAll("button").forEach(t=>{t.textContent.includes("SELL ALL")&&(t.style.animation="tutorial-flash 0.6s infinite",t.style.zIndex="9991")})}},{id:"power_button",title:"Upgrade Power Supply",description:'Great! Now that you have cash, click the "UPGRADE POWER SUPPLY" button to increase your mining capacity.',targets:["power-upgrade-btn"],trigger:"manual",nextCondition:()=>tutorialData.powerUpgradeClicked,highlightClass:"tutorial-highlight-urgent"},{id:"buy_power_supply",title:"Buy Basic Power Strip",description:'In the Power tab, find and buy the "Basic Power Strip" upgrade. This lets you run more miners at once.',targets:[],trigger:"manual",nextCondition:()=>"undefined"!=typeof powerUpgrades&&powerUpgrades[0]&&powerUpgrades[0].level>0,highlightClass:"tutorial-highlight-urgent",autoAdvance:!0,customHighlight:()=>{setTimeout(()=>{const t=document.getElementById("pow-0");if(t)t.style.cssText="\n                            border: 3px dashed #FFD700 !important;\n                            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 215, 0, 0.2) !important;\n                            position: relative !important;\n                            z-index: 9991 !important;\n                            outline: 2px solid #FFD700 !important;\n                            outline-offset: 2px !important;\n                        ",console.log("ðŸŽ“ Basic Power Strip highlighted successfully via ID pow-0");else{console.log("ðŸŽ“ Could not find Basic Power Strip button with ID pow-0 - trying text search fallback");let t=!1;document.querySelectorAll("button.u-item").forEach(e=>{e.textContent.includes("Basic Power Strip")&&(e.style.cssText="\n                                    border: 3px dashed #FFD700 !important;\n                                    box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 215, 0, 0.2) !important;\n                                    position: relative !important;\n                                    z-index: 9991 !important;\n                                    outline: 2px solid #FFD700 !important;\n                                    outline-offset: 2px !important;\n                                ",console.log("ðŸŽ“ Basic Power Strip found and highlighted via text search"),t=!0)}),t||console.log("ðŸŽ“ Basic Power Strip button not found - power shop may not be rendered yet")}},300)}},{id:"btc_tab",title:"Mine Bitcoin",description:"Perfect! Now that you have more power capacity, click the BTC tab to see Bitcoin mining equipment.",targets:["btc-tab-btn"],trigger:"manual",nextCondition:()=>tutorialData.btcTabClicked,highlightClass:"tutorial-highlight",autoAdvance:!0},{id:"buy_usb_miner",title:"Buy USB Miner",description:'In the BTC tab, buy a "USB Miner" to start passive Bitcoin mining. It will generate income automatically!',targets:["btc-shop"],trigger:"manual",nextCondition:()=>"undefined"!=typeof btcUpgrades&&btcUpgrades[1]&&btcUpgrades[1].level>0,highlightClass:"tutorial-highlight-urgent",autoAdvance:!0,customHighlight:()=>{setTimeout(()=>{const t=document.getElementById("up-1");if(t)t.style.cssText="\n                            border: 3px dashed #FFD700 !important;\n                            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 215, 0, 0.2) !important;\n                            position: relative !important;\n                            z-index: 9991 !important;\n                            outline: 2px solid #FFD700 !important;\n                            outline-offset: 2px !important;\n                        ",console.log("ðŸŽ“ USB Miner highlighted successfully via ID up-1");else{console.log("ðŸŽ“ Could not find USB Miner button with ID up-1 - trying text search fallback");let t=!1;document.querySelectorAll("button.u-item").forEach(e=>{e.textContent.includes("USB Miner")&&(e.style.cssText="\n                                    border: 3px dashed #FFD700 !important;\n                                    box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 215, 0, 0.2) !important;\n                                    position: relative !important;\n                                    z-index: 9991 !important;\n                                    outline: 2px solid #FFD700 !important;\n                                    outline-offset: 2px !important;\n                                ",console.log("ðŸŽ“ USB Miner found and highlighted via text search"),t=!0)}),t||console.log("ðŸŽ“ USB Miner button not found - BTC shop may not be rendered yet")}},300)}},{id:"buy_eth_miner",title:"Mine Ethereum",description:"Now let's diversify! Click the ETH tab to see Ethereum mining equipment.",targets:["eth-tab-btn"],trigger:"manual",nextCondition:()=>void 0!==tutorialData&&tutorialData.ethTabClicked,highlightClass:"tutorial-highlight-urgent",autoAdvance:!0,hideGotItButton:!0},{id:"buy_gpu_rig",title:"Buy Single GPU Rig",description:'In the ETH tab, purchase a "Single GPU Rig" to start mining Ethereum. You can\'t proceed without buying one!',targets:["eth-shop"],trigger:"manual",nextCondition:()=>"undefined"!=typeof ethUpgrades&&ethUpgrades[1]&&ethUpgrades[1].level>0,highlightClass:"tutorial-highlight-urgent",autoAdvance:!0,hideGotItButton:!0,customHighlight:()=>{setTimeout(()=>{const t=document.getElementById("up-1-eth")||document.getElementById("ue-1");if(t)t.style.cssText="\n                            border: 3px dashed #FFD700 !important;\n                            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 215, 0, 0.2) !important;\n                            position: relative !important;\n                            z-index: 9991 !important;\n                            outline: 2px solid #FFD700 !important;\n                            outline-offset: 2px !important;\n                        ",console.log("ðŸŽ“ Single GPU Rig highlighted successfully");else{console.log("ðŸŽ“ Could not find GPU Rig button - trying text search fallback");let t=!1;document.querySelectorAll("button.u-item").forEach(e=>{e.textContent.includes("Single GPU Rig")&&(e.style.cssText="\n                                    border: 3px dashed #FFD700 !important;\n                                    box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 215, 0, 0.2) !important;\n                                    position: relative !important;\n                                    z-index: 9991 !important;\n                                    outline: 2px solid #FFD700 !important;\n                                    outline-offset: 2px !important;\n                                ",console.log("ðŸŽ“ Single GPU Rig found and highlighted via text search"),t=!0)}),t||console.log("ðŸŽ“ Single GPU Rig button not found - ETH shop may not be rendered yet")}},300)}},{id:"buy_doge_miner",title:"Mine Dogecoin",description:"Let's complete the trifecta! Click the DOGE tab to see Dogecoin mining equipment.",targets:["doge-tab-btn"],trigger:"manual",nextCondition:()=>void 0!==tutorialData&&tutorialData.dogeTabClicked,highlightClass:"tutorial-highlight-urgent",autoAdvance:!0,hideGotItButton:!0},{id:"buy_scrypt_miner",title:"Buy Basic Scrypt Miner",description:'In the DOGE tab, purchase a "Basic Scrypt Miner" to start mining Dogecoin. You can\'t proceed without buying one!',targets:["doge-shop"],trigger:"manual",nextCondition:()=>"undefined"!=typeof dogeUpgrades&&dogeUpgrades[1]&&dogeUpgrades[1].level>0,highlightClass:"tutorial-highlight-urgent",autoAdvance:!0,hideGotItButton:!0,customHighlight:()=>{setTimeout(()=>{const t=document.getElementById("up-1-doge")||document.getElementById("ud-1");if(t)t.style.cssText="\n                            border: 3px dashed #FFD700 !important;\n                            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 215, 0, 0.2) !important;\n                            position: relative !important;\n                            z-index: 9991 !important;\n                            outline: 2px solid #FFD700 !important;\n                            outline-offset: 2px !important;\n                        ",console.log("ðŸŽ“ Basic Scrypt Miner highlighted successfully");else{console.log("ðŸŽ“ Could not find Scrypt Miner button - trying text search fallback");let t=!1;document.querySelectorAll("button.u-item").forEach(e=>{e.textContent.includes("Basic Scrypt Miner")&&(e.style.cssText="\n                                    border: 3px dashed #FFD700 !important;\n                                    box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 215, 0, 0.2) !important;\n                                    position: relative !important;\n                                    z-index: 9991 !important;\n                                    outline: 2px solid #FFD700 !important;\n                                    outline-offset: 2px !important;\n                                ",console.log("ðŸŽ“ Basic Scrypt Miner found and highlighted via text search"),t=!0)}),t||console.log("ðŸŽ“ Basic Scrypt Miner button not found - DOGE shop may not be rendered yet")}},300)}},{id:"hashrate_display",title:"Monitor Your Hashrate",description:"These bars display your current HASHRATE in $/sec for each cryptocurrency. This shows how much value you're earning per second from your miners!",targets:[],trigger:"manual",nextCondition:()=>!0,highlightClass:"tutorial-highlight",customHighlight:()=>{setTimeout(()=>{const t=document.getElementById("btc-hashrate-bar");if(t){const e=t.parentElement?.parentElement?.parentElement;e&&(e.style.cssText="\n                                border: 3px dashed #FFD700 !important;\n                                box-shadow: 0 0 30px rgba(255, 215, 0, 0.8) !important;\n                                padding: 8px !important;\n                                border-radius: 8px !important;\n                                position: relative !important;\n                                width: 100% !important;\n                                display: flex !important;\n                                justify-content: center !important;\n                                gap: 8px !important;\n                                flex-wrap: nowrap !important;\n                                box-sizing: border-box !important;\n                            ",console.log("ðŸŽ“ Hashrate display highlighted with yellow dashed border")),t.scrollIntoView({behavior:"smooth",block:"center"})}},300)}},{id:"crypto_distribution",title:"Cryptocurrency Distribution",description:"These colored bars show your current distribution of BTC, ETH, and DOGE. As you mine more cryptocurrencies, the proportions will shift based on which miners you own!",targets:[],trigger:"manual",nextCondition:()=>!0,highlightClass:"tutorial-highlight",customHighlight:()=>{setTimeout(()=>{const t=document.getElementById("btc-bar");if(t){const e=t.parentElement?.parentElement?.parentElement;e&&(e.style.cssText="\n                                border: 3px dashed #FFD700 !important;\n                                box-shadow: 0 0 30px rgba(255, 215, 0, 0.8) !important;\n                                padding: 8px !important;\n                                border-radius: 8px !important;\n                                position: relative !important;\n                                width: 100% !important;\n                                display: flex !important;\n                                justify-content: center !important;\n                                gap: clamp(16px, 5vw, 48px) !important;\n                                flex-wrap: nowrap !important;\n                                box-sizing: border-box !important;\n                            ",console.log("ðŸŽ“ Crypto distribution display highlighted with yellow dashed border")),t.scrollIntoView({behavior:"smooth",block:"center"})}},300)}},{id:"portfolio_chart",title:"Track Your Portfolio",description:"This chart displays your total net worth over time, including your cash balance and all cryptocurrency holdings. Watch it grow as you expand your mining operation!",targets:["nw-chart-container"],trigger:"manual",nextCondition:()=>!0,highlightClass:"tutorial-highlight",customHighlight:()=>{setTimeout(()=>{const t=document.getElementById("nw-chart-container");t&&(t.style.cssText="\n                            border: 2px dashed #FFD700 !important;\n                            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8) !important;\n                            border-radius: 6px !important;\n                            position: relative !important;\n                            box-sizing: border-box !important;\n                        ",console.log("ðŸŽ“ Portfolio chart highlighted with yellow dashed border"),t.scrollIntoView({behavior:"smooth",block:"center"}))},300)}},{id:"explore_minigames",title:"Discover Minigames",description:"Click the MINIGAMES tab to unlock fun side activities! Earn extra rewards by playing Packet Interceptor, Network Destruction, and more to boost your earnings.",targets:["minigames-tab-btn"],trigger:"manual",nextCondition:()=>!0,highlightClass:"tutorial-highlight",autoAdvance:!0,hideGotItButton:!0,customHighlight:()=>{window.innerWidth<=768&&setTimeout(()=>{const t=document.getElementById("minigames-tab-btn");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},300)}},{id:"tutorial_complete",title:"You're Ready!",description:"Excellent! You've learned the core mechanics. As you mine, you will see your progress towards RUGPULL filling up. Once the goal has been achieved, press the button to be prompted to sacrifice your progress and earn Corrupt Tokensâ€”powerful upgrades that boost your earnings and apply to future playthroughs! Keep buying miners and upgrading power to grow your empire. Good luck!",targets:[],trigger:"manual",nextCondition:()=>!0,highlightClass:""}]};function isNewPlayer(){return!("true"===localStorage.getItem("tutorialCompleted"))}function initTutorial(){if("true"===localStorage.getItem("tutorialCompleted"))return void console.log("ðŸŽ“ Tutorial already completed, skipping");console.log("ðŸŽ“ Checking for in-progress tutorial...");loadTutorialState()?console.log(`ðŸŽ“ Resuming tutorial from step ${tutorialData.currentStep}`):(console.log("ðŸŽ“ Starting new tutorial"),tutorialData.currentStep=0,setTimeout(()=>{const t=document.getElementById("manual-hash-btc-btn");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},300)),showTutorialStep()}function showTutorialStep(){const t=tutorialData.steps[tutorialData.currentStep];if(!t)return void completeTutorial();console.log(`ðŸŽ“ Tutorial Step ${tutorialData.currentStep+1}: ${t.id}`),"manual_hash"===t.id&&window.innerWidth<=768&&setTimeout(()=>{const t=document.getElementById("autoclicker-btn");if(t){const e=t.getBoundingClientRect(),o=window.scrollY+e.top-(window.innerHeight-e.height-300);window.scrollTo({top:o,behavior:"smooth"}),console.log("ðŸŽ“ Step 1 immediate scroll - scrollPos:",o)}},100),removeOldTutorialOverlay();const e=document.createElement("div");e.id="tutorial-overlay";const o=window.innerWidth<=768;e.style.cssText=`\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: transparent;\n        z-index: 9990;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: ${o?"flex-end":"center"};\n        pointer-events: none;\n        ${o?"overflow-y: auto;":""}\n    `;const n=document.createElement("div");n.className="tutorial-card",n.style.cssText=`\n        background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);\n        border: 3px solid #FFD700;\n        border-radius: 12px;\n        padding: 30px;\n        max-width: 500px;\n        width: 90%;\n        text-align: center;\n        box-shadow: 0 0 40px rgba(255, 215, 0, 0.8), 0 0 60px rgba(0, 0, 0, 0.5);\n        animation: slideIn 0.4s ease-out;\n        pointer-events: auto;\n        position: relative;\n        z-index: 9991;\n        ${o?"margin-bottom: 15px; max-height: 45vh; overflow-y: auto;":""}\n    `;const i="manual_hash"===t.id,a="crypto_exchange"===t.id,r="power_button"===t.id,l="buy_power_supply"===t.id,s="buy_usb_miner"===t.id;let d=!1,c=!1;try{i?(c=getTotalCryptoValue()>=30,d=!c):a?(c="undefined"!=typeof dollarBalance&&dollarBalance>=30,d=!c):l?(c="undefined"!=typeof powerUpgrades&&powerUpgrades[0]&&powerUpgrades[0].level>0,d=!c):s&&(c="undefined"!=typeof btcUpgrades&&btcUpgrades[1]&&btcUpgrades[1].level>0,d=!c)}catch(t){console.log("ðŸŽ“ Error checking condition:",t),d=!0}const u=d?"background: rgba(100,100,100,0.3); color: #666; border: none; padding: 10px 20px; border-radius: 6px; cursor: not-allowed; font-weight: 700; opacity: 0.5;":"background: #FFD700; color: #000; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: 700;",p="btc_tab"===t.id,g=r||l||p||s||t.hideGotItButton;n.innerHTML=`\n        <div style="font-size: 2rem; margin-bottom: 15px;">ðŸ‘‹</div>\n        <h2 style="color: #FFD700; margin: 0 0 10px 0; font-size: 1.8rem;">${t.title}</h2>\n        <p style="color: #ccc; font-size: 1rem; line-height: 1.6; margin: 15px 0;">${t.description}</p>\n        <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">\n            <button onclick="skipTutorial()" style="background: rgba(100,100,100,0.5); color: #999; border: 2px solid #666; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: 700;">Skip Tutorial</button>\n            ${g?"":`<button id="tutorial-got-it-btn" onclick="nextTutorialStep(); return false;" style="${u}" ${d?"disabled":""}}>Got It! â†’</button>`}\n        </div>\n    `,e.appendChild(n),document.body.appendChild(e);const h=document.getElementById("tutorial-got-it-btn");if(h&&(h.disabled=d),highlightTargets(t.targets,t.highlightClass),t.customHighlight&&"function"==typeof t.customHighlight&&setTimeout(()=>{t.customHighlight()},50),i){const t=document.getElementById("autoclicker-btn");t&&window.innerWidth<=768&&setTimeout(()=>{const e=t.getBoundingClientRect(),o=window.scrollY+e.top-(window.innerHeight-e.height-300);window.scrollTo({top:o,behavior:"smooth"}),console.log("ðŸŽ“ Step 1 scroll triggered - scrollPos:",o)},800)}else if(a){const t=document.getElementById("crypto-exchange-btn");t&&window.innerWidth<=768&&setTimeout(()=>{const e=t.getBoundingClientRect(),o=window.scrollY+e.top-(window.innerHeight-e.height-350);window.scrollTo({top:o,behavior:"smooth"})},600)}else if(r){const t=document.getElementById("power-upgrade-btn");t&&window.innerWidth<=768&&setTimeout(()=>{const e=t.getBoundingClientRect(),o=window.scrollY+e.top-120;window.scrollTo({top:o,behavior:"smooth"}),console.log("ðŸŽ“ Step 3 scroll triggered - scrollPos:",o)},600)}else if(p){const t=document.getElementById("btc-tab-btn");t&&window.innerWidth<=768&&setTimeout(()=>{const e=t.getBoundingClientRect(),o=window.scrollY+e.top-120;window.scrollTo({top:o,behavior:"smooth"})},600)}else"hashrate_display"===t.id?setTimeout(()=>{const t=document.getElementById("btc-hashrate-bar");t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),console.log("ðŸŽ“ Hashrate display step scroll triggered"))},600):"tutorial_complete"===t.id&&window.innerWidth<=768&&setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),console.log("ðŸŽ“ Step 7 scroll to top triggered")},600)}function highlightTargets(t,e){t.forEach(t=>{const e=document.getElementById(t);e&&(e.classList.add("tutorial-highlight"),e.style.boxShadow="0 0 30px rgba(255, 215, 0, 0.8), inset 0 0 30px rgba(255, 215, 0, 0.2)",e.style.zIndex="9991")})}function removeOldTutorialOverlay(){const t=document.getElementById("tutorial-overlay");t&&t.remove();const e=tutorialData.steps[tutorialData.currentStep],o=e&&"buy_power_supply"===e.id,n=e&&"buy_usb_miner"===e.id;if(document.querySelectorAll(".tutorial-highlight").forEach(t=>{t.classList.remove("tutorial-highlight"),t.style.boxShadow="",t.style.zIndex=""}),document.querySelectorAll("button").forEach(t=>{t.textContent.includes("SELL ALL")&&(t.style.animation="",t.style.boxShadow="",t.style.zIndex="")}),["bal-btc","bal-eth","bal-doge"].forEach(t=>{const e=document.getElementById(t);e&&(e.style.boxShadow="")}),!o){const t=document.getElementById("pow-0");t&&(t.style.boxShadow="",t.style.border="",t.style.zIndex="",t.style.borderRadius="",t.style.outline="",t.style.outlineOffset="",t.style.position="")}if(!n){const t=document.getElementById("up-1");t&&(t.style.boxShadow="",t.style.border="",t.style.zIndex="",t.style.borderRadius="",t.style.outline="",t.style.outlineOffset="",t.style.position="")}if(!(e&&"buy_gpu_rig"===e.id)){["up-1-eth","ue-1","eth-upgrade-1"].forEach(t=>{const e=document.getElementById(t);e&&(e.style.cssText="",e.removeAttribute("style"))}),document.querySelectorAll("button.u-item").forEach(t=>{t.textContent.includes("Single GPU Rig")&&(t.style.cssText="",t.removeAttribute("style"))})}if(!(e&&"buy_scrypt_miner"===e.id)){["up-1-doge","ud-1","doge-upgrade-1"].forEach(t=>{const e=document.getElementById(t);e&&(e.style.cssText="",e.removeAttribute("style"))}),document.querySelectorAll("button.u-item").forEach(t=>{t.textContent.includes("Basic Scrypt Miner")&&(t.style.cssText="",t.removeAttribute("style"))})}if(!(e&&"hashrate_display"===e.id)){const t=document.getElementById("btc-hashrate-bar");if(t){const e=t.parentElement?.parentElement?.parentElement;e&&(e.style.border="",e.style.boxShadow="",e.style.padding="",e.style.borderRadius="",e.style.position="")}}if(!(e&&"crypto_distribution"===e.id)){const t=document.getElementById("btc-bar");if(t){const e=t.parentElement?.parentElement?.parentElement;e&&(e.style.border="",e.style.boxShadow="",e.style.padding="",e.style.borderRadius="",e.style.position="")}}if(!(e&&"portfolio_chart"===e.id)){const t=document.getElementById("nw-chart-container");t&&(t.style.border="",t.style.boxShadow="",t.style.borderRadius="",t.style.position="")}}function nextTutorialStep(){console.log("ðŸŽ“ nextTutorialStep() called");const t=tutorialData.steps[tutorialData.currentStep];t?(console.log(`ðŸŽ“ Current step: ${t.id}, trigger: ${t.trigger}`),console.log(`ðŸŽ“ Advancing from step ${t.id} (button clicked)`),tutorialData.currentStep++,saveTutorialState(),showTutorialStep()):console.log("ðŸŽ“ No step found, tutorial might be complete")}function skipTutorial(){removeOldTutorialOverlay(),tutorialData.completed=!0,localStorage.setItem("tutorialCompleted","true"),localStorage.removeItem("tutorialState"),console.log("ðŸŽ“ Tutorial skipped")}function completeTutorial(){removeOldTutorialOverlay(),tutorialData.completed=!0,localStorage.setItem("tutorialCompleted","true"),localStorage.removeItem("tutorialState"),console.log("ðŸŽ“ Tutorial completed!")}function checkTutorialProgress(){if(tutorialData.completed)return;const t=tutorialData.steps[tutorialData.currentStep];if(t)if("manual_hash"===t.id){const t=getTotalCryptoValue(),e=document.getElementById("tutorial-got-it-btn");e&&(t>=30?(console.log("ðŸŽ“ ENABLING Got It button - earned $30! Setting disabled=false and adding glow."),e.disabled=!1,e.removeAttribute("disabled"),e.setAttribute("style","background: #FFD700 !important; color: #000 !important; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer !important; font-weight: 700; opacity: 1 !important; pointer-events: auto !important; box-shadow: 0 0 20px rgba(255, 215, 0, 0.9), inset 0 0 10px rgba(255, 215, 0, 0.3) !important;"),console.log(`ðŸŽ“ Button now disabled: ${e.disabled}, background: ${e.style.background}`)):(e.disabled=!0,e.setAttribute("disabled","disabled"),e.setAttribute("style","background: rgba(100,100,100,0.3); color: #666; border: none; padding: 10px 20px; border-radius: 6px; cursor: not-allowed; font-weight: 700; opacity: 0.5;")))}else if("crypto_exchange"===t.id){const t=document.getElementById("tutorial-got-it-btn"),e="undefined"!=typeof dollarBalance&&dollarBalance>=30;console.log(`ðŸŽ“ Step 2 button check: dollarBalance=${dollarBalance}, hasCash30Plus=${e}, button exists=${!!t}`),t&&(e?(console.log("ðŸŽ“ ENABLING Got It button - earned $30 cash! Setting disabled=false and adding glow."),t.disabled=!1,t.removeAttribute("disabled"),t.setAttribute("style","background: #FFD700 !important; color: #000 !important; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer !important; font-weight: 700; opacity: 1 !important; pointer-events: auto !important; box-shadow: 0 0 20px rgba(255, 215, 0, 0.9), inset 0 0 10px rgba(255, 215, 0, 0.3) !important;")):(console.log("ðŸŽ“ Step 2: Not enough cash yet. Button greyed out and disabled."),t.disabled=!0,t.setAttribute("disabled","disabled"),t.setAttribute("style","background: rgba(100,100,100,0.3); color: #666; border: none; padding: 10px 20px; border-radius: 6px; cursor: not-allowed; font-weight: 700; opacity: 0.5;")))}else if("buy_power_supply"===t.id){const t=document.getElementById("tutorial-got-it-btn"),e="undefined"!=typeof powerUpgrades&&powerUpgrades[0]&&powerUpgrades[0].level>0;console.log(`ðŸŽ“ Step 4 button check: powerUpgrades[0].level=${powerUpgrades[0]?powerUpgrades[0].level:"undefined"}, hasPowerUpgrade=${e}, button exists=${!!t}`),t&&(e?(console.log("ðŸŽ“ ENABLING Got It button - bought Basic Power Strip! Setting disabled=false and adding glow."),t.disabled=!1,t.removeAttribute("disabled"),t.setAttribute("style","background: #FFD700 !important; color: #000 !important; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer !important; font-weight: 700; opacity: 1 !important; pointer-events: auto !important; box-shadow: 0 0 20px rgba(255, 215, 0, 0.9), inset 0 0 10px rgba(255, 215, 0, 0.3) !important;")):(console.log("ðŸŽ“ Step 4: Basic Power Strip not purchased yet. Button greyed out and disabled."),t.disabled=!0,t.setAttribute("disabled","disabled"),t.setAttribute("style","background: rgba(100,100,100,0.3); color: #666; border: none; padding: 10px 20px; border-radius: 6px; cursor: not-allowed; font-weight: 700; opacity: 0.5;")))}else if("buy_usb_miner"===t.id){const t=document.getElementById("tutorial-got-it-btn"),e="undefined"!=typeof btcUpgrades&&btcUpgrades[1]&&btcUpgrades[1].level>0;console.log(`ðŸŽ“ Step 6 button check: btcUpgrades[1].level=${btcUpgrades[1]?btcUpgrades[1].level:"undefined"}, hasUSBMiner=${e}, button exists=${!!t}`),t&&(e?(console.log("ðŸŽ“ ENABLING Got It button - bought USB Miner! Setting disabled=false and adding glow."),t.disabled=!1,t.removeAttribute("disabled"),t.setAttribute("style","background: #FFD700 !important; color: #000 !important; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer !important; font-weight: 700; opacity: 1 !important; pointer-events: auto !important; box-shadow: 0 0 20px rgba(255, 215, 0, 0.9), inset 0 0 10px rgba(255, 215, 0, 0.3) !important;")):(console.log("ðŸŽ“ Step 6: USB Miner not purchased yet. Button greyed out and disabled."),t.disabled=!0,t.setAttribute("disabled","disabled"),t.setAttribute("style","background: rgba(100,100,100,0.3); color: #666; border: none; padding: 10px 20px; border-radius: 6px; cursor: not-allowed; font-weight: 700; opacity: 0.5;")))}else if("buy_eth_miner"===t.id)tutorialData.ethTabClicked&&(console.log("ðŸŽ“ Step 7: ETH tab clicked! Auto-advancing."),nextTutorialStep());else if("buy_gpu_rig"===t.id){"undefined"!=typeof ethUpgrades&&ethUpgrades[1]&&ethUpgrades[1].level>0&&(console.log("ðŸŽ“ Step 8: Single GPU Rig purchased! Auto-advancing."),nextTutorialStep())}else if("buy_doge_miner"===t.id)tutorialData.dogeTabClicked&&(console.log("ðŸŽ“ Step 9: DOGE tab clicked! Auto-advancing."),nextTutorialStep());else if("buy_scrypt_miner"===t.id){"undefined"!=typeof dogeUpgrades&&dogeUpgrades[1]&&dogeUpgrades[1].level>0&&(console.log("ðŸŽ“ Step 10: Basic Scrypt Miner purchased! Auto-advancing."),nextTutorialStep())}}let manualHashClicks=0;function trackManualHashClick(){manualHashClicks++,manualHashClicks>=3&&(tutorialData.hashClicksDone=!0)}function trackPowerUpgradeClick(){tutorialData.powerUpgradeClicked=!0,saveTutorialState(),tutorialData.completed||2!==tutorialData.currentStep||"power_button"!==tutorialData.steps[2].id||(console.log("ðŸŽ“ Power upgrade button clicked! Advancing tutorial."),nextTutorialStep())}function trackPowerStripPurchase(){tutorialData.completed||3!==tutorialData.currentStep||"buy_power_supply"!==tutorialData.steps[3].id||(console.log("ðŸŽ“ Basic Power Strip purchased! Advancing tutorial."),nextTutorialStep())}function trackBTCTabClick(){tutorialData.btcTabClicked=!0,saveTutorialState(),tutorialData.completed||4!==tutorialData.currentStep||"btc_tab"!==tutorialData.steps[4].id||(console.log("ðŸŽ“ BTC tab clicked! Advancing tutorial."),nextTutorialStep())}function trackETHTabClick(){tutorialData.ethTabClicked=!0,saveTutorialState(),tutorialData.completed||6!==tutorialData.currentStep||"buy_eth_miner"!==tutorialData.steps[6].id||(console.log("ðŸŽ“ ETH tab clicked! Advancing tutorial."),nextTutorialStep())}function trackDOGETabClick(){tutorialData.dogeTabClicked=!0,saveTutorialState(),tutorialData.completed||8!==tutorialData.currentStep||"buy_doge_miner"!==tutorialData.steps[8].id||(console.log("ðŸŽ“ DOGE tab clicked! Advancing tutorial."),nextTutorialStep())}function trackMinigamesTabClick(){tutorialData.completed||13!==tutorialData.currentStep||"explore_minigames"!==tutorialData.steps[13].id||(console.log("ðŸŽ“ Minigames tab clicked! Auto-advancing tutorial."),nextTutorialStep())}function trackUSBMinerPurchase(){tutorialData.completed||5!==tutorialData.currentStep||"buy_usb_miner"!==tutorialData.steps[5].id||(console.log("ðŸŽ“ USB Miner purchased! Advancing tutorial."),nextTutorialStep())}function trackGPURigPurchase(){if(!tutorialData.completed&&7===tutorialData.currentStep&&"buy_gpu_rig"===tutorialData.steps[7].id){console.log("ðŸŽ“ Single GPU Rig purchased! Advancing tutorial.");["up-1-eth","ue-1","eth-upgrade-1"].forEach(t=>{const e=document.getElementById(t);e&&(e.style.cssText="",e.removeAttribute("style"))}),document.querySelectorAll("button.u-item").forEach(t=>{t.textContent.includes("Single GPU Rig")&&(t.style.cssText="",t.removeAttribute("style"))}),nextTutorialStep()}}function trackScryptMinerPurchase(){if(!tutorialData.completed&&9===tutorialData.currentStep&&"buy_scrypt_miner"===tutorialData.steps[9].id){console.log("ðŸŽ“ Basic Scrypt Miner purchased! Advancing tutorial.");["up-1-doge","ud-1","doge-upgrade-1"].forEach(t=>{const e=document.getElementById(t);e&&(e.style.cssText="",e.removeAttribute("style"))}),document.querySelectorAll("button.u-item").forEach(t=>{t.textContent.includes("Basic Scrypt Miner")&&(t.style.cssText="",t.removeAttribute("style"))}),nextTutorialStep()}}const tutorialStyles="\n    @keyframes slideIn {\n        from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-30px);\n        }\n        to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n        }\n    }\n\n    .tutorial-highlight {\n        position: relative;\n        transition: all 0.3s ease;\n    }\n\n    .tutorial-highlight::before {\n        content: '';\n        position: absolute;\n        top: -5px;\n        left: -5px;\n        right: -5px;\n        bottom: -5px;\n        border: 2px dashed #FFD700;\n        border-radius: 8px;\n        animation: pulse 1s infinite;\n        pointer-events: none;\n    }\n\n    @keyframes pulse {\n        0%, 100% {\n            box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7);\n        }\n        50% {\n            box-shadow: 0 0 0 10px rgba(255, 215, 0, 0);\n        }\n    }\n\n    .tutorial-highlight-urgent {\n        animation: wiggle 0.5s infinite;\n    }\n\n    @keyframes wiggle {\n        0%, 100% { transform: rotate(0deg); }\n        25% { transform: rotate(-2deg); }\n        75% { transform: rotate(2deg); }\n    }\n\n    @keyframes tutorial-flash {\n        0%, 100% {\n            box-shadow: 0 0 10px rgba(255, 215, 0, 0.4);\n        }\n        50% {\n            box-shadow: 0 0 30px rgba(255, 215, 0, 1);\n        }\n    }\n\n\n    /* Mobile responsive styles */\n    @media (max-width: 768px) {\n        .tutorial-card {\n            max-width: 90vw !important;\n            padding: 20px !important;\n        }\n\n        .tutorial-card h2 {\n            font-size: 1.4rem !important;\n        }\n\n        .tutorial-card p {\n            font-size: 0.9rem !important;\n            line-height: 1.4 !important;\n        }\n\n        .tutorial-card button {\n            font-size: 0.85rem !important;\n            padding: 8px 15px !important;\n        }\n\n        .tutorial-card > div:first-child {\n            font-size: 1.5rem !important;\n        }\n    }\n\n    @media (max-width: 480px) {\n        .tutorial-card {\n            max-width: 95vw !important;\n            padding: 15px !important;\n        }\n\n        .tutorial-card h2 {\n            font-size: 1.2rem !important;\n        }\n\n        .tutorial-card p {\n            font-size: 0.85rem !important;\n            margin: 10px 0 !important;\n        }\n\n        .tutorial-card button {\n            font-size: 0.75rem !important;\n            padding: 6px 12px !important;\n            flex: 1;\n        }\n\n        .tutorial-card > div:first-child {\n            font-size: 1.2rem !important;\n            margin-bottom: 10px !important;\n        }\n\n        .tutorial-card > div:last-child {\n            font-size: 0.7rem !important;\n            margin-top: 10px !important;\n        }\n    }\n",styleSheet=document.createElement("style");styleSheet.textContent=tutorialStyles,document.head.appendChild(styleSheet);